var hv=t=>{throw TypeError(t)};var Jh=(t,e,r)=>e.has(t)||hv("Cannot "+r);var N=(t,e,r)=>(Jh(t,e,"read from private field"),r?r.call(t):e.get(t)),je=(t,e,r)=>e.has(t)?hv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),de=(t,e,r,n)=>(Jh(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Me=(t,e,r)=>(Jh(t,e,"access private method"),r);var Bc=(t,e,r,n)=>({set _(s){de(t,e,s,r)},get _(){return N(t,e,n)}});function Q_(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _c(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var J_={exports:{}},Yd={},Z_={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=Symbol.for("react.element"),XN=Symbol.for("react.portal"),e1=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),r1=Symbol.for("react.profiler"),n1=Symbol.for("react.provider"),s1=Symbol.for("react.context"),i1=Symbol.for("react.forward_ref"),o1=Symbol.for("react.suspense"),a1=Symbol.for("react.memo"),l1=Symbol.for("react.lazy"),fv=Symbol.iterator;function c1(t){return t===null||typeof t!="object"?null:(t=fv&&t[fv]||t["@@iterator"],typeof t=="function"?t:null)}var Y_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X_=Object.assign,e0={};function Ga(t,e,r){this.props=t,this.context=e,this.refs=e0,this.updater=r||Y_}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t0(){}t0.prototype=Ga.prototype;function cg(t,e,r){this.props=t,this.context=e,this.refs=e0,this.updater=r||Y_}var ug=cg.prototype=new t0;ug.constructor=cg;X_(ug,Ga.prototype);ug.isPureReactComponent=!0;var pv=Array.isArray,r0=Object.prototype.hasOwnProperty,dg={current:null},n0={key:!0,ref:!0,__self:!0,__source:!0};function s0(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)r0.call(e,n)&&!n0.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:bc,type:t,key:i,ref:a,props:s,_owner:dg.current}}function u1(t,e){return{$$typeof:bc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===bc}function d1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var mv=/\/+/g;function Zh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?d1(""+t.key):e.toString(36)}function Eu(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bc:case XN:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Zh(a,0):n,pv(s)?(r="",t!=null&&(r=t.replace(mv,"$&/")+"/"),Eu(s,e,r,"",function(u){return u})):s!=null&&(hg(s)&&(s=u1(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(mv,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",pv(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+Zh(i,l);a+=Eu(i,e,r,c,s)}else if(c=c1(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+Zh(i,l++),a+=Eu(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function zc(t,e,r){if(t==null)return t;var n=[],s=0;return Eu(t,n,"","",function(i){return e.call(r,i,s++)}),n}function h1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br={current:null},Cu={transition:null},f1={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:Cu,ReactCurrentOwner:dg};function i0(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:zc,forEach:function(t,e,r){zc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zc(t,function(){e++}),e},toArray:function(t){return zc(t,function(e){return e})||[]},only:function(t){if(!hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Ga;ze.Fragment=e1;ze.Profiler=r1;ze.PureComponent=cg;ze.StrictMode=t1;ze.Suspense=o1;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f1;ze.act=i0;ze.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=X_({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=dg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)r0.call(e,c)&&!n0.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bc,type:t.type,key:s,ref:i,props:n,_owner:a}};ze.createContext=function(t){return t={$$typeof:s1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:n1,_context:t},t.Consumer=t};ze.createElement=s0;ze.createFactory=function(t){var e=s0.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:i1,render:t}};ze.isValidElement=hg;ze.lazy=function(t){return{$$typeof:l1,_payload:{_status:-1,_result:t},_init:h1}};ze.memo=function(t,e){return{$$typeof:a1,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=Cu.transition;Cu.transition={};try{t()}finally{Cu.transition=e}};ze.unstable_act=i0;ze.useCallback=function(t,e){return br.current.useCallback(t,e)};ze.useContext=function(t){return br.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return br.current.useDeferredValue(t)};ze.useEffect=function(t,e){return br.current.useEffect(t,e)};ze.useId=function(){return br.current.useId()};ze.useImperativeHandle=function(t,e,r){return br.current.useImperativeHandle(t,e,r)};ze.useInsertionEffect=function(t,e){return br.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return br.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return br.current.useMemo(t,e)};ze.useReducer=function(t,e,r){return br.current.useReducer(t,e,r)};ze.useRef=function(t){return br.current.useRef(t)};ze.useState=function(t){return br.current.useState(t)};ze.useSyncExternalStore=function(t,e,r){return br.current.useSyncExternalStore(t,e,r)};ze.useTransition=function(){return br.current.useTransition()};ze.version="18.3.1";Z_.exports=ze;var f=Z_.exports;const ge=lg(f),Xd=Q_({__proto__:null,default:ge},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1=f,m1=Symbol.for("react.element"),g1=Symbol.for("react.fragment"),y1=Object.prototype.hasOwnProperty,v1=p1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x1={key:!0,ref:!0,__self:!0,__source:!0};function o0(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)y1.call(e,n)&&!x1.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:m1,type:t,key:i,ref:a,props:s,_owner:v1.current}}Yd.Fragment=g1;Yd.jsx=o0;Yd.jsxs=o0;J_.exports=Yd;var o=J_.exports,np={},a0={exports:{}},Zr={},l0={exports:{}},c0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,Q){var ie=P.length;P.push(Q);e:for(;0<ie;){var $=ie-1>>>1,K=P[$];if(0<s(K,Q))P[$]=Q,P[ie]=K,ie=$;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var Q=P[0],ie=P.pop();if(ie!==Q){P[0]=ie;e:for(var $=0,K=P.length,he=K>>>1;$<he;){var Oe=2*($+1)-1,q=P[Oe],X=Oe+1,ne=P[X];if(0>s(q,ie))X<K&&0>s(ne,q)?(P[$]=ne,P[X]=ie,$=X):(P[$]=q,P[Oe]=ie,$=Oe);else if(X<K&&0>s(ne,ie))P[$]=ne,P[X]=ie,$=X;else break e}}return Q}function s(P,Q){var ie=P.sortIndex-Q.sortIndex;return ie!==0?ie:P.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,v=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(P){for(var Q=r(u);Q!==null;){if(Q.callback===null)n(u);else if(Q.startTime<=P)n(u),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=r(u)}}function b(P){if(m=!1,_(P),!g)if(r(c)!==null)g=!0,J(j);else{var Q=r(u);Q!==null&&ce(b,Q.startTime-P)}}function j(P,Q){g=!1,m&&(m=!1,w(R),R=-1),v=!0;var ie=p;try{for(_(Q),h=r(c);h!==null&&(!(h.expirationTime>Q)||P&&!C());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var K=$(h.expirationTime<=Q);Q=t.unstable_now(),typeof K=="function"?h.callback=K:h===r(c)&&n(c),_(Q)}else n(c);h=r(c)}if(h!==null)var he=!0;else{var Oe=r(u);Oe!==null&&ce(b,Oe.startTime-Q),he=!1}return he}finally{h=null,p=ie,v=!1}}var E=!1,S=null,R=-1,D=5,T=-1;function C(){return!(t.unstable_now()-T<D)}function A(){if(S!==null){var P=t.unstable_now();T=P;var Q=!0;try{Q=S(!0,P)}finally{Q?F():(E=!1,S=null)}}else E=!1}var F;if(typeof x=="function")F=function(){x(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,H=z.port2;z.port1.onmessage=A,F=function(){H.postMessage(null)}}else F=function(){y(A,0)};function J(P){S=P,E||(E=!0,F())}function ce(P,Q){R=y(function(){P(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,J(j))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var ie=p;p=Q;try{return P()}finally{p=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,Q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ie=p;p=P;try{return Q()}finally{p=ie}},t.unstable_scheduleCallback=function(P,Q,ie){var $=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?$+ie:$):ie=$,P){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ie+K,P={id:d++,callback:Q,priorityLevel:P,startTime:ie,expirationTime:K,sortIndex:-1},ie>$?(P.sortIndex=ie,e(u,P),r(c)===null&&P===r(u)&&(m?(w(R),R=-1):m=!0,ce(b,ie-$))):(P.sortIndex=K,e(c,P),g||v||(g=!0,J(j))),P},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(P){var Q=p;return function(){var ie=p;p=Q;try{return P.apply(this,arguments)}finally{p=ie}}}})(c0);l0.exports=c0;var w1=l0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1=f,Hr=w1;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u0=new Set,zl={};function Eo(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(zl[t]=e,t=0;t<e.length;t++)u0.add(e[t])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=Object.prototype.hasOwnProperty,b1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gv={},yv={};function j1(t){return sp.call(yv,t)?!0:sp.call(gv,t)?!1:b1.test(t)?yv[t]=!0:(gv[t]=!0,!1)}function S1(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E1(t,e,r,n){if(e===null||typeof e>"u"||S1(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jr(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tr[t]=new jr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tr[e]=new jr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tr[t]=new jr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tr[t]=new jr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tr[t]=new jr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tr[t]=new jr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tr[t]=new jr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tr[t]=new jr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tr[t]=new jr(t,5,!1,t.toLowerCase(),null,!1,!1)});var fg=/[\-:]([a-z])/g;function pg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fg,pg);tr[e]=new jr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fg,pg);tr[e]=new jr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fg,pg);tr[e]=new jr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tr[t]=new jr(t,1,!1,t.toLowerCase(),null,!1,!1)});tr.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tr[t]=new jr(t,1,!1,t.toLowerCase(),null,!0,!0)});function mg(t,e,r,n){var s=tr.hasOwnProperty(e)?tr[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(E1(e,r,s,n)&&(r=null),n||s===null?j1(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var bs=_1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),gg=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),h0=Symbol.for("react.context"),yg=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),vg=Symbol.for("react.memo"),Is=Symbol.for("react.lazy"),f0=Symbol.for("react.offscreen"),vv=Symbol.iterator;function dl(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Yh;function jl(t){if(Yh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Yh=e&&e[1]||""}return`
`+Yh+t}var Xh=!1;function ef(t,e){if(!t||Xh)return"";Xh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Xh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?jl(t):""}function C1(t){switch(t.tag){case 5:return jl(t.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 2:case 15:return t=ef(t.type,!1),t;case 11:return t=ef(t.type.render,!1),t;case 1:return t=ef(t.type,!0),t;default:return""}}function lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case qo:return"Portal";case ip:return"Profiler";case gg:return"StrictMode";case op:return"Suspense";case ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h0:return(t.displayName||"Context")+".Consumer";case d0:return(t._context.displayName||"Context")+".Provider";case yg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vg:return e=t.displayName||null,e!==null?e:lp(t.type)||"Memo";case Is:e=t._payload,t=t._init;try{return lp(t(e))}catch{}}return null}function k1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(e);case 8:return e===gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function p0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N1(t){var e=p0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=N1(t))}function m0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=p0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cp(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function xv(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=di(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g0(t,e){e=e.checked,e!=null&&mg(t,"checked",e,!1)}function up(t,e){g0(t,e);var r=di(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dp(t,e.type,r):e.hasOwnProperty("defaultValue")&&dp(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wv(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function dp(t,e,r){(e!=="number"||Zu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Sl=Array.isArray;function sa(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+di(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _v(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Sl(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:di(r)}}function y0(t,e){var r=di(e.value),n=di(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function bv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function v0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?v0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hc,x0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T1=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(t){T1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pl[e]=Pl[t]})});function w0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Pl.hasOwnProperty(t)&&Pl[t]?(""+e).trim():e+"px"}function _0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=w0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var R1=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(t,e){if(e){if(R1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yp=null,ia=null,oa=null;function jv(t){if(t=Ec(t)){if(typeof yp!="function")throw Error(te(280));var e=t.stateNode;e&&(e=sh(e),yp(t.stateNode,t.type,e))}}function b0(t){ia?oa?oa.push(t):oa=[t]:ia=t}function j0(){if(ia){var t=ia,e=oa;if(oa=ia=null,jv(t),e)for(t=0;t<e.length;t++)jv(e[t])}}function S0(t,e){return t(e)}function E0(){}var tf=!1;function C0(t,e,r){if(tf)return t(e,r);tf=!0;try{return S0(t,e,r)}finally{tf=!1,(ia!==null||oa!==null)&&(E0(),j0())}}function ql(t,e){var r=t.stateNode;if(r===null)return null;var n=sh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var vp=!1;if(ms)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){vp=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{vp=!1}function O1(t,e,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Il=!1,Yu=null,Xu=!1,xp=null,A1={onError:function(t){Il=!0,Yu=t}};function P1(t,e,r,n,s,i,a,l,c){Il=!1,Yu=null,O1.apply(A1,arguments)}function I1(t,e,r,n,s,i,a,l,c){if(P1.apply(this,arguments),Il){if(Il){var u=Yu;Il=!1,Yu=null}else throw Error(te(198));Xu||(Xu=!0,xp=u)}}function Co(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function k0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sv(t){if(Co(t)!==t)throw Error(te(188))}function D1(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Sv(s),t;if(i===n)return Sv(s),e;i=i.sibling}throw Error(te(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function N0(t){return t=D1(t),t!==null?T0(t):null}function T0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=T0(t);if(e!==null)return e;t=t.sibling}return null}var R0=Hr.unstable_scheduleCallback,Ev=Hr.unstable_cancelCallback,$1=Hr.unstable_shouldYield,L1=Hr.unstable_requestPaint,Dt=Hr.unstable_now,F1=Hr.unstable_getCurrentPriorityLevel,wg=Hr.unstable_ImmediatePriority,O0=Hr.unstable_UserBlockingPriority,ed=Hr.unstable_NormalPriority,M1=Hr.unstable_LowPriority,A0=Hr.unstable_IdlePriority,eh=null,Kn=null;function U1(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(eh,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:z1,V1=Math.log,B1=Math.LN2;function z1(t){return t>>>=0,t===0?32:31-(V1(t)/B1|0)|0}var Kc=64,Gc=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function td(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=El(l):(i&=a,i!==0&&(n=El(i)))}else a=r&~s,a!==0?n=El(a):i!==0&&(n=El(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-kn(e),s=1<<r,n|=t[r],e&=~s;return n}function W1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q1(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-kn(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=W1(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function wp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P0(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function rf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function jc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=r}function H1(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-kn(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function _g(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-kn(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var it=0;function I0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D0,bg,$0,L0,F0,_p=!1,Qc=[],Xs=null,ei=null,ti=null,Hl=new Map,Kl=new Map,Ls=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cv(t,e){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(e.pointerId)}}function fl(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ec(e),e!==null&&bg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function G1(t,e,r,n,s){switch(e){case"focusin":return Xs=fl(Xs,t,e,r,n,s),!0;case"dragenter":return ei=fl(ei,t,e,r,n,s),!0;case"mouseover":return ti=fl(ti,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Hl.set(i,fl(Hl.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Kl.set(i,fl(Kl.get(i)||null,t,e,r,n,s)),!0}return!1}function M0(t){var e=zi(t.target);if(e!==null){var r=Co(e);if(r!==null){if(e=r.tag,e===13){if(e=k0(r),e!==null){t.blockedOn=e,F0(t.priority,function(){$0(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);gp=n,r.target.dispatchEvent(n),gp=null}else return e=Ec(r),e!==null&&bg(e),t.blockedOn=r,!1;e.shift()}return!0}function kv(t,e,r){ku(t)&&r.delete(e)}function Q1(){_p=!1,Xs!==null&&ku(Xs)&&(Xs=null),ei!==null&&ku(ei)&&(ei=null),ti!==null&&ku(ti)&&(ti=null),Hl.forEach(kv),Kl.forEach(kv)}function pl(t,e){t.blockedOn===e&&(t.blockedOn=null,_p||(_p=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,Q1)))}function Gl(t){function e(s){return pl(s,t)}if(0<Qc.length){pl(Qc[0],t);for(var r=1;r<Qc.length;r++){var n=Qc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Xs!==null&&pl(Xs,t),ei!==null&&pl(ei,t),ti!==null&&pl(ti,t),Hl.forEach(e),Kl.forEach(e),r=0;r<Ls.length;r++)n=Ls[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ls.length&&(r=Ls[0],r.blockedOn===null);)M0(r),r.blockedOn===null&&Ls.shift()}var aa=bs.ReactCurrentBatchConfig,rd=!0;function J1(t,e,r,n){var s=it,i=aa.transition;aa.transition=null;try{it=1,jg(t,e,r,n)}finally{it=s,aa.transition=i}}function Z1(t,e,r,n){var s=it,i=aa.transition;aa.transition=null;try{it=4,jg(t,e,r,n)}finally{it=s,aa.transition=i}}function jg(t,e,r,n){if(rd){var s=bp(t,e,r,n);if(s===null)ff(t,e,n,nd,r),Cv(t,n);else if(G1(s,t,e,r,n))n.stopPropagation();else if(Cv(t,n),e&4&&-1<K1.indexOf(t)){for(;s!==null;){var i=Ec(s);if(i!==null&&D0(i),i=bp(t,e,r,n),i===null&&ff(t,e,n,nd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ff(t,e,n,null,r)}}var nd=null;function bp(t,e,r,n){if(nd=null,t=xg(n),t=zi(t),t!==null)if(e=Co(t),e===null)t=null;else if(r=e.tag,r===13){if(t=k0(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nd=t,null}function U0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F1()){case wg:return 1;case O0:return 4;case ed:case M1:return 16;case A0:return 536870912;default:return 16}default:return 16}}var Js=null,Sg=null,Nu=null;function V0(){if(Nu)return Nu;var t,e=Sg,r=e.length,n,s="value"in Js?Js.value:Js.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Nu=s.slice(t,1<n?1-n:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jc(){return!0}function Nv(){return!1}function Yr(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jc:Nv,this.isPropagationStopped=Nv,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),e}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eg=Yr(Qa),Sc=St({},Qa,{view:0,detail:0}),Y1=Yr(Sc),nf,sf,ml,th=St({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ml&&(ml&&t.type==="mousemove"?(nf=t.screenX-ml.screenX,sf=t.screenY-ml.screenY):sf=nf=0,ml=t),nf)},movementY:function(t){return"movementY"in t?t.movementY:sf}}),Tv=Yr(th),X1=St({},th,{dataTransfer:0}),eT=Yr(X1),tT=St({},Sc,{relatedTarget:0}),of=Yr(tT),rT=St({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),nT=Yr(rT),sT=St({},Qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iT=Yr(sT),oT=St({},Qa,{data:0}),Rv=Yr(oT),aT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cT[t])?!!e[t]:!1}function Cg(){return uT}var dT=St({},Sc,{key:function(t){if(t.key){var e=aT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hT=Yr(dT),fT=St({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ov=Yr(fT),pT=St({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),mT=Yr(pT),gT=St({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),yT=Yr(gT),vT=St({},th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xT=Yr(vT),wT=[9,13,27,32],kg=ms&&"CompositionEvent"in window,Dl=null;ms&&"documentMode"in document&&(Dl=document.documentMode);var _T=ms&&"TextEvent"in window&&!Dl,B0=ms&&(!kg||Dl&&8<Dl&&11>=Dl),Av=" ",Pv=!1;function z0(t,e){switch(t){case"keyup":return wT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function bT(t,e){switch(t){case"compositionend":return W0(e);case"keypress":return e.which!==32?null:(Pv=!0,Av);case"textInput":return t=e.data,t===Av&&Pv?null:t;default:return null}}function jT(t,e){if(Ko)return t==="compositionend"||!kg&&z0(t,e)?(t=V0(),Nu=Sg=Js=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B0&&e.locale!=="ko"?null:e.data;default:return null}}var ST={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ST[t.type]:e==="textarea"}function q0(t,e,r,n){b0(n),e=sd(e,"onChange"),0<e.length&&(r=new Eg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $l=null,Ql=null;function ET(t){rb(t,0)}function rh(t){var e=Jo(t);if(m0(e))return t}function CT(t,e){if(t==="change")return e}var H0=!1;if(ms){var af;if(ms){var lf="oninput"in document;if(!lf){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),lf=typeof Dv.oninput=="function"}af=lf}else af=!1;H0=af&&(!document.documentMode||9<document.documentMode)}function $v(){$l&&($l.detachEvent("onpropertychange",K0),Ql=$l=null)}function K0(t){if(t.propertyName==="value"&&rh(Ql)){var e=[];q0(e,Ql,t,xg(t)),C0(ET,e)}}function kT(t,e,r){t==="focusin"?($v(),$l=e,Ql=r,$l.attachEvent("onpropertychange",K0)):t==="focusout"&&$v()}function NT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rh(Ql)}function TT(t,e){if(t==="click")return rh(e)}function RT(t,e){if(t==="input"||t==="change")return rh(e)}function OT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:OT;function Jl(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!sp.call(e,s)||!Rn(t[s],e[s]))return!1}return!0}function Lv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fv(t,e){var r=Lv(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lv(r)}}function G0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Q0(){for(var t=window,e=Zu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zu(t.document)}return e}function Ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AT(t){var e=Q0(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&G0(r.ownerDocument.documentElement,r)){if(n!==null&&Ng(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Fv(r,i);var a=Fv(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PT=ms&&"documentMode"in document&&11>=document.documentMode,Go=null,jp=null,Ll=null,Sp=!1;function Mv(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sp||Go==null||Go!==Zu(n)||(n=Go,"selectionStart"in n&&Ng(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ll&&Jl(Ll,n)||(Ll=n,n=sd(jp,"onSelect"),0<n.length&&(e=new Eg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Go)))}function Zc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qo={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},cf={},J0={};ms&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function nh(t){if(cf[t])return cf[t];if(!Qo[t])return t;var e=Qo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in J0)return cf[t]=e[r];return t}var Z0=nh("animationend"),Y0=nh("animationiteration"),X0=nh("animationstart"),eb=nh("transitionend"),tb=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(t,e){tb.set(t,e),Eo(e,[t])}for(var uf=0;uf<Uv.length;uf++){var df=Uv[uf],IT=df.toLowerCase(),DT=df[0].toUpperCase()+df.slice(1);yi(IT,"on"+DT)}yi(Z0,"onAnimationEnd");yi(Y0,"onAnimationIteration");yi(X0,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(eb,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function Vv(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,I1(n,e,void 0,t),t.currentTarget=null}function rb(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Vv(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Vv(s,l,u),i=c}}}if(Xu)throw t=xp,Xu=!1,xp=null,t}function pt(t,e){var r=e[Tp];r===void 0&&(r=e[Tp]=new Set);var n=t+"__bubble";r.has(n)||(nb(e,t,2,!1),r.add(n))}function hf(t,e,r){var n=0;e&&(n|=4),nb(r,t,n,e)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[Yc]){t[Yc]=!0,u0.forEach(function(r){r!=="selectionchange"&&($T.has(r)||hf(r,!1,t),hf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yc]||(e[Yc]=!0,hf("selectionchange",!1,e))}}function nb(t,e,r,n){switch(U0(e)){case 1:var s=J1;break;case 4:s=Z1;break;default:s=jg}r=s.bind(null,e,r,t),s=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ff(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=zi(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}C0(function(){var u=i,d=xg(r),h=[];e:{var p=tb.get(t);if(p!==void 0){var v=Eg,g=t;switch(t){case"keypress":if(Tu(r)===0)break e;case"keydown":case"keyup":v=hT;break;case"focusin":g="focus",v=of;break;case"focusout":g="blur",v=of;break;case"beforeblur":case"afterblur":v=of;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=eT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=mT;break;case Z0:case Y0:case X0:v=nT;break;case eb:v=yT;break;case"scroll":v=Y1;break;case"wheel":v=xT;break;case"copy":case"cut":case"paste":v=iT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ov}var m=(e&4)!==0,y=!m&&t==="scroll",w=m?p!==null?p+"Capture":null:p;m=[];for(var x=u,_;x!==null;){_=x;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,w!==null&&(b=ql(x,w),b!=null&&m.push(Yl(x,b,_)))),y)break;x=x.return}0<m.length&&(p=new v(p,g,null,r,d),h.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&r!==gp&&(g=r.relatedTarget||r.fromElement)&&(zi(g)||g[gs]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(g=r.relatedTarget||r.toElement,v=u,g=g?zi(g):null,g!==null&&(y=Co(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(m=Tv,b="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=Ov,b="onPointerLeave",w="onPointerEnter",x="pointer"),y=v==null?p:Jo(v),_=g==null?p:Jo(g),p=new m(b,x+"leave",v,r,d),p.target=y,p.relatedTarget=_,b=null,zi(d)===u&&(m=new m(w,x+"enter",g,r,d),m.target=_,m.relatedTarget=y,b=m),y=b,v&&g)t:{for(m=v,w=g,x=0,_=m;_;_=Ao(_))x++;for(_=0,b=w;b;b=Ao(b))_++;for(;0<x-_;)m=Ao(m),x--;for(;0<_-x;)w=Ao(w),_--;for(;x--;){if(m===w||w!==null&&m===w.alternate)break t;m=Ao(m),w=Ao(w)}m=null}else m=null;v!==null&&Bv(h,p,v,m,!1),g!==null&&y!==null&&Bv(h,y,g,m,!0)}}e:{if(p=u?Jo(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var j=CT;else if(Iv(p))if(H0)j=RT;else{j=NT;var E=kT}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=TT);if(j&&(j=j(t,u))){q0(h,j,r,d);break e}E&&E(t,p,u),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&dp(p,"number",p.value)}switch(E=u?Jo(u):window,t){case"focusin":(Iv(E)||E.contentEditable==="true")&&(Go=E,jp=u,Ll=null);break;case"focusout":Ll=jp=Go=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,Mv(h,r,d);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":Mv(h,r,d)}var S;if(kg)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ko?z0(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(B0&&r.locale!=="ko"&&(Ko||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ko&&(S=V0()):(Js=d,Sg="value"in Js?Js.value:Js.textContent,Ko=!0)),E=sd(u,R),0<E.length&&(R=new Rv(R,t,null,r,d),h.push({event:R,listeners:E}),S?R.data=S:(S=W0(r),S!==null&&(R.data=S)))),(S=_T?bT(t,r):jT(t,r))&&(u=sd(u,"onBeforeInput"),0<u.length&&(d=new Rv("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}rb(h,e)})}function Yl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function sd(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ql(t,r),i!=null&&n.unshift(Yl(t,i,s)),i=ql(t,e),i!=null&&n.push(Yl(t,i,s))),t=t.return}return n}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bv(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ql(r,i),c!=null&&a.unshift(Yl(r,c,l))):s||(c=ql(r,i),c!=null&&a.push(Yl(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var LT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(LT,`
`).replace(FT,"")}function Xc(t,e,r){if(e=zv(e),zv(t)!==e&&r)throw Error(te(425))}function id(){}var Ep=null,Cp=null;function kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(t){return Wv.resolve(null).then(t).catch(VT)}:Np;function VT(t){setTimeout(function(){throw t})}function pf(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Gl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Gl(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Ja,Xl="__reactProps$"+Ja,gs="__reactContainer$"+Ja,Tp="__reactEvents$"+Ja,BT="__reactListeners$"+Ja,zT="__reactHandles$"+Ja;function zi(t){var e=t[Wn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gs]||r[Wn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=qv(t);t!==null;){if(r=t[Wn])return r;t=qv(t)}return e}t=r,r=t.parentNode}return null}function Ec(t){return t=t[Wn]||t[gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function sh(t){return t[Xl]||null}var Rp=[],Zo=-1;function vi(t){return{current:t}}function gt(t){0>Zo||(t.current=Rp[Zo],Rp[Zo]=null,Zo--)}function dt(t,e){Zo++,Rp[Zo]=t.current,t.current=e}var hi={},fr=vi(hi),Pr=vi(!1),co=hi;function Oa(t,e){var r=t.type.contextTypes;if(!r)return hi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ir(t){return t=t.childContextTypes,t!=null}function od(){gt(Pr),gt(fr)}function Hv(t,e,r){if(fr.current!==hi)throw Error(te(168));dt(fr,e),dt(Pr,r)}function sb(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(te(108,k1(t)||"Unknown",s));return St({},r,n)}function ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,co=fr.current,dt(fr,t),dt(Pr,Pr.current),!0}function Kv(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=sb(t,e,co),n.__reactInternalMemoizedMergedChildContext=t,gt(Pr),gt(fr),dt(fr,t)):gt(Pr),dt(Pr,r)}var is=null,ih=!1,mf=!1;function ib(t){is===null?is=[t]:is.push(t)}function WT(t){ih=!0,ib(t)}function xi(){if(!mf&&is!==null){mf=!0;var t=0,e=it;try{var r=is;for(it=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}is=null,ih=!1}catch(s){throw is!==null&&(is=is.slice(t+1)),R0(wg,xi),s}finally{it=e,mf=!1}}return null}var Yo=[],Xo=0,ld=null,cd=0,sn=[],on=0,uo=null,us=1,ds="";function Di(t,e){Yo[Xo++]=cd,Yo[Xo++]=ld,ld=t,cd=e}function ob(t,e,r){sn[on++]=us,sn[on++]=ds,sn[on++]=uo,uo=t;var n=us;t=ds;var s=32-kn(n)-1;n&=~(1<<s),r+=1;var i=32-kn(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,us=1<<32-kn(e)+s|r<<s|n,ds=i+t}else us=1<<i|r<<s|n,ds=t}function Tg(t){t.return!==null&&(Di(t,1),ob(t,1,0))}function Rg(t){for(;t===ld;)ld=Yo[--Xo],Yo[Xo]=null,cd=Yo[--Xo],Yo[Xo]=null;for(;t===uo;)uo=sn[--on],sn[on]=null,ds=sn[--on],sn[on]=null,us=sn[--on],sn[on]=null}var Wr=null,zr=null,vt=!1,Sn=null;function ab(t,e){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Gv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,zr=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=uo!==null?{id:us,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wr=t,zr=null,!0):!1;default:return!1}}function Op(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ap(t){if(vt){var e=zr;if(e){var r=e;if(!Gv(t,e)){if(Op(t))throw Error(te(418));e=ri(r.nextSibling);var n=Wr;e&&Gv(t,e)?ab(n,r):(t.flags=t.flags&-4097|2,vt=!1,Wr=t)}}else{if(Op(t))throw Error(te(418));t.flags=t.flags&-4097|2,vt=!1,Wr=t}}}function Qv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function eu(t){if(t!==Wr)return!1;if(!vt)return Qv(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kp(t.type,t.memoizedProps)),e&&(e=zr)){if(Op(t))throw lb(),Error(te(418));for(;e;)ab(t,e),e=ri(e.nextSibling)}if(Qv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){zr=ri(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=Wr?ri(t.stateNode.nextSibling):null;return!0}function lb(){for(var t=zr;t;)t=ri(t.nextSibling)}function Aa(){zr=Wr=null,vt=!1}function Og(t){Sn===null?Sn=[t]:Sn.push(t)}var qT=bs.ReactCurrentBatchConfig;function gl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jv(t){var e=t._init;return e(t._payload)}function cb(t){function e(w,x){if(t){var _=w.deletions;_===null?(w.deletions=[x],w.flags|=16):_.push(x)}}function r(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=oi(w,x),w.index=0,w.sibling=null,w}function i(w,x,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<x?(w.flags|=2,x):_):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,x,_,b){return x===null||x.tag!==6?(x=bf(_,w.mode,b),x.return=w,x):(x=s(x,_),x.return=w,x)}function c(w,x,_,b){var j=_.type;return j===Ho?d(w,x,_.props.children,b,_.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Is&&Jv(j)===x.type)?(b=s(x,_.props),b.ref=gl(w,x,_),b.return=w,b):(b=$u(_.type,_.key,_.props,null,w.mode,b),b.ref=gl(w,x,_),b.return=w,b)}function u(w,x,_,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=jf(_,w.mode,b),x.return=w,x):(x=s(x,_.children||[]),x.return=w,x)}function d(w,x,_,b,j){return x===null||x.tag!==7?(x=oo(_,w.mode,b,j),x.return=w,x):(x=s(x,_),x.return=w,x)}function h(w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=bf(""+x,w.mode,_),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wc:return _=$u(x.type,x.key,x.props,null,w.mode,_),_.ref=gl(w,null,x),_.return=w,_;case qo:return x=jf(x,w.mode,_),x.return=w,x;case Is:var b=x._init;return h(w,b(x._payload),_)}if(Sl(x)||dl(x))return x=oo(x,w.mode,_,null),x.return=w,x;tu(w,x)}return null}function p(w,x,_,b){var j=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return j!==null?null:l(w,x,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wc:return _.key===j?c(w,x,_,b):null;case qo:return _.key===j?u(w,x,_,b):null;case Is:return j=_._init,p(w,x,j(_._payload),b)}if(Sl(_)||dl(_))return j!==null?null:d(w,x,_,b,null);tu(w,_)}return null}function v(w,x,_,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(_)||null,l(x,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wc:return w=w.get(b.key===null?_:b.key)||null,c(x,w,b,j);case qo:return w=w.get(b.key===null?_:b.key)||null,u(x,w,b,j);case Is:var E=b._init;return v(w,x,_,E(b._payload),j)}if(Sl(b)||dl(b))return w=w.get(_)||null,d(x,w,b,j,null);tu(x,b)}return null}function g(w,x,_,b){for(var j=null,E=null,S=x,R=x=0,D=null;S!==null&&R<_.length;R++){S.index>R?(D=S,S=null):D=S.sibling;var T=p(w,S,_[R],b);if(T===null){S===null&&(S=D);break}t&&S&&T.alternate===null&&e(w,S),x=i(T,x,R),E===null?j=T:E.sibling=T,E=T,S=D}if(R===_.length)return r(w,S),vt&&Di(w,R),j;if(S===null){for(;R<_.length;R++)S=h(w,_[R],b),S!==null&&(x=i(S,x,R),E===null?j=S:E.sibling=S,E=S);return vt&&Di(w,R),j}for(S=n(w,S);R<_.length;R++)D=v(S,w,R,_[R],b),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?R:D.key),x=i(D,x,R),E===null?j=D:E.sibling=D,E=D);return t&&S.forEach(function(C){return e(w,C)}),vt&&Di(w,R),j}function m(w,x,_,b){var j=dl(_);if(typeof j!="function")throw Error(te(150));if(_=j.call(_),_==null)throw Error(te(151));for(var E=j=null,S=x,R=x=0,D=null,T=_.next();S!==null&&!T.done;R++,T=_.next()){S.index>R?(D=S,S=null):D=S.sibling;var C=p(w,S,T.value,b);if(C===null){S===null&&(S=D);break}t&&S&&C.alternate===null&&e(w,S),x=i(C,x,R),E===null?j=C:E.sibling=C,E=C,S=D}if(T.done)return r(w,S),vt&&Di(w,R),j;if(S===null){for(;!T.done;R++,T=_.next())T=h(w,T.value,b),T!==null&&(x=i(T,x,R),E===null?j=T:E.sibling=T,E=T);return vt&&Di(w,R),j}for(S=n(w,S);!T.done;R++,T=_.next())T=v(S,w,R,T.value,b),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?R:T.key),x=i(T,x,R),E===null?j=T:E.sibling=T,E=T);return t&&S.forEach(function(A){return e(w,A)}),vt&&Di(w,R),j}function y(w,x,_,b){if(typeof _=="object"&&_!==null&&_.type===Ho&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Wc:e:{for(var j=_.key,E=x;E!==null;){if(E.key===j){if(j=_.type,j===Ho){if(E.tag===7){r(w,E.sibling),x=s(E,_.props.children),x.return=w,w=x;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Is&&Jv(j)===E.type){r(w,E.sibling),x=s(E,_.props),x.ref=gl(w,E,_),x.return=w,w=x;break e}r(w,E);break}else e(w,E);E=E.sibling}_.type===Ho?(x=oo(_.props.children,w.mode,b,_.key),x.return=w,w=x):(b=$u(_.type,_.key,_.props,null,w.mode,b),b.ref=gl(w,x,_),b.return=w,w=b)}return a(w);case qo:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){r(w,x.sibling),x=s(x,_.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else e(w,x);x=x.sibling}x=jf(_,w.mode,b),x.return=w,w=x}return a(w);case Is:return E=_._init,y(w,x,E(_._payload),b)}if(Sl(_))return g(w,x,_,b);if(dl(_))return m(w,x,_,b);tu(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(r(w,x.sibling),x=s(x,_),x.return=w,w=x):(r(w,x),x=bf(_,w.mode,b),x.return=w,w=x),a(w)):r(w,x)}return y}var Pa=cb(!0),ub=cb(!1),ud=vi(null),dd=null,ea=null,Ag=null;function Pg(){Ag=ea=dd=null}function Ig(t){var e=ud.current;gt(ud),t._currentValue=e}function Pp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function la(t,e){dd=t,Ag=ea=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Or=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Ag!==t)if(t={context:t,memoizedValue:e,next:null},ea===null){if(dd===null)throw Error(te(308));ea=t,dd.dependencies={lanes:0,firstContext:t}}else ea=ea.next=t;return e}var Wi=null;function Dg(t){Wi===null?Wi=[t]:Wi.push(t)}function db(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Dg(e)):(r.next=s.next,s.next=r),e.interleaved=r,ys(t,n)}function ys(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ds=!1;function $g(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ge&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ys(t,r)}return s=n.interleaved,s===null?(e.next=e,Dg(n)):(e.next=s.next,s.next=e),n.interleaved=e,ys(t,r)}function Ru(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_g(t,r)}}function Zv(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function hd(t,e,r,n){var s=t.updateQueue;Ds=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,v=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,m=l;switch(p=e,v=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(v,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,p=typeof g=="function"?g.call(v,h,p):g,p==null)break e;h=St({},h,p);break e;case 2:Ds=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fo|=a,t.lanes=a,t.memoizedState=h}}function Yv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(te(191,s));s.call(n)}}}var Cc={},Gn=vi(Cc),ec=vi(Cc),tc=vi(Cc);function qi(t){if(t===Cc)throw Error(te(174));return t}function Lg(t,e){switch(dt(tc,e),dt(ec,t),dt(Gn,Cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fp(e,t)}gt(Gn),dt(Gn,e)}function Ia(){gt(Gn),gt(ec),gt(tc)}function fb(t){qi(tc.current);var e=qi(Gn.current),r=fp(e,t.type);e!==r&&(dt(ec,t),dt(Gn,r))}function Fg(t){ec.current===t&&(gt(Gn),gt(ec))}var xt=vi(0);function fd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gf=[];function Mg(){for(var t=0;t<gf.length;t++)gf[t]._workInProgressVersionPrimary=null;gf.length=0}var Ou=bs.ReactCurrentDispatcher,yf=bs.ReactCurrentBatchConfig,ho=0,wt=null,zt=null,Gt=null,pd=!1,Fl=!1,rc=0,HT=0;function or(){throw Error(te(321))}function Ug(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Rn(t[r],e[r]))return!1;return!0}function Vg(t,e,r,n,s,i){if(ho=i,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ou.current=t===null||t.memoizedState===null?JT:ZT,t=r(n,s),Fl){i=0;do{if(Fl=!1,rc=0,25<=i)throw Error(te(301));i+=1,Gt=zt=null,e.updateQueue=null,Ou.current=YT,t=r(n,s)}while(Fl)}if(Ou.current=md,e=zt!==null&&zt.next!==null,ho=0,Gt=zt=wt=null,pd=!1,e)throw Error(te(300));return t}function Bg(){var t=rc!==0;return rc=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?wt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function fn(){if(zt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=Gt===null?wt.memoizedState:Gt.next;if(e!==null)Gt=e,zt=t;else{if(t===null)throw Error(te(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Gt===null?wt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function nc(t,e){return typeof e=="function"?e(t):e}function vf(t){var e=fn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=zt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((ho&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,wt.lanes|=d,fo|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Rn(n,e.memoizedState)||(Or=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,wt.lanes|=i,fo|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function xf(t){var e=fn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Rn(i,e.memoizedState)||(Or=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function pb(){}function mb(t,e){var r=wt,n=fn(),s=e(),i=!Rn(n.memoizedState,s);if(i&&(n.memoizedState=s,Or=!0),n=n.queue,zg(vb.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,sc(9,yb.bind(null,r,n,s,e),void 0,null),Qt===null)throw Error(te(349));ho&30||gb(r,e,s)}return s}function gb(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function yb(t,e,r,n){e.value=r,e.getSnapshot=n,xb(e)&&wb(t)}function vb(t,e,r){return r(function(){xb(e)&&wb(t)})}function xb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Rn(t,r)}catch{return!0}}function wb(t){var e=ys(t,1);e!==null&&Nn(e,t,1,-1)}function Xv(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:t},e.queue=t,t=t.dispatch=QT.bind(null,wt,t),[e.memoizedState,t]}function sc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _b(){return fn().memoizedState}function Au(t,e,r,n){var s=Mn();wt.flags|=t,s.memoizedState=sc(1|e,r,void 0,n===void 0?null:n)}function oh(t,e,r,n){var s=fn();n=n===void 0?null:n;var i=void 0;if(zt!==null){var a=zt.memoizedState;if(i=a.destroy,n!==null&&Ug(n,a.deps)){s.memoizedState=sc(e,r,i,n);return}}wt.flags|=t,s.memoizedState=sc(1|e,r,i,n)}function ex(t,e){return Au(8390656,8,t,e)}function zg(t,e){return oh(2048,8,t,e)}function bb(t,e){return oh(4,2,t,e)}function jb(t,e){return oh(4,4,t,e)}function Sb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Eb(t,e,r){return r=r!=null?r.concat([t]):null,oh(4,4,Sb.bind(null,e,t),r)}function Wg(){}function Cb(t,e){var r=fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ug(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function kb(t,e){var r=fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ug(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Nb(t,e,r){return ho&21?(Rn(r,e)||(r=P0(),wt.lanes|=r,fo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Or=!0),t.memoizedState=r)}function KT(t,e){var r=it;it=r!==0&&4>r?r:4,t(!0);var n=yf.transition;yf.transition={};try{t(!1),e()}finally{it=r,yf.transition=n}}function Tb(){return fn().memoizedState}function GT(t,e,r){var n=ii(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rb(t))Ob(e,r);else if(r=db(t,e,r,n),r!==null){var s=_r();Nn(r,t,n,s),Ab(r,e,n)}}function QT(t,e,r){var n=ii(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rb(t))Ob(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Rn(l,a)){var c=e.interleaved;c===null?(s.next=s,Dg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=db(t,e,s,n),r!==null&&(s=_r(),Nn(r,t,n,s),Ab(r,e,n))}}function Rb(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function Ob(t,e){Fl=pd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Ab(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_g(t,r)}}var md={readContext:hn,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},JT={readContext:hn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:ex,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Au(4194308,4,Sb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Au(4194308,4,t,e)},useInsertionEffect:function(t,e){return Au(4,2,t,e)},useMemo:function(t,e){var r=Mn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Mn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=GT.bind(null,wt,t),[n.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:Xv,useDebugValue:Wg,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=Xv(!1),e=t[0];return t=KT.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=wt,s=Mn();if(vt){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Qt===null)throw Error(te(349));ho&30||gb(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,ex(vb.bind(null,n,i,t),[t]),n.flags|=2048,sc(9,yb.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Mn(),e=Qt.identifierPrefix;if(vt){var r=ds,n=us;r=(n&~(1<<32-kn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=rc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=HT++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZT={readContext:hn,useCallback:Cb,useContext:hn,useEffect:zg,useImperativeHandle:Eb,useInsertionEffect:bb,useLayoutEffect:jb,useMemo:kb,useReducer:vf,useRef:_b,useState:function(){return vf(nc)},useDebugValue:Wg,useDeferredValue:function(t){var e=fn();return Nb(e,zt.memoizedState,t)},useTransition:function(){var t=vf(nc)[0],e=fn().memoizedState;return[t,e]},useMutableSource:pb,useSyncExternalStore:mb,useId:Tb,unstable_isNewReconciler:!1},YT={readContext:hn,useCallback:Cb,useContext:hn,useEffect:zg,useImperativeHandle:Eb,useInsertionEffect:bb,useLayoutEffect:jb,useMemo:kb,useReducer:xf,useRef:_b,useState:function(){return xf(nc)},useDebugValue:Wg,useDeferredValue:function(t){var e=fn();return zt===null?e.memoizedState=t:Nb(e,zt.memoizedState,t)},useTransition:function(){var t=xf(nc)[0],e=fn().memoizedState;return[t,e]},useMutableSource:pb,useSyncExternalStore:mb,useId:Tb,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ip(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ah={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=_r(),s=ii(t),i=fs(n,s);i.payload=e,r!=null&&(i.callback=r),e=ni(t,i,s),e!==null&&(Nn(e,t,s,n),Ru(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=_r(),s=ii(t),i=fs(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ni(t,i,s),e!==null&&(Nn(e,t,s,n),Ru(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=_r(),n=ii(t),s=fs(r,n);s.tag=2,e!=null&&(s.callback=e),e=ni(t,s,n),e!==null&&(Nn(e,t,n,r),Ru(e,t,n))}};function tx(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Jl(r,n)||!Jl(s,i):!0}function Pb(t,e,r){var n=!1,s=hi,i=e.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=Ir(e)?co:fr.current,n=e.contextTypes,i=(n=n!=null)?Oa(t,s):hi),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ah,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function rx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ah.enqueueReplaceState(e,e.state,null)}function Dp(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},$g(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=Ir(e)?co:fr.current,s.context=Oa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ip(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ah.enqueueReplaceState(s,s.state,null),hd(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e){try{var r="",n=e;do r+=C1(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function $p(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var XT=typeof WeakMap=="function"?WeakMap:Map;function Ib(t,e,r){r=fs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){yd||(yd=!0,Hp=n),$p(t,e)},r}function Db(t,e,r){r=fs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){$p(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$p(t,e),typeof n!="function"&&(si===null?si=new Set([this]):si.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function nx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new XT;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=fR.bind(null,t,e,r),e.then(t,t))}function sx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ix(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fs(-1,1),e.tag=2,ni(r,e,1))),r.lanes|=1),t)}var eR=bs.ReactCurrentOwner,Or=!1;function vr(t,e,r,n){e.child=t===null?ub(e,null,r,n):Pa(e,t.child,r,n)}function ox(t,e,r,n,s){r=r.render;var i=e.ref;return la(e,s),n=Vg(t,e,r,n,i,s),r=Bg(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vs(t,e,s)):(vt&&r&&Tg(e),e.flags|=1,vr(t,e,n,s),e.child)}function ax(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Yg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,$b(t,e,i,n,s)):(t=$u(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Jl,r(a,n)&&t.ref===e.ref)return vs(t,e,s)}return e.flags|=1,t=oi(i,n),t.ref=e.ref,t.return=e,e.child=t}function $b(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Jl(i,n)&&t.ref===e.ref)if(Or=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Or=!0);else return e.lanes=t.lanes,vs(t,e,s)}return Lp(t,e,r,n,s)}function Lb(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(ra,Fr),Fr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(ra,Fr),Fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,dt(ra,Fr),Fr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,dt(ra,Fr),Fr|=n;return vr(t,e,s,r),e.child}function Fb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Lp(t,e,r,n,s){var i=Ir(r)?co:fr.current;return i=Oa(e,i),la(e,s),r=Vg(t,e,r,n,i,s),n=Bg(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vs(t,e,s)):(vt&&n&&Tg(e),e.flags|=1,vr(t,e,r,s),e.child)}function lx(t,e,r,n,s){if(Ir(r)){var i=!0;ad(e)}else i=!1;if(la(e,s),e.stateNode===null)Pu(t,e),Pb(e,r,n),Dp(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=hn(u):(u=Ir(r)?co:fr.current,u=Oa(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&rx(e,a,n,u),Ds=!1;var p=e.memoizedState;a.state=p,hd(e,n,a,s),c=e.memoizedState,l!==n||p!==c||Pr.current||Ds?(typeof d=="function"&&(Ip(e,r,d,n),c=e.memoizedState),(l=Ds||tx(e,r,l,n,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,hb(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:vn(e.type,l),a.props=u,h=e.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=hn(c):(c=Ir(r)?co:fr.current,c=Oa(e,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==c)&&rx(e,a,n,c),Ds=!1,p=e.memoizedState,a.state=p,hd(e,n,a,s);var g=e.memoizedState;l!==h||p!==g||Pr.current||Ds?(typeof v=="function"&&(Ip(e,r,v,n),g=e.memoizedState),(u=Ds||tx(e,r,u,n,p,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Fp(t,e,r,n,i,s)}function Fp(t,e,r,n,s,i){Fb(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Kv(e,r,!1),vs(t,e,i);n=e.stateNode,eR.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Pa(e,t.child,null,i),e.child=Pa(e,null,l,i)):vr(t,e,l,i),e.memoizedState=n.state,s&&Kv(e,r,!0),e.child}function Mb(t){var e=t.stateNode;e.pendingContext?Hv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hv(t,e.context,!1),Lg(t,e.containerInfo)}function cx(t,e,r,n,s){return Aa(),Og(s),e.flags|=256,vr(t,e,r,n),e.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Up(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ub(t,e,r){var n=e.pendingProps,s=xt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),dt(xt,s&1),t===null)return Ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=uh(a,n,0,null),t=oo(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Up(r),e.memoizedState=Mp,t):qg(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return tR(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=oi(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=oi(l,i):(i=oo(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Up(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Mp,n}return i=t.child,t=i.sibling,n=oi(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function qg(t,e){return e=uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ru(t,e,r,n){return n!==null&&Og(n),Pa(e,t.child,null,r),t=qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tR(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=wf(Error(te(422))),ru(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=uh({mode:"visible",children:n.children},s,0,null),i=oo(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Pa(e,t.child,null,a),e.child.memoizedState=Up(a),e.memoizedState=Mp,i);if(!(e.mode&1))return ru(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(te(419)),n=wf(i,n,void 0),ru(t,e,a,n)}if(l=(a&t.childLanes)!==0,Or||l){if(n=Qt,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ys(t,s),Nn(n,t,s,-1))}return Zg(),n=wf(Error(te(421))),ru(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zr=ri(s.nextSibling),Wr=e,vt=!0,Sn=null,t!==null&&(sn[on++]=us,sn[on++]=ds,sn[on++]=uo,us=t.id,ds=t.overflow,uo=e),e=qg(e,n.children),e.flags|=4096,e)}function ux(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Pp(t.return,e,r)}function _f(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Vb(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(vr(t,e,n.children,r),n=xt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ux(t,r,e);else if(t.tag===19)ux(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(dt(xt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&fd(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),_f(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fd(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}_f(e,!0,r,null,i);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=oi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=oi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rR(t,e,r){switch(e.tag){case 3:Mb(e),Aa();break;case 5:fb(e);break;case 1:Ir(e.type)&&ad(e);break;case 4:Lg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;dt(ud,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(dt(xt,xt.current&1),e.flags|=128,null):r&e.child.childLanes?Ub(t,e,r):(dt(xt,xt.current&1),t=vs(t,e,r),t!==null?t.sibling:null);dt(xt,xt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Vb(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),dt(xt,xt.current),n)break;return null;case 22:case 23:return e.lanes=0,Lb(t,e,r)}return vs(t,e,r)}var Bb,Vp,zb,Wb;Bb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vp=function(){};zb=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,qi(Gn.current);var i=null;switch(r){case"input":s=cp(t,s),n=cp(t,n),i=[];break;case"select":s=St({},s,{value:void 0}),n=St({},n,{value:void 0}),i=[];break;case"textarea":s=hp(t,s),n=hp(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=id)}pp(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Wb=function(t,e,r,n){r!==n&&(e.flags|=4)};function yl(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nR(t,e,r){var n=e.pendingProps;switch(Rg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(e),null;case 1:return Ir(e.type)&&od(),ar(e),null;case 3:return n=e.stateNode,Ia(),gt(Pr),gt(fr),Mg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(Qp(Sn),Sn=null))),Vp(t,e),ar(e),null;case 5:Fg(e);var s=qi(tc.current);if(r=e.type,t!==null&&e.stateNode!=null)zb(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return ar(e),null}if(t=qi(Gn.current),eu(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Wn]=e,n[Xl]=i,t=(e.mode&1)!==0,r){case"dialog":pt("cancel",n),pt("close",n);break;case"iframe":case"object":case"embed":pt("load",n);break;case"video":case"audio":for(s=0;s<Cl.length;s++)pt(Cl[s],n);break;case"source":pt("error",n);break;case"img":case"image":case"link":pt("error",n),pt("load",n);break;case"details":pt("toggle",n);break;case"input":xv(n,i),pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pt("invalid",n);break;case"textarea":_v(n,i),pt("invalid",n)}pp(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Xc(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Xc(n.textContent,l,t),s=["children",""+l]):zl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&pt("scroll",n)}switch(r){case"input":qc(n),wv(n,i,!0);break;case"textarea":qc(n),bv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=id)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=v0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Wn]=e,t[Xl]=n,Bb(t,e,!1,!1),e.stateNode=t;e:{switch(a=mp(r,n),r){case"dialog":pt("cancel",t),pt("close",t),s=n;break;case"iframe":case"object":case"embed":pt("load",t),s=n;break;case"video":case"audio":for(s=0;s<Cl.length;s++)pt(Cl[s],t);s=n;break;case"source":pt("error",t),s=n;break;case"img":case"image":case"link":pt("error",t),pt("load",t),s=n;break;case"details":pt("toggle",t),s=n;break;case"input":xv(t,n),s=cp(t,n),pt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=St({},n,{value:void 0}),pt("invalid",t);break;case"textarea":_v(t,n),s=hp(t,n),pt("invalid",t);break;default:s=n}pp(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?_0(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&x0(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wl(t,c):typeof c=="number"&&Wl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pt("scroll",t):c!=null&&mg(t,i,c,a))}switch(r){case"input":qc(t),wv(t,n,!1);break;case"textarea":qc(t),bv(t);break;case"option":n.value!=null&&t.setAttribute("value",""+di(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?sa(t,!!n.multiple,i,!1):n.defaultValue!=null&&sa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=id)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ar(e),null;case 6:if(t&&e.stateNode!=null)Wb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=qi(tc.current),qi(Gn.current),eu(e)){if(n=e.stateNode,r=e.memoizedProps,n[Wn]=e,(i=n.nodeValue!==r)&&(t=Wr,t!==null))switch(t.tag){case 3:Xc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xc(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wn]=e,e.stateNode=n}return ar(e),null;case 13:if(gt(xt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&zr!==null&&e.mode&1&&!(e.flags&128))lb(),Aa(),e.flags|=98560,i=!1;else if(i=eu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Wn]=e}else Aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ar(e),i=!1}else Sn!==null&&(Qp(Sn),Sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?qt===0&&(qt=3):Zg())),e.updateQueue!==null&&(e.flags|=4),ar(e),null);case 4:return Ia(),Vp(t,e),t===null&&Zl(e.stateNode.containerInfo),ar(e),null;case 10:return Ig(e.type._context),ar(e),null;case 17:return Ir(e.type)&&od(),ar(e),null;case 19:if(gt(xt),i=e.memoizedState,i===null)return ar(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)yl(i,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=fd(t),a!==null){for(e.flags|=128,yl(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return dt(xt,xt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Dt()>$a&&(e.flags|=128,n=!0,yl(i,!1),e.lanes=4194304)}else{if(!n)if(t=fd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!vt)return ar(e),null}else 2*Dt()-i.renderingStartTime>$a&&r!==1073741824&&(e.flags|=128,n=!0,yl(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Dt(),e.sibling=null,r=xt.current,dt(xt,n?r&1|2:r&1),e):(ar(e),null);case 22:case 23:return Jg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Fr&1073741824&&(ar(e),e.subtreeFlags&6&&(e.flags|=8192)):ar(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function sR(t,e){switch(Rg(e),e.tag){case 1:return Ir(e.type)&&od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(),gt(Pr),gt(fr),Mg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fg(e),null;case 13:if(gt(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(xt),null;case 4:return Ia(),null;case 10:return Ig(e.type._context),null;case 22:case 23:return Jg(),null;case 24:return null;default:return null}}var nu=!1,ur=!1,iR=typeof WeakSet=="function"?WeakSet:Set,me=null;function ta(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tt(t,e,n)}else r.current=null}function Bp(t,e,r){try{r()}catch(n){Tt(t,e,n)}}var dx=!1;function oR(t,e){if(Ep=rd,t=Q0(),Ng(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===r&&++u===s&&(l=a),p===i&&++d===n&&(c=a),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cp={focusedElem:t,selectionRange:r},rd=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?m:vn(e.type,m),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(b){Tt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return g=dx,dx=!1,g}function Ml(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bp(e,r,i)}s=s.next}while(s!==n)}}function lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function zp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function qb(t){var e=t.alternate;e!==null&&(t.alternate=null,qb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wn],delete e[Xl],delete e[Tp],delete e[BT],delete e[zT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hb(t){return t.tag===5||t.tag===3||t.tag===4}function hx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=id));else if(n!==4&&(t=t.child,t!==null))for(Wp(t,e,r),t=t.sibling;t!==null;)Wp(t,e,r),t=t.sibling}function qp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(qp(t,e,r),t=t.sibling;t!==null;)qp(t,e,r),t=t.sibling}var Xt=null,bn=!1;function Ns(t,e,r){for(r=r.child;r!==null;)Kb(t,e,r),r=r.sibling}function Kb(t,e,r){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(eh,r)}catch{}switch(r.tag){case 5:ur||ta(r,e);case 6:var n=Xt,s=bn;Xt=null,Ns(t,e,r),Xt=n,bn=s,Xt!==null&&(bn?(t=Xt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xt.removeChild(r.stateNode));break;case 18:Xt!==null&&(bn?(t=Xt,r=r.stateNode,t.nodeType===8?pf(t.parentNode,r):t.nodeType===1&&pf(t,r),Gl(t)):pf(Xt,r.stateNode));break;case 4:n=Xt,s=bn,Xt=r.stateNode.containerInfo,bn=!0,Ns(t,e,r),Xt=n,bn=s;break;case 0:case 11:case 14:case 15:if(!ur&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Bp(r,e,a),s=s.next}while(s!==n)}Ns(t,e,r);break;case 1:if(!ur&&(ta(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Tt(r,e,l)}Ns(t,e,r);break;case 21:Ns(t,e,r);break;case 22:r.mode&1?(ur=(n=ur)||r.memoizedState!==null,Ns(t,e,r),ur=n):Ns(t,e,r);break;default:Ns(t,e,r)}}function fx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new iR),e.forEach(function(n){var s=mR.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function mn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Xt=l.stateNode,bn=!1;break e;case 3:Xt=l.stateNode.containerInfo,bn=!0;break e;case 4:Xt=l.stateNode.containerInfo,bn=!0;break e}l=l.return}if(Xt===null)throw Error(te(160));Kb(i,a,s),Xt=null,bn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Tt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gb(e,t),e=e.sibling}function Gb(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),Ln(t),n&4){try{Ml(3,t,t.return),lh(3,t)}catch(m){Tt(t,t.return,m)}try{Ml(5,t,t.return)}catch(m){Tt(t,t.return,m)}}break;case 1:mn(e,t),Ln(t),n&512&&r!==null&&ta(r,r.return);break;case 5:if(mn(e,t),Ln(t),n&512&&r!==null&&ta(r,r.return),t.flags&32){var s=t.stateNode;try{Wl(s,"")}catch(m){Tt(t,t.return,m)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&g0(s,i),mp(l,a);var u=mp(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?_0(s,h):d==="dangerouslySetInnerHTML"?x0(s,h):d==="children"?Wl(s,h):mg(s,d,h,u)}switch(l){case"input":up(s,i);break;case"textarea":y0(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?sa(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?sa(s,!!i.multiple,i.defaultValue,!0):sa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xl]=i}catch(m){Tt(t,t.return,m)}}break;case 6:if(mn(e,t),Ln(t),n&4){if(t.stateNode===null)throw Error(te(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Tt(t,t.return,m)}}break;case 3:if(mn(e,t),Ln(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(m){Tt(t,t.return,m)}break;case 4:mn(e,t),Ln(t);break;case 13:mn(e,t),Ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gg=Dt())),n&4&&fx(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ur=(u=ur)||d,mn(e,t),ur=u):mn(e,t),Ln(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(h=me=d;me!==null;){switch(p=me,v=p.child,p.tag){case 0:case 11:case 14:case 15:Ml(4,p,p.return);break;case 1:ta(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Tt(n,r,m)}}break;case 5:ta(p,p.return);break;case 22:if(p.memoizedState!==null){mx(h);continue}}v!==null?(v.return=p,me=v):mx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=w0("display",a))}catch(m){Tt(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Tt(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mn(e,t),Ln(t),n&4&&fx(t);break;case 21:break;default:mn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Hb(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wl(s,""),n.flags&=-33);var i=hx(t);qp(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=hx(t);Wp(t,l,a);break;default:throw Error(te(161))}}catch(c){Tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aR(t,e,r){me=t,Qb(t)}function Qb(t,e,r){for(var n=(t.mode&1)!==0;me!==null;){var s=me,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||nu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ur;l=nu;var u=ur;if(nu=a,(ur=c)&&!u)for(me=s;me!==null;)a=me,c=a.child,a.tag===22&&a.memoizedState!==null?gx(s):c!==null?(c.return=a,me=c):gx(s);for(;i!==null;)me=i,Qb(i),i=i.sibling;me=s,nu=l,ur=u}px(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,me=i):px(t)}}function px(t){for(;me!==null;){var e=me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ur||lh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ur)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:vn(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Yv(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Yv(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}ur||e.flags&512&&zp(e)}catch(p){Tt(e,e.return,p)}}if(e===t){me=null;break}if(r=e.sibling,r!==null){r.return=e.return,me=r;break}me=e.return}}function mx(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,me=r;break}me=e.return}}function gx(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lh(4,e)}catch(c){Tt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Tt(e,s,c)}}var i=e.return;try{zp(e)}catch(c){Tt(e,i,c)}break;case 5:var a=e.return;try{zp(e)}catch(c){Tt(e,a,c)}}}catch(c){Tt(e,e.return,c)}if(e===t){me=null;break}var l=e.sibling;if(l!==null){l.return=e.return,me=l;break}me=e.return}}var lR=Math.ceil,gd=bs.ReactCurrentDispatcher,Hg=bs.ReactCurrentOwner,un=bs.ReactCurrentBatchConfig,Ge=0,Qt=null,Vt=null,er=0,Fr=0,ra=vi(0),qt=0,ic=null,fo=0,ch=0,Kg=0,Ul=null,Tr=null,Gg=0,$a=1/0,ss=null,yd=!1,Hp=null,si=null,su=!1,Zs=null,vd=0,Vl=0,Kp=null,Iu=-1,Du=0;function _r(){return Ge&6?Dt():Iu!==-1?Iu:Iu=Dt()}function ii(t){return t.mode&1?Ge&2&&er!==0?er&-er:qT.transition!==null?(Du===0&&(Du=P0()),Du):(t=it,t!==0||(t=window.event,t=t===void 0?16:U0(t.type)),t):1}function Nn(t,e,r,n){if(50<Vl)throw Vl=0,Kp=null,Error(te(185));jc(t,r,n),(!(Ge&2)||t!==Qt)&&(t===Qt&&(!(Ge&2)&&(ch|=r),qt===4&&Fs(t,er)),Dr(t,n),r===1&&Ge===0&&!(e.mode&1)&&($a=Dt()+500,ih&&xi()))}function Dr(t,e){var r=t.callbackNode;q1(t,e);var n=td(t,t===Qt?er:0);if(n===0)r!==null&&Ev(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ev(r),e===1)t.tag===0?WT(yx.bind(null,t)):ib(yx.bind(null,t)),UT(function(){!(Ge&6)&&xi()}),r=null;else{switch(I0(n)){case 1:r=wg;break;case 4:r=O0;break;case 16:r=ed;break;case 536870912:r=A0;break;default:r=ed}r=nj(r,Jb.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Jb(t,e){if(Iu=-1,Du=0,Ge&6)throw Error(te(327));var r=t.callbackNode;if(ca()&&t.callbackNode!==r)return null;var n=td(t,t===Qt?er:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=xd(t,n);else{e=n;var s=Ge;Ge|=2;var i=Yb();(Qt!==t||er!==e)&&(ss=null,$a=Dt()+500,io(t,e));do try{dR();break}catch(l){Zb(t,l)}while(!0);Pg(),gd.current=i,Ge=s,Vt!==null?e=0:(Qt=null,er=0,e=qt)}if(e!==0){if(e===2&&(s=wp(t),s!==0&&(n=s,e=Gp(t,s))),e===1)throw r=ic,io(t,0),Fs(t,n),Dr(t,Dt()),r;if(e===6)Fs(t,n);else{if(s=t.current.alternate,!(n&30)&&!cR(s)&&(e=xd(t,n),e===2&&(i=wp(t),i!==0&&(n=i,e=Gp(t,i))),e===1))throw r=ic,io(t,0),Fs(t,n),Dr(t,Dt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:$i(t,Tr,ss);break;case 3:if(Fs(t,n),(n&130023424)===n&&(e=Gg+500-Dt(),10<e)){if(td(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){_r(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Np($i.bind(null,t,Tr,ss),e);break}$i(t,Tr,ss);break;case 4:if(Fs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-kn(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lR(n/1960))-n,10<n){t.timeoutHandle=Np($i.bind(null,t,Tr,ss),n);break}$i(t,Tr,ss);break;case 5:$i(t,Tr,ss);break;default:throw Error(te(329))}}}return Dr(t,Dt()),t.callbackNode===r?Jb.bind(null,t):null}function Gp(t,e){var r=Ul;return t.current.memoizedState.isDehydrated&&(io(t,e).flags|=256),t=xd(t,e),t!==2&&(e=Tr,Tr=r,e!==null&&Qp(e)),t}function Qp(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function cR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Rn(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~Kg,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-kn(e),n=1<<r;t[r]=-1,e&=~n}}function yx(t){if(Ge&6)throw Error(te(327));ca();var e=td(t,0);if(!(e&1))return Dr(t,Dt()),null;var r=xd(t,e);if(t.tag!==0&&r===2){var n=wp(t);n!==0&&(e=n,r=Gp(t,n))}if(r===1)throw r=ic,io(t,0),Fs(t,e),Dr(t,Dt()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,Tr,ss),Dr(t,Dt()),null}function Qg(t,e){var r=Ge;Ge|=1;try{return t(e)}finally{Ge=r,Ge===0&&($a=Dt()+500,ih&&xi())}}function po(t){Zs!==null&&Zs.tag===0&&!(Ge&6)&&ca();var e=Ge;Ge|=1;var r=un.transition,n=it;try{if(un.transition=null,it=1,t)return t()}finally{it=n,un.transition=r,Ge=e,!(Ge&6)&&xi()}}function Jg(){Fr=ra.current,gt(ra)}function io(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,MT(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(Rg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&od();break;case 3:Ia(),gt(Pr),gt(fr),Mg();break;case 5:Fg(n);break;case 4:Ia();break;case 13:gt(xt);break;case 19:gt(xt);break;case 10:Ig(n.type._context);break;case 22:case 23:Jg()}r=r.return}if(Qt=t,Vt=t=oi(t.current,null),er=Fr=e,qt=0,ic=null,Kg=ch=fo=0,Tr=Ul=null,Wi!==null){for(e=0;e<Wi.length;e++)if(r=Wi[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Wi=null}return t}function Zb(t,e){do{var r=Vt;try{if(Pg(),Ou.current=md,pd){for(var n=wt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pd=!1}if(ho=0,Gt=zt=wt=null,Fl=!1,rc=0,Hg.current=null,r===null||r.return===null){qt=1,ic=e,Vt=null;break}e:{var i=t,a=r.return,l=r,c=e;if(e=er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=sx(a);if(v!==null){v.flags&=-257,ix(v,a,l,i,e),v.mode&1&&nx(i,u,e),e=v,c=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break e}else{if(!(e&1)){nx(i,u,e),Zg();break e}c=Error(te(426))}}else if(vt&&l.mode&1){var y=sx(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ix(y,a,l,i,e),Og(Da(c,l));break e}}i=c=Da(c,l),qt!==4&&(qt=2),Ul===null?Ul=[i]:Ul.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Ib(i,c,e);Zv(i,w);break e;case 1:l=c;var x=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(si===null||!si.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Db(i,l,e);Zv(i,b);break e}}i=i.return}while(i!==null)}ej(r)}catch(j){e=j,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function Yb(){var t=gd.current;return gd.current=md,t===null?md:t}function Zg(){(qt===0||qt===3||qt===2)&&(qt=4),Qt===null||!(fo&268435455)&&!(ch&268435455)||Fs(Qt,er)}function xd(t,e){var r=Ge;Ge|=2;var n=Yb();(Qt!==t||er!==e)&&(ss=null,io(t,e));do try{uR();break}catch(s){Zb(t,s)}while(!0);if(Pg(),Ge=r,gd.current=n,Vt!==null)throw Error(te(261));return Qt=null,er=0,qt}function uR(){for(;Vt!==null;)Xb(Vt)}function dR(){for(;Vt!==null&&!$1();)Xb(Vt)}function Xb(t){var e=rj(t.alternate,t,Fr);t.memoizedProps=t.pendingProps,e===null?ej(t):Vt=e,Hg.current=null}function ej(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=sR(r,e),r!==null){r.flags&=32767,Vt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,Vt=null;return}}else if(r=nR(r,e,Fr),r!==null){Vt=r;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);qt===0&&(qt=5)}function $i(t,e,r){var n=it,s=un.transition;try{un.transition=null,it=1,hR(t,e,r,n)}finally{un.transition=s,it=n}return null}function hR(t,e,r,n){do ca();while(Zs!==null);if(Ge&6)throw Error(te(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(H1(t,i),t===Qt&&(Vt=Qt=null,er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||su||(su=!0,nj(ed,function(){return ca(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=un.transition,un.transition=null;var a=it;it=1;var l=Ge;Ge|=4,Hg.current=null,oR(t,r),Gb(r,t),AT(Cp),rd=!!Ep,Cp=Ep=null,t.current=r,aR(r),L1(),Ge=l,it=a,un.transition=i}else t.current=r;if(su&&(su=!1,Zs=t,vd=s),i=t.pendingLanes,i===0&&(si=null),U1(r.stateNode),Dr(t,Dt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yd)throw yd=!1,t=Hp,Hp=null,t;return vd&1&&t.tag!==0&&ca(),i=t.pendingLanes,i&1?t===Kp?Vl++:(Vl=0,Kp=t):Vl=0,xi(),null}function ca(){if(Zs!==null){var t=I0(vd),e=un.transition,r=it;try{if(un.transition=null,it=16>t?16:t,Zs===null)var n=!1;else{if(t=Zs,Zs=null,vd=0,Ge&6)throw Error(te(331));var s=Ge;for(Ge|=4,me=t.current;me!==null;){var i=me,a=i.child;if(me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(me=u;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Ml(8,d,i)}var h=d.child;if(h!==null)h.return=d,me=h;else for(;me!==null;){d=me;var p=d.sibling,v=d.return;if(qb(d),d===u){me=null;break}if(p!==null){p.return=v,me=p;break}me=v}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}me=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,me=a;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ml(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,me=w;break e}me=i.return}}var x=t.current;for(me=x;me!==null;){a=me;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,me=_;else e:for(a=x;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lh(9,l)}}catch(j){Tt(l,l.return,j)}if(l===a){me=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,me=b;break e}me=l.return}}if(Ge=s,xi(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(eh,t)}catch{}n=!0}return n}finally{it=r,un.transition=e}}return!1}function vx(t,e,r){e=Da(r,e),e=Ib(t,e,1),t=ni(t,e,1),e=_r(),t!==null&&(jc(t,1,e),Dr(t,e))}function Tt(t,e,r){if(t.tag===3)vx(t,t,r);else for(;e!==null;){if(e.tag===3){vx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(si===null||!si.has(n))){t=Da(r,t),t=Db(e,t,1),e=ni(e,t,1),t=_r(),e!==null&&(jc(e,1,t),Dr(e,t));break}}e=e.return}}function fR(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=_r(),t.pingedLanes|=t.suspendedLanes&r,Qt===t&&(er&r)===r&&(qt===4||qt===3&&(er&130023424)===er&&500>Dt()-Gg?io(t,0):Kg|=r),Dr(t,e)}function tj(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var r=_r();t=ys(t,e),t!==null&&(jc(t,e,r),Dr(t,r))}function pR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),tj(t,r)}function mR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),tj(t,r)}var rj;rj=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pr.current)Or=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Or=!1,rR(t,e,r);Or=!!(t.flags&131072)}else Or=!1,vt&&e.flags&1048576&&ob(e,cd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Pu(t,e),t=e.pendingProps;var s=Oa(e,fr.current);la(e,r),s=Vg(null,e,n,t,s,r);var i=Bg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ir(n)?(i=!0,ad(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$g(e),s.updater=ah,e.stateNode=s,s._reactInternals=e,Dp(e,n,t,r),e=Fp(null,e,n,!0,i,r)):(e.tag=0,vt&&i&&Tg(e),vr(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Pu(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=yR(n),t=vn(n,t),s){case 0:e=Lp(null,e,n,t,r);break e;case 1:e=lx(null,e,n,t,r);break e;case 11:e=ox(null,e,n,t,r);break e;case 14:e=ax(null,e,n,vn(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vn(n,s),Lp(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vn(n,s),lx(t,e,n,s,r);case 3:e:{if(Mb(e),t===null)throw Error(te(387));n=e.pendingProps,i=e.memoizedState,s=i.element,hb(t,e),hd(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Da(Error(te(423)),e),e=cx(t,e,n,r,s);break e}else if(n!==s){s=Da(Error(te(424)),e),e=cx(t,e,n,r,s);break e}else for(zr=ri(e.stateNode.containerInfo.firstChild),Wr=e,vt=!0,Sn=null,r=ub(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Aa(),n===s){e=vs(t,e,r);break e}vr(t,e,n,r)}e=e.child}return e;case 5:return fb(e),t===null&&Ap(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,kp(n,s)?a=null:i!==null&&kp(n,i)&&(e.flags|=32),Fb(t,e),vr(t,e,a,r),e.child;case 6:return t===null&&Ap(e),null;case 13:return Ub(t,e,r);case 4:return Lg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Pa(e,null,n,r):vr(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vn(n,s),ox(t,e,n,s,r);case 7:return vr(t,e,e.pendingProps,r),e.child;case 8:return vr(t,e,e.pendingProps.children,r),e.child;case 12:return vr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,dt(ud,n._currentValue),n._currentValue=a,i!==null)if(Rn(i.value,a)){if(i.children===s.children&&!Pr.current){e=vs(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=fs(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Pp(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(te(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Pp(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}vr(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,la(e,r),s=hn(s),n=n(s),e.flags|=1,vr(t,e,n,r),e.child;case 14:return n=e.type,s=vn(n,e.pendingProps),s=vn(n.type,s),ax(t,e,n,s,r);case 15:return $b(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vn(n,s),Pu(t,e),e.tag=1,Ir(n)?(t=!0,ad(e)):t=!1,la(e,r),Pb(e,n,s),Dp(e,n,s,r),Fp(null,e,n,!0,t,r);case 19:return Vb(t,e,r);case 22:return Lb(t,e,r)}throw Error(te(156,e.tag))};function nj(t,e){return R0(t,e)}function gR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,r,n){return new gR(t,e,r,n)}function Yg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yR(t){if(typeof t=="function")return Yg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yg)return 11;if(t===vg)return 14}return 2}function oi(t,e){var r=t.alternate;return r===null?(r=cn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $u(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Yg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ho:return oo(r.children,s,i,e);case gg:a=8,s|=8;break;case ip:return t=cn(12,r,e,s|2),t.elementType=ip,t.lanes=i,t;case op:return t=cn(13,r,e,s),t.elementType=op,t.lanes=i,t;case ap:return t=cn(19,r,e,s),t.elementType=ap,t.lanes=i,t;case f0:return uh(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d0:a=10;break e;case h0:a=9;break e;case yg:a=11;break e;case vg:a=14;break e;case Is:a=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=cn(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function oo(t,e,r,n){return t=cn(7,t,n,e),t.lanes=r,t}function uh(t,e,r,n){return t=cn(22,t,n,e),t.elementType=f0,t.lanes=r,t.stateNode={isHidden:!1},t}function bf(t,e,r){return t=cn(6,t,null,e),t.lanes=r,t}function jf(t,e,r){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vR(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xg(t,e,r,n,s,i,a,l,c){return t=new vR(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$g(i),t}function xR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sj(t){if(!t)return hi;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(Ir(r))return sb(t,r,e)}return e}function ij(t,e,r,n,s,i,a,l,c){return t=Xg(r,n,!0,t,s,i,a,l,c),t.context=sj(null),r=t.current,n=_r(),s=ii(r),i=fs(n,s),i.callback=e??null,ni(r,i,s),t.current.lanes=s,jc(t,s,n),Dr(t,n),t}function dh(t,e,r,n){var s=e.current,i=_r(),a=ii(s);return r=sj(r),e.context===null?e.context=r:e.pendingContext=r,e=fs(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ni(s,e,a),t!==null&&(Nn(t,s,a,i),Ru(t,s,a)),a}function wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ey(t,e){xx(t,e),(t=t.alternate)&&xx(t,e)}function wR(){return null}var oj=typeof reportError=="function"?reportError:function(t){console.error(t)};function ty(t){this._internalRoot=t}hh.prototype.render=ty.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));dh(t,e,null,null)};hh.prototype.unmount=ty.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;po(function(){dh(null,t,null,null)}),e[gs]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=L0();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ls.length&&e!==0&&e<Ls[r].priority;r++);Ls.splice(r,0,t),r===0&&M0(t)}};function ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wx(){}function _R(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=wd(a);i.call(u)}}var a=ij(e,n,t,0,null,!1,!1,"",wx);return t._reactRootContainer=a,t[gs]=a.current,Zl(t.nodeType===8?t.parentNode:t),po(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=wd(c);l.call(u)}}var c=Xg(t,0,!1,null,null,!1,!1,"",wx);return t._reactRootContainer=c,t[gs]=c.current,Zl(t.nodeType===8?t.parentNode:t),po(function(){dh(e,c,r,n)}),c}function ph(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=wd(a);l.call(c)}}dh(e,a,t,s)}else a=_R(r,e,t,s,n);return wd(a)}D0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=El(e.pendingLanes);r!==0&&(_g(e,r|1),Dr(e,Dt()),!(Ge&6)&&($a=Dt()+500,xi()))}break;case 13:po(function(){var n=ys(t,1);if(n!==null){var s=_r();Nn(n,t,1,s)}}),ey(t,1)}};bg=function(t){if(t.tag===13){var e=ys(t,134217728);if(e!==null){var r=_r();Nn(e,t,134217728,r)}ey(t,134217728)}};$0=function(t){if(t.tag===13){var e=ii(t),r=ys(t,e);if(r!==null){var n=_r();Nn(r,t,e,n)}ey(t,e)}};L0=function(){return it};F0=function(t,e){var r=it;try{return it=t,e()}finally{it=r}};yp=function(t,e,r){switch(e){case"input":if(up(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=sh(n);if(!s)throw Error(te(90));m0(n),up(n,s)}}}break;case"textarea":y0(t,r);break;case"select":e=r.value,e!=null&&sa(t,!!r.multiple,e,!1)}};S0=Qg;E0=po;var bR={usingClientEntryPoint:!1,Events:[Ec,Jo,sh,b0,j0,Qg]},vl={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jR={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N0(t),t===null?null:t.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||wR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{eh=iu.inject(jR),Kn=iu}catch{}}Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR;Zr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ry(e))throw Error(te(200));return xR(t,e,null,r)};Zr.createRoot=function(t,e){if(!ry(t))throw Error(te(299));var r=!1,n="",s=oj;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xg(t,1,!1,null,null,r,!1,n,s),t[gs]=e.current,Zl(t.nodeType===8?t.parentNode:t),new ty(e)};Zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=N0(e),t=t===null?null:t.stateNode,t};Zr.flushSync=function(t){return po(t)};Zr.hydrate=function(t,e,r){if(!fh(e))throw Error(te(200));return ph(null,t,e,!0,r)};Zr.hydrateRoot=function(t,e,r){if(!ry(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=oj;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=ij(e,null,t,1,r??null,s,!1,i,a),t[gs]=e.current,Zl(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new hh(e)};Zr.render=function(t,e,r){if(!fh(e))throw Error(te(200));return ph(null,t,e,!1,r)};Zr.unmountComponentAtNode=function(t){if(!fh(t))throw Error(te(40));return t._reactRootContainer?(po(function(){ph(null,null,t,!1,function(){t._reactRootContainer=null,t[gs]=null})}),!0):!1};Zr.unstable_batchedUpdates=Qg;Zr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!fh(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return ph(t,e,r,!1,n)};Zr.version="18.3.1-next-f1338f8080-20240426";function aj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aj)}catch(t){console.error(t)}}aj(),a0.exports=Zr;var wi=a0.exports;const SR=lg(wi);var _x=wi;np.createRoot=_x.createRoot,np.hydrateRoot=_x.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oc.apply(this,arguments)}var Ys;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ys||(Ys={}));const bx="popstate";function ER(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return Jp("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:_d(s)}return kR(e,r,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ny(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CR(){return Math.random().toString(36).substr(2,8)}function jx(t,e){return{usr:t.state,key:t.key,idx:e}}function Jp(t,e,r,n){return r===void 0&&(r=null),oc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Za(e):e,{state:r,key:e&&e.key||n||CR()})}function _d(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Za(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function kR(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Ys.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(oc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Ys.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:l,location:m.location,delta:w})}function p(y,w){l=Ys.Push;let x=Jp(m.location,y,w);u=d()+1;let _=jx(x,u),b=m.createHref(x);try{a.pushState(_,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(b)}i&&c&&c({action:l,location:m.location,delta:1})}function v(y,w){l=Ys.Replace;let x=Jp(m.location,y,w);u=d();let _=jx(x,u),b=m.createHref(x);a.replaceState(_,"",b),i&&c&&c({action:l,location:m.location,delta:0})}function g(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof y=="string"?y:_d(y);return x=x.replace(/ $/,"%20"),$t(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let m={get action(){return l},get location(){return t(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(bx,h),c=y,()=>{s.removeEventListener(bx,h),c=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:v,go(y){return a.go(y)}};return m}var Sx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sx||(Sx={}));function NR(t,e,r){return r===void 0&&(r="/"),TR(t,e,r)}function TR(t,e,r,n){let s=typeof e=="string"?Za(e):e,i=sy(s.pathname||"/",r);if(i==null)return null;let a=lj(t);RR(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=BR(i);l=MR(a[c],u)}return l}function lj(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&($t(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ai([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&($t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lj(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:LR(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of cj(i.path))s(i,a,c)}),e}function cj(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=cj(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function RR(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:FR(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const OR=/^:[\w-]+$/,AR=3,PR=2,IR=1,DR=10,$R=-2,Ex=t=>t==="*";function LR(t,e){let r=t.split("/"),n=r.length;return r.some(Ex)&&(n+=$R),e&&(n+=PR),r.filter(s=>!Ex(s)).reduce((s,i)=>s+(OR.test(i)?AR:i===""?IR:DR),n)}function FR(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function MR(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=UR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:ai([i,h.pathname]),pathnameBase:KR(ai([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ai([i,h.pathnameBase]))}return a}function UR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=VR(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let m=l[h]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[h];return v&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function VR(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ny(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function BR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ny(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const zR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WR=t=>zR.test(t);function qR(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Za(t):t,i;if(r)if(WR(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),ny(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Cx(r.substring(1),"/"):i=Cx(r,e)}else i=e;return{pathname:i,search:GR(n),hash:QR(s)}}function Cx(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Sf(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HR(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function iy(t,e){let r=HR(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oy(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Za(t):(s=oc({},t),$t(!s.pathname||!s.pathname.includes("?"),Sf("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),Sf("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),Sf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=qR(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ai=t=>t.join("/").replace(/\/\/+/g,"/"),KR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uj=["post","put","patch","delete"];new Set(uj);const ZR=["get",...uj];new Set(ZR);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ac.apply(this,arguments)}const ay=f.createContext(null),YR=f.createContext(null),_i=f.createContext(null),mh=f.createContext(null),js=f.createContext({outlet:null,matches:[],isDataRoute:!1}),dj=f.createContext(null);function XR(t,e){let{relative:r}=e===void 0?{}:e;Ya()||$t(!1);let{basename:n,navigator:s}=f.useContext(_i),{hash:i,pathname:a,search:l}=fj(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:ai([n,a])),s.createHref({pathname:c,search:l,hash:i})}function Ya(){return f.useContext(mh)!=null}function ko(){return Ya()||$t(!1),f.useContext(mh).location}function hj(t){f.useContext(_i).static||f.useLayoutEffect(t)}function No(){let{isDataRoute:t}=f.useContext(js);return t?pO():eO()}function eO(){Ya()||$t(!1);let t=f.useContext(ay),{basename:e,future:r,navigator:n}=f.useContext(_i),{matches:s}=f.useContext(js),{pathname:i}=ko(),a=JSON.stringify(iy(s,r.v7_relativeSplatPath)),l=f.useRef(!1);return hj(()=>{l.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=oy(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ai([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,i,t])}const tO=f.createContext(null);function rO(t){let e=f.useContext(js).outlet;return e&&f.createElement(tO.Provider,{value:t},e)}function fj(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=f.useContext(_i),{matches:s}=f.useContext(js),{pathname:i}=ko(),a=JSON.stringify(iy(s,n.v7_relativeSplatPath));return f.useMemo(()=>oy(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function nO(t,e){return sO(t,e)}function sO(t,e,r,n){Ya()||$t(!1);let{navigator:s}=f.useContext(_i),{matches:i}=f.useContext(js),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ko(),d;if(e){var h;let y=typeof e=="string"?Za(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||$t(!1),d=y}else d=u;let p=d.pathname||"/",v=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=NR(t,{pathname:v}),m=cO(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ai([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ai([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&m?f.createElement(mh.Provider,{value:{location:ac({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ys.Pop}},m):m}function iO(){let t=fO(),e=JR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),r?f.createElement("pre",{style:s},r):null,null)}const oO=f.createElement(iO,null);class aO extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?f.createElement(js.Provider,{value:this.props.routeContext},f.createElement(dj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lO(t){let{routeContext:e,match:r,children:n}=t,s=f.useContext(ay);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(js.Provider,{value:e},n)}function cO(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||$t(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:v}=r,g=h.route.loader&&p[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let v,g=!1,m=null,y=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||oO,c&&(u<0&&p===0?(mO("route-fallback"),g=!0,y=null):u===p&&(g=!0,y=h.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,p+1)),x=()=>{let _;return v?_=m:g?_=y:h.route.Component?_=f.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,f.createElement(lO,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?f.createElement(aO,{location:r.location,revalidation:r.revalidation,component:m,error:v,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var pj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pj||{}),mj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mj||{});function uO(t){let e=f.useContext(ay);return e||$t(!1),e}function dO(t){let e=f.useContext(YR);return e||$t(!1),e}function hO(t){let e=f.useContext(js);return e||$t(!1),e}function gj(t){let e=hO(),r=e.matches[e.matches.length-1];return r.route.id||$t(!1),r.route.id}function fO(){var t;let e=f.useContext(dj),r=dO(),n=gj();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function pO(){let{router:t}=uO(pj.UseNavigateStable),e=gj(mj.UseNavigateStable),r=f.useRef(!1);return hj(()=>{r.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ac({fromRouteId:e},i)))},[t,e])}const kx={};function mO(t,e,r){kx[t]||(kx[t]=!0)}function gO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function yj(t){let{to:e,replace:r,state:n,relative:s}=t;Ya()||$t(!1);let{future:i,static:a}=f.useContext(_i),{matches:l}=f.useContext(js),{pathname:c}=ko(),u=No(),d=oy(e,iy(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return f.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function vj(t){return rO(t.context)}function lr(t){$t(!1)}function yO(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ys.Pop,navigator:i,static:a=!1,future:l}=t;Ya()&&$t(!1);let c=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:i,static:a,future:ac({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=Za(n));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:g="default"}=n,m=f.useMemo(()=>{let y=sy(d,c);return y==null?null:{location:{pathname:y,search:h,hash:p,state:v,key:g},navigationType:s}},[c,d,h,p,v,g,s]);return m==null?null:f.createElement(_i.Provider,{value:u},f.createElement(mh.Provider,{children:r,value:m}))}function vO(t){let{children:e,location:r}=t;return nO(Zp(e),r)}new Promise(()=>{});function Zp(t,e){e===void 0&&(e=[]);let r=[];return f.Children.forEach(t,(n,s)=>{if(!f.isValidElement(n))return;let i=[...e,s];if(n.type===f.Fragment){r.push.apply(r,Zp(n.props.children,i));return}n.type!==lr&&$t(!1),!n.props.index||!n.props.children||$t(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Zp(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yp.apply(this,arguments)}function xO(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function wO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _O(t,e){return t.button===0&&(!e||e==="_self")&&!wO(t)}function Xp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function bO(t,e){let r=Xp(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const jO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SO="6";try{window.__reactRouterVersion=SO}catch{}const EO="startTransition",Nx=Xd[EO];function CO(t){let{basename:e,children:r,future:n,window:s}=t,i=f.useRef();i.current==null&&(i.current=ER({window:s,v5Compat:!0}));let a=i.current,[l,c]=f.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=f.useCallback(h=>{u&&Nx?Nx(()=>c(h)):c(h)},[c,u]);return f.useLayoutEffect(()=>a.listen(d),[a,d]),f.useEffect(()=>gO(n),[n]),f.createElement(yO,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const kO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,em=f.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,p=xO(e,jO),{basename:v}=f.useContext(_i),g,m=!1;if(typeof u=="string"&&NO.test(u)&&(g=u,kO))try{let _=new URL(window.location.href),b=u.startsWith("//")?new URL(_.protocol+u):new URL(u),j=sy(b.pathname,v);b.origin===_.origin&&j!=null?u=j+b.search+b.hash:m=!0}catch{}let y=XR(u,{relative:s}),w=TO(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(_){n&&n(_),_.defaultPrevented||w(_)}return f.createElement("a",Yp({},p,{href:g||y,onClick:m||i?n:x,ref:r,target:c}))});var Tx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tx||(Tx={}));var Rx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rx||(Rx={}));function TO(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=No(),u=ko(),d=fj(t,{relative:a});return f.useCallback(h=>{if(_O(h,r)){h.preventDefault();let p=n!==void 0?n:_d(u)===_d(d);c(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,n,s,r,t,i,a,l])}function RO(t){let e=f.useRef(Xp(t)),r=f.useRef(!1),n=ko(),s=f.useMemo(()=>bO(n.search,r.current?null:e.current),[n.search]),i=No(),a=f.useCallback((l,c)=>{const u=Xp(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var Xa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},OO={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Vs,ag,F_,AO=(F_=class{constructor(){je(this,Vs,OO);je(this,ag,!1)}setTimeoutProvider(t){de(this,Vs,t)}setTimeout(t,e){return N(this,Vs).setTimeout(t,e)}clearTimeout(t){N(this,Vs).clearTimeout(t)}setInterval(t,e){return N(this,Vs).setInterval(t,e)}clearInterval(t){N(this,Vs).clearInterval(t)}},Vs=new WeakMap,ag=new WeakMap,F_),Hi=new AO;function PO(t){setTimeout(t,0)}var mo=typeof window>"u"||"Deno"in globalThis;function xr(){}function IO(t,e){return typeof t=="function"?t(e):t}function tm(t){return typeof t=="number"&&t>=0&&t!==1/0}function xj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function li(t,e){return typeof t=="function"?t(e):t}function nn(t,e){return typeof t=="function"?t(e):t}function Ox(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(n){if(e.queryHash!==ly(a,e.options))return!1}else if(!lc(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function Ax(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(go(e.options.mutationKey)!==go(i))return!1}else if(!lc(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function ly(t,e){return((e==null?void 0:e.queryKeyHashFn)||go)(t)}function go(t){return JSON.stringify(t,(e,r)=>rm(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function lc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>lc(t[r],e[r])):!1}var DO=Object.prototype.hasOwnProperty;function wj(t,e){if(t===e)return t;const r=Px(t)&&Px(e);if(!r&&!(rm(t)&&rm(e)))return e;const s=(r?t:Object.keys(t)).length,i=r?e:Object.keys(e),a=i.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=r?u:i[u],h=t[d],p=e[d];if(h===p){l[d]=h,(r?u<s:DO.call(t,d))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){l[d]=p;continue}const v=wj(h,p);l[d]=v,v===h&&c++}return s===a&&c===s?t:l}function bd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Px(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rm(t){if(!Ix(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Ix(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ix(t){return Object.prototype.toString.call(t)==="[object Object]"}function $O(t){return new Promise(e=>{Hi.setTimeout(e,t)})}function nm(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?wj(t,e):e}function LO(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function FO(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var cy=Symbol();function _j(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function bj(t,e){return typeof t=="function"?t(...e):!!t}var Ji,Bs,va,M_,MO=(M_=class extends Xa{constructor(){super();je(this,Ji);je(this,Bs);je(this,va);de(this,va,e=>{if(!mo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,Bs)||this.setEventListener(N(this,va))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Bs))==null||e.call(this),de(this,Bs,void 0))}setEventListener(e){var r;de(this,va,e),(r=N(this,Bs))==null||r.call(this),de(this,Bs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){N(this,Ji)!==e&&(de(this,Ji,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof N(this,Ji)=="boolean"?N(this,Ji):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ji=new WeakMap,Bs=new WeakMap,va=new WeakMap,M_),uy=new MO;function sm(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var UO=PO;function VO(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=UO;const i=l=>{e?t.push(l):s(()=>{r(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Wt=VO(),xa,zs,wa,U_,BO=(U_=class extends Xa{constructor(){super();je(this,xa,!0);je(this,zs);je(this,wa);de(this,wa,e=>{if(!mo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,zs)||this.setEventListener(N(this,wa))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,zs))==null||e.call(this),de(this,zs,void 0))}setEventListener(e){var r;de(this,wa,e),(r=N(this,zs))==null||r.call(this),de(this,zs,e(this.setOnline.bind(this)))}setOnline(e){N(this,xa)!==e&&(de(this,xa,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return N(this,xa)}},xa=new WeakMap,zs=new WeakMap,wa=new WeakMap,U_),jd=new BO;function zO(t){return Math.min(1e3*2**t,3e4)}function jj(t){return(t??"online")==="online"?jd.isOnline():!0}var im=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Sj(t){let e=!1,r=0,n;const s=sm(),i=()=>s.status!=="pending",a=m=>{var y;if(!i()){const w=new im(m);p(w),(y=t.onCancel)==null||y.call(t,w)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>uy.isFocused()&&(t.networkMode==="always"||jd.isOnline())&&t.canRun(),d=()=>jj(t.networkMode)&&t.canRun(),h=m=>{i()||(n==null||n(),s.resolve(m))},p=m=>{i()||(n==null||n(),s.reject(m))},v=()=>new Promise(m=>{var y;n=w=>{(i()||u())&&m(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var m;n=void 0,i()||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(i())return;let m;const y=r===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(h).catch(w=>{var E;if(i())return;const x=t.retry??(mo?0:3),_=t.retryDelay??zO,b=typeof _=="function"?_(r,w):_,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(e||!j){p(w);return}r++,(E=t.onFail)==null||E.call(t,r,w),$O(b).then(()=>u()?void 0:v()).then(()=>{e?p(w):g()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():v().then(g),s)}}var Zi,V_,Ej=(V_=class{constructor(){je(this,Zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tm(this.gcTime)&&de(this,Zi,Hi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(mo?1/0:5*60*1e3))}clearGcTimeout(){N(this,Zi)&&(Hi.clearTimeout(N(this,Zi)),de(this,Zi,void 0))}},Zi=new WeakMap,V_),Yi,_a,rn,Xi,Kt,gc,eo,wn,ns,B_,WO=(B_=class extends Ej{constructor(e){super();je(this,wn);je(this,Yi);je(this,_a);je(this,rn);je(this,Xi);je(this,Kt);je(this,gc);je(this,eo);de(this,eo,!1),de(this,gc,e.defaultOptions),this.setOptions(e.options),this.observers=[],de(this,Xi,e.client),de(this,rn,N(this,Xi).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,de(this,Yi,$x(this.options)),this.state=e.state??N(this,Yi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,Kt))==null?void 0:e.promise}setOptions(e){if(this.options={...N(this,gc),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$x(this.options);r.data!==void 0&&(this.setState(Dx(r.data,r.dataUpdatedAt)),de(this,Yi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,rn).remove(this)}setData(e,r){const n=nm(this.state.data,e,this.options);return Me(this,wn,ns).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Me(this,wn,ns).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=N(this,Kt))==null?void 0:n.promise;return(s=N(this,Kt))==null||s.cancel(e),r?r.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Yi))}isActive(){return this.observers.some(e=>nn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>li(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xj(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,Kt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,Kt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,rn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(N(this,Kt)&&(N(this,eo)?N(this,Kt).cancel({revert:!0}):N(this,Kt).cancelRetry()),this.scheduleGc()),N(this,rn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Me(this,wn,ns).call(this,{type:"invalidate"})}async fetch(e,r){var c,u,d,h,p,v,g,m,y,w,x,_;if(this.state.fetchStatus!=="idle"&&((c=N(this,Kt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,Kt))return N(this,Kt).continueRetry(),N(this,Kt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(j=>j.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(de(this,eo,!0),n.signal)})},i=()=>{const b=_j(this.options,r),E=(()=>{const S={client:N(this,Xi),queryKey:this.queryKey,meta:this.meta};return s(S),S})();return de(this,eo,!1),this.options.persister?this.options.persister(b,E,this):b(E)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,Xi),state:this.state,fetchFn:i};return s(b),b})();(u=this.options.behavior)==null||u.onFetch(l,this),de(this,_a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Me(this,wn,ns).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),de(this,Kt,Sj({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof im&&b.revert&&this.setState({...N(this,_a),fetchStatus:"idle"}),n.abort()},onFail:(b,j)=>{Me(this,wn,ns).call(this,{type:"failed",failureCount:b,error:j})},onPause:()=>{Me(this,wn,ns).call(this,{type:"pause"})},onContinue:()=>{Me(this,wn,ns).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await N(this,Kt).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(v=(p=N(this,rn).config).onSuccess)==null||v.call(p,b,this),(m=(g=N(this,rn).config).onSettled)==null||m.call(g,b,this.state.error,this),b}catch(b){if(b instanceof im){if(b.silent)return N(this,Kt).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Me(this,wn,ns).call(this,{type:"error",error:b}),(w=(y=N(this,rn).config).onError)==null||w.call(y,b,this),(_=(x=N(this,rn).config).onSettled)==null||_.call(x,this.state.data,b,this),b}finally{this.scheduleGc()}}},Yi=new WeakMap,_a=new WeakMap,rn=new WeakMap,Xi=new WeakMap,Kt=new WeakMap,gc=new WeakMap,eo=new WeakMap,wn=new WeakSet,ns=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Cj(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...Dx(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return de(this,_a,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Wt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,rn).notify({query:this,type:"updated",action:e})})},B_);function Cj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Dx(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $x(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Cr,qe,yc,gr,to,ba,os,Ws,vc,ja,Sa,ro,no,qs,Ea,tt,kl,om,am,lm,cm,um,dm,hm,kj,z_,qO=(z_=class extends Xa{constructor(e,r){super();je(this,tt);je(this,Cr);je(this,qe);je(this,yc);je(this,gr);je(this,to);je(this,ba);je(this,os);je(this,Ws);je(this,vc);je(this,ja);je(this,Sa);je(this,ro);je(this,no);je(this,qs);je(this,Ea,new Set);this.options=r,de(this,Cr,e),de(this,Ws,null),de(this,os,sm()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,qe).addObserver(this),Lx(N(this,qe),this.options)?Me(this,tt,kl).call(this):this.updateResult(),Me(this,tt,cm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fm(N(this,qe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fm(N(this,qe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Me(this,tt,um).call(this),Me(this,tt,dm).call(this),N(this,qe).removeObserver(this)}setOptions(e){const r=this.options,n=N(this,qe);if(this.options=N(this,Cr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nn(this.options.enabled,N(this,qe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Me(this,tt,hm).call(this),N(this,qe).setOptions(this.options),r._defaulted&&!bd(this.options,r)&&N(this,Cr).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,qe),observer:this});const s=this.hasListeners();s&&Fx(N(this,qe),n,this.options,r)&&Me(this,tt,kl).call(this),this.updateResult(),s&&(N(this,qe)!==n||nn(this.options.enabled,N(this,qe))!==nn(r.enabled,N(this,qe))||li(this.options.staleTime,N(this,qe))!==li(r.staleTime,N(this,qe)))&&Me(this,tt,om).call(this);const i=Me(this,tt,am).call(this);s&&(N(this,qe)!==n||nn(this.options.enabled,N(this,qe))!==nn(r.enabled,N(this,qe))||i!==N(this,qs))&&Me(this,tt,lm).call(this,i)}getOptimisticResult(e){const r=N(this,Cr).getQueryCache().build(N(this,Cr),e),n=this.createResult(r,e);return KO(this,n)&&(de(this,gr,n),de(this,ba,this.options),de(this,to,N(this,qe).state)),n}getCurrentResult(){return N(this,gr)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,os).status==="pending"&&N(this,os).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){N(this,Ea).add(e)}getCurrentQuery(){return N(this,qe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=N(this,Cr).defaultQueryOptions(e),n=N(this,Cr).getQueryCache().build(N(this,Cr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Me(this,tt,kl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,gr)))}createResult(e,r){var D;const n=N(this,qe),s=this.options,i=N(this,gr),a=N(this,to),l=N(this,ba),u=e!==n?e.state:N(this,yc),{state:d}=e;let h={...d},p=!1,v;if(r._optimisticResults){const T=this.hasListeners(),C=!T&&Lx(e,r),A=T&&Fx(e,n,r,s);(C||A)&&(h={...h,...Cj(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:y}=h;v=h.data;let w=!1;if(r.placeholderData!==void 0&&v===void 0&&y==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,w=!0):T=typeof r.placeholderData=="function"?r.placeholderData((D=N(this,Sa))==null?void 0:D.state.data,N(this,Sa)):r.placeholderData,T!==void 0&&(y="success",v=nm(i==null?void 0:i.data,T,r),p=!0)}if(r.select&&v!==void 0&&!w)if(i&&v===(a==null?void 0:a.data)&&r.select===N(this,vc))v=N(this,ja);else try{de(this,vc,r.select),v=r.select(v),v=nm(i==null?void 0:i.data,v,r),de(this,ja,v),de(this,Ws,null)}catch(T){de(this,Ws,T)}N(this,Ws)&&(g=N(this,Ws),v=N(this,ja),m=Date.now(),y="error");const x=h.fetchStatus==="fetching",_=y==="pending",b=y==="error",j=_&&x,E=v!==void 0,R={status:y,fetchStatus:h.fetchStatus,isPending:_,isSuccess:y==="success",isError:b,isInitialLoading:j,isLoading:j,data:v,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&E,isStale:dy(e,r),refetch:this.refetch,promise:N(this,os),isEnabled:nn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=F=>{R.status==="error"?F.reject(R.error):R.data!==void 0&&F.resolve(R.data)},C=()=>{const F=de(this,os,R.promise=sm());T(F)},A=N(this,os);switch(A.status){case"pending":e.queryHash===n.queryHash&&T(A);break;case"fulfilled":(R.status==="error"||R.data!==A.value)&&C();break;case"rejected":(R.status!=="error"||R.error!==A.reason)&&C();break}}return R}updateResult(){const e=N(this,gr),r=this.createResult(N(this,qe),this.options);if(de(this,to,N(this,qe).state),de(this,ba,this.options),N(this,to).data!==void 0&&de(this,Sa,N(this,qe)),bd(r,e))return;de(this,gr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!N(this,Ea).size)return!0;const a=new Set(i??N(this,Ea));return this.options.throwOnError&&a.add("error"),Object.keys(N(this,gr)).some(l=>{const c=l;return N(this,gr)[c]!==e[c]&&a.has(c)})};Me(this,tt,kj).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Me(this,tt,cm).call(this)}},Cr=new WeakMap,qe=new WeakMap,yc=new WeakMap,gr=new WeakMap,to=new WeakMap,ba=new WeakMap,os=new WeakMap,Ws=new WeakMap,vc=new WeakMap,ja=new WeakMap,Sa=new WeakMap,ro=new WeakMap,no=new WeakMap,qs=new WeakMap,Ea=new WeakMap,tt=new WeakSet,kl=function(e){Me(this,tt,hm).call(this);let r=N(this,qe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(xr)),r},om=function(){Me(this,tt,um).call(this);const e=li(this.options.staleTime,N(this,qe));if(mo||N(this,gr).isStale||!tm(e))return;const n=xj(N(this,gr).dataUpdatedAt,e)+1;de(this,ro,Hi.setTimeout(()=>{N(this,gr).isStale||this.updateResult()},n))},am=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,qe)):this.options.refetchInterval)??!1},lm=function(e){Me(this,tt,dm).call(this),de(this,qs,e),!(mo||nn(this.options.enabled,N(this,qe))===!1||!tm(N(this,qs))||N(this,qs)===0)&&de(this,no,Hi.setInterval(()=>{(this.options.refetchIntervalInBackground||uy.isFocused())&&Me(this,tt,kl).call(this)},N(this,qs)))},cm=function(){Me(this,tt,om).call(this),Me(this,tt,lm).call(this,Me(this,tt,am).call(this))},um=function(){N(this,ro)&&(Hi.clearTimeout(N(this,ro)),de(this,ro,void 0))},dm=function(){N(this,no)&&(Hi.clearInterval(N(this,no)),de(this,no,void 0))},hm=function(){const e=N(this,Cr).getQueryCache().build(N(this,Cr),this.options);if(e===N(this,qe))return;const r=N(this,qe);de(this,qe,e),de(this,yc,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},kj=function(e){Wt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(N(this,gr))}),N(this,Cr).getQueryCache().notify({query:N(this,qe),type:"observerResultsUpdated"})})},z_);function HO(t,e){return nn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Lx(t,e){return HO(t,e)||t.state.data!==void 0&&fm(t,e,e.refetchOnMount)}function fm(t,e,r){if(nn(e.enabled,t)!==!1&&li(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&dy(t,e)}return!1}function Fx(t,e,r,n){return(t!==e||nn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&dy(t,r)}function dy(t,e){return nn(e.enabled,t)!==!1&&t.isStaleByTime(li(e.staleTime,t))}function KO(t,e){return!bd(t.getCurrentResult(),e)}function Mx(t){return{onFetch:(e,r)=>{var d,h,p,v,g;const n=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=_j(e.options,e.fetchOptions),x=async(_,b,j)=>{if(m)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const S=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:b,direction:j?"backward":"forward",meta:e.options.meta};return y(C),C})(),R=await w(S),{maxPages:D}=e.options,T=j?FO:LO;return{pages:T(_.pages,R,D),pageParams:T(_.pageParams,b,D)}};if(s&&i.length){const _=s==="backward",b=_?GO:Ux,j={pages:i,pageParams:a},E=b(n,j);l=await x(j,E,_)}else{const _=t??i.length;do{const b=c===0?a[0]??n.initialPageParam:Ux(n,l);if(c>0&&b==null)break;l=await x(l,b),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>{var m,y;return(y=(m=e.options).persister)==null?void 0:y.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Ux(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function GO(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var xc,Vn,yr,so,Bn,As,W_,QO=(W_=class extends Ej{constructor(e){super();je(this,Bn);je(this,xc);je(this,Vn);je(this,yr);je(this,so);de(this,xc,e.client),this.mutationId=e.mutationId,de(this,yr,e.mutationCache),de(this,Vn,[]),this.state=e.state||Nj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,Vn).includes(e)||(N(this,Vn).push(e),this.clearGcTimeout(),N(this,yr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){de(this,Vn,N(this,Vn).filter(r=>r!==e)),this.scheduleGc(),N(this,yr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,Vn).length||(this.state.status==="pending"?this.scheduleGc():N(this,yr).remove(this))}continue(){var e;return((e=N(this,so))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,u,d,h,p,v,g,m,y,w,x,_,b,j,E,S,R,D;const r=()=>{Me(this,Bn,As).call(this,{type:"continue"})},n={client:N(this,xc),meta:this.options.meta,mutationKey:this.options.mutationKey};de(this,so,Sj({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,C)=>{Me(this,Bn,As).call(this,{type:"failed",failureCount:T,error:C})},onPause:()=>{Me(this,Bn,As).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,yr).canRun(this)}));const s=this.state.status==="pending",i=!N(this,so).canStart();try{if(s)r();else{Me(this,Bn,As).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(a=N(this,yr).config).onMutate)==null?void 0:l.call(a,e,this,n));const C=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,n));C!==this.state.context&&Me(this,Bn,As).call(this,{type:"pending",context:C,variables:e,isPaused:i})}const T=await N(this,so).start();return await((h=(d=N(this,yr).config).onSuccess)==null?void 0:h.call(d,T,e,this.state.context,this,n)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,T,e,this.state.context,n)),await((m=(g=N(this,yr).config).onSettled)==null?void 0:m.call(g,T,null,this.state.variables,this.state.context,this,n)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,T,null,e,this.state.context,n)),Me(this,Bn,As).call(this,{type:"success",data:T}),T}catch(T){try{throw await((_=(x=N(this,yr).config).onError)==null?void 0:_.call(x,T,e,this.state.context,this,n)),await((j=(b=this.options).onError)==null?void 0:j.call(b,T,e,this.state.context,n)),await((S=(E=N(this,yr).config).onSettled)==null?void 0:S.call(E,void 0,T,this.state.variables,this.state.context,this,n)),await((D=(R=this.options).onSettled)==null?void 0:D.call(R,void 0,T,e,this.state.context,n)),T}finally{Me(this,Bn,As).call(this,{type:"error",error:T})}}finally{N(this,yr).runNext(this)}}},xc=new WeakMap,Vn=new WeakMap,yr=new WeakMap,so=new WeakMap,Bn=new WeakSet,As=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wt.batch(()=>{N(this,Vn).forEach(n=>{n.onMutationUpdate(e)}),N(this,yr).notify({mutation:this,type:"updated",action:e})})},W_);function Nj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var as,_n,wc,q_,JO=(q_=class extends Xa{constructor(e={}){super();je(this,as);je(this,_n);je(this,wc);this.config=e,de(this,as,new Set),de(this,_n,new Map),de(this,wc,0)}build(e,r,n){const s=new QO({client:e,mutationCache:this,mutationId:++Bc(this,wc)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){N(this,as).add(e);const r=ou(e);if(typeof r=="string"){const n=N(this,_n).get(r);n?n.push(e):N(this,_n).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,as).delete(e)){const r=ou(e);if(typeof r=="string"){const n=N(this,_n).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&N(this,_n).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ou(e);if(typeof r=="string"){const n=N(this,_n).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=ou(e);if(typeof r=="string"){const s=(n=N(this,_n).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wt.batch(()=>{N(this,as).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,as).clear(),N(this,_n).clear()})}getAll(){return Array.from(N(this,as))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Ax(r,n))}findAll(e={}){return this.getAll().filter(r=>Ax(e,r))}notify(e){Wt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Wt.batch(()=>Promise.all(e.map(r=>r.continue().catch(xr))))}},as=new WeakMap,_n=new WeakMap,wc=new WeakMap,q_);function ou(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ls,Hs,kr,cs,ps,Lu,pm,H_,ZO=(H_=class extends Xa{constructor(r,n){super();je(this,ps);je(this,ls);je(this,Hs);je(this,kr);je(this,cs);de(this,ls,r),this.setOptions(n),this.bindMethods(),Me(this,ps,Lu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=N(this,ls).defaultMutationOptions(r),bd(this.options,n)||N(this,ls).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,kr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&go(n.mutationKey)!==go(this.options.mutationKey)?this.reset():((s=N(this,kr))==null?void 0:s.state.status)==="pending"&&N(this,kr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,kr))==null||r.removeObserver(this)}onMutationUpdate(r){Me(this,ps,Lu).call(this),Me(this,ps,pm).call(this,r)}getCurrentResult(){return N(this,Hs)}reset(){var r;(r=N(this,kr))==null||r.removeObserver(this),de(this,kr,void 0),Me(this,ps,Lu).call(this),Me(this,ps,pm).call(this)}mutate(r,n){var s;return de(this,cs,n),(s=N(this,kr))==null||s.removeObserver(this),de(this,kr,N(this,ls).getMutationCache().build(N(this,ls),this.options)),N(this,kr).addObserver(this),N(this,kr).execute(r)}},ls=new WeakMap,Hs=new WeakMap,kr=new WeakMap,cs=new WeakMap,ps=new WeakSet,Lu=function(){var n;const r=((n=N(this,kr))==null?void 0:n.state)??Nj();de(this,Hs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},pm=function(r){Wt.batch(()=>{var n,s,i,a,l,c,u,d;if(N(this,cs)&&this.hasListeners()){const h=N(this,Hs).variables,p=N(this,Hs).context,v={client:N(this,ls),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=N(this,cs)).onSuccess)==null||s.call(n,r.data,h,p,v),(a=(i=N(this,cs)).onSettled)==null||a.call(i,r.data,null,h,p,v)):(r==null?void 0:r.type)==="error"&&((c=(l=N(this,cs)).onError)==null||c.call(l,r.error,h,p,v),(d=(u=N(this,cs)).onSettled)==null||d.call(u,void 0,r.error,h,p,v))}this.listeners.forEach(h=>{h(N(this,Hs))})})},H_),zn,K_,YO=(K_=class extends Xa{constructor(e={}){super();je(this,zn);this.config=e,de(this,zn,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??ly(s,r);let a=this.get(i);return a||(a=new WO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){N(this,zn).has(e.queryHash)||(N(this,zn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=N(this,zn).get(e.queryHash);r&&(e.destroy(),r===e&&N(this,zn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,zn).get(e)}getAll(){return[...N(this,zn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Ox(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Ox(e,n)):r}notify(e){Wt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zn=new WeakMap,K_),Ct,Ks,Gs,Ca,ka,Qs,Na,Ta,G_,XO=(G_=class{constructor(t={}){je(this,Ct);je(this,Ks);je(this,Gs);je(this,Ca);je(this,ka);je(this,Qs);je(this,Na);je(this,Ta);de(this,Ct,t.queryCache||new YO),de(this,Ks,t.mutationCache||new JO),de(this,Gs,t.defaultOptions||{}),de(this,Ca,new Map),de(this,ka,new Map),de(this,Qs,0)}mount(){Bc(this,Qs)._++,N(this,Qs)===1&&(de(this,Na,uy.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Ct).onFocus())})),de(this,Ta,jd.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Ct).onOnline())})))}unmount(){var t,e;Bc(this,Qs)._--,N(this,Qs)===0&&((t=N(this,Na))==null||t.call(this),de(this,Na,void 0),(e=N(this,Ta))==null||e.call(this),de(this,Ta,void 0))}isFetching(t){return N(this,Ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,Ks).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,Ct).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=N(this,Ct).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(li(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return N(this,Ct).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=N(this,Ct).get(n.queryHash),i=s==null?void 0:s.state.data,a=IO(e,i);if(a!==void 0)return N(this,Ct).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Wt.batch(()=>N(this,Ct).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,Ct).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=N(this,Ct);Wt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=N(this,Ct);return Wt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Wt.batch(()=>N(this,Ct).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(xr).catch(xr)}invalidateQueries(t,e={}){return Wt.batch(()=>(N(this,Ct).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Wt.batch(()=>N(this,Ct).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=N(this,Ct).build(this,e);return r.isStaleByTime(li(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xr).catch(xr)}fetchInfiniteQuery(t){return t.behavior=Mx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xr).catch(xr)}ensureInfiniteQueryData(t){return t.behavior=Mx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return jd.isOnline()?N(this,Ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Ct)}getMutationCache(){return N(this,Ks)}getDefaultOptions(){return N(this,Gs)}setDefaultOptions(t){de(this,Gs,t)}setQueryDefaults(t,e){N(this,Ca).set(go(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,Ca).values()],r={};return e.forEach(n=>{lc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){N(this,ka).set(go(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,ka).values()],r={};return e.forEach(n=>{lc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,Gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ly(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,Gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,Ct).clear(),N(this,Ks).clear()}},Ct=new WeakMap,Ks=new WeakMap,Gs=new WeakMap,Ca=new WeakMap,ka=new WeakMap,Qs=new WeakMap,Na=new WeakMap,Ta=new WeakMap,G_),Tj=f.createContext(void 0),Sr=t=>{const e=f.useContext(Tj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},eA=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(Tj.Provider,{value:t,children:e})),Rj=f.createContext(!1),tA=()=>f.useContext(Rj);Rj.Provider;function rA(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var nA=f.createContext(rA()),sA=()=>f.useContext(nA),iA=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},oA=t=>{f.useEffect(()=>{t.clearReset()},[t])},aA=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||bj(r,[t.error,n])),lA=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},cA=(t,e)=>t.isLoading&&t.isFetching&&!e,uA=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Vx=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function dA(t,e,r){var h,p,v,g,m;const n=tA(),s=sA(),i=Sr(),a=i.defaultQueryOptions(t);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",lA(a),iA(a,s),oA(s);const l=!i.getQueryCache().get(a.queryHash),[c]=f.useState(()=>new e(i,a)),u=c.getOptimisticResult(a),d=!n&&t.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(y=>{const w=d?c.subscribe(Wt.batchCalls(y)):xr;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(a)},[a,c]),uA(a,u))throw Vx(a,c,s);if(aA({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((g=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,a,u),a.experimental_prefetchInRender&&!mo&&cA(u,n)){const y=l?Vx(a,c,s):(m=i.getQueryCache().get(a.queryHash))==null?void 0:m.promise;y==null||y.catch(xr).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Tn(t,e){return dA(t,qO)}function ht(t,e){const r=Sr(),[n]=f.useState(()=>new ZO(r,t));f.useEffect(()=>{n.setOptions(t)},[n,t]);const s=f.useSyncExternalStore(f.useCallback(a=>n.subscribe(Wt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=f.useCallback((a,l)=>{n.mutate(a,l).catch(xr)},[n]);if(s.error&&bj(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Ve(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Bx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xr(...t){return e=>{let r=!1;const n=t.map(s=>{const i=Bx(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Bx(t[s],null)}}}}function ot(...t){return f.useCallback(Xr(...t),t)}function hA(t,e=[]){let r=[];function n(i,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var w;const{scope:p,children:v,...g}=h,m=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,y=f.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:v})};u.displayName=i+"Provider";function d(h,p){var m;const v=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=f.useContext(v);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,fA(s,...e)]}function fA(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function zx(t){const e=pA(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(gA);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function pA(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=vA(s),l=yA(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mA=Symbol("radix.slottable");function gA(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mA}function yA(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function vA(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Oj(t){const e=t+"CollectionProvider",[r,n]=hA(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:y,children:w}=m,x=ge.useRef(null),_=ge.useRef(new Map).current;return o.jsx(s,{scope:y,itemMap:_,collectionRef:x,children:w})};a.displayName=e;const l=t+"CollectionSlot",c=zx(l),u=ge.forwardRef((m,y)=>{const{scope:w,children:x}=m,_=i(l,w),b=ot(y,_.collectionRef);return o.jsx(c,{ref:b,children:x})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=zx(d),v=ge.forwardRef((m,y)=>{const{scope:w,children:x,..._}=m,b=ge.useRef(null),j=ot(y,b),E=i(d,w);return ge.useEffect(()=>(E.itemMap.set(b,{ref:b,..._}),()=>void E.itemMap.delete(b))),o.jsx(p,{[h]:"",ref:j,children:x})});v.displayName=d;function g(m){const y=i(t+"CollectionConsumer",m);return ge.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((E,S)=>_.indexOf(E.ref.current)-_.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:u,ItemSlot:v},g,n]}function xA(t,e=[]){let r=[];function n(i,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var w;const{scope:p,children:v,...g}=h,m=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,y=f.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:v})};u.displayName=i+"Provider";function d(h,p){var m;const v=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=f.useContext(v);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,wA(s,...e)]}function wA(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function _A(t){const e=bA(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(SA);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function bA(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=CA(s),l=EA(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jA=Symbol("radix.slottable");function SA(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jA}function EA(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function CA(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var kA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Aj=kA.reduce((t,e)=>{const r=_A(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function NA(t,e){t&&wi.flushSync(()=>t.dispatchEvent(e))}function On(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function TA(t,e=globalThis==null?void 0:globalThis.document){const r=On(t);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var RA="DismissableLayer",mm="dismissableLayer.update",OA="dismissableLayer.pointerDownOutside",AA="dismissableLayer.focusOutside",Wx,Pj=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gh=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=f.useContext(Pj),[d,h]=f.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=f.useState({}),g=ot(e,S=>h(S)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(y),x=d?m.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,b=x>=w,j=IA(S=>{const R=S.target,D=[...u.branches].some(T=>T.contains(R));!b||D||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},p),E=DA(S=>{const R=S.target;[...u.branches].some(T=>T.contains(R))||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},p);return TA(S=>{x===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),f.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Wx=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),qx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Wx)}},[d,p,r,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),qx())},[d,u]),f.useEffect(()=>{const S=()=>v({});return document.addEventListener(mm,S),()=>document.removeEventListener(mm,S)},[]),o.jsx(Aj.div,{...c,ref:g,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,j.onPointerDownCapture)})});gh.displayName=RA;var PA="DismissableLayerBranch",Ij=f.forwardRef((t,e)=>{const r=f.useContext(Pj),n=f.useRef(null),s=ot(e,n);return f.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Aj.div,{...t,ref:s})});Ij.displayName=PA;function IA(t,e=globalThis==null?void 0:globalThis.document){const r=On(t),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Dj(OA,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function DA(t,e=globalThis==null?void 0:globalThis.document){const r=On(t),n=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!n.current&&Dj(AA,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function qx(){const t=new CustomEvent(mm);document.dispatchEvent(t)}function Dj(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?NA(s,i):s.dispatchEvent(i)}var $A=gh,LA=Ij;function FA(t){const e=MA(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(VA);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function MA(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=zA(s),l=BA(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var UA=Symbol("radix.slottable");function VA(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===UA}function BA(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function zA(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var WA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qA=WA.reduce((t,e)=>{const r=FA(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),rr=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},HA="Portal",yh=f.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,i]=f.useState(!1);rr(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?SR.createPortal(o.jsx(qA.div,{...n,ref:e}),a):null});yh.displayName=HA;function KA(t,e){return f.useReducer((r,n)=>e[r][n]??r,t)}var el=t=>{const{present:e,children:r}=t,n=GA(e),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),i=ot(n.ref,QA(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:i}):null};el.displayName="Presence";function GA(t){const[e,r]=f.useState(),n=f.useRef(null),s=f.useRef(t),i=f.useRef("none"),a=t?"mounted":"unmounted",[l,c]=KA(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=au(n.current);i.current=l==="mounted"?u:"none"},[l]),rr(()=>{const u=n.current,d=s.current;if(d!==t){const p=i.current,v=au(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),rr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=v=>{const m=au(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&m&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=v=>{v.target===e&&(i.current=au(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function au(t){return(t==null?void 0:t.animationName)||"none"}function QA(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function JA(t){const e=ZA(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(XA);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function ZA(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=tP(s),l=eP(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YA=Symbol("radix.slottable");function XA(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YA}function eP(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function tP(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var rP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tl=rP.reduce((t,e)=>{const r=JA(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function nP(t,e){t&&wi.flushSync(()=>t.dispatchEvent(e))}var sP=Xd[" useInsertionEffect ".trim().toString()]||rr;function cc({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,a]=iP({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s;{const d=f.useRef(t!==void 0);f.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=f.useCallback(d=>{var h;if(l){const p=oP(d)?d(t):d;p!==t&&((h=a.current)==null||h.call(a,p))}else i(d)},[l,t,i,a]);return[c,u]}function iP({defaultProp:t,onChange:e}){const[r,n]=f.useState(t),s=f.useRef(r),i=f.useRef(e);return sP(()=>{i.current=e},[e]),f.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function oP(t){return typeof t=="function"}function aP(t){const e=lP(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(uP);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function lP(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=hP(s),l=dP(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cP=Symbol("radix.slottable");function uP(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cP}function dP(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function hP(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var fP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pP=fP.reduce((t,e)=>{const r=aP(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),$j=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mP="VisuallyHidden",hy=f.forwardRef((t,e)=>o.jsx(pP.span,{...t,ref:e,style:{...$j,...t.style}}));hy.displayName=mP;var fy="ToastProvider",[py,gP,yP]=Oj("Toast"),[Lj]=xA("Toast",[yP]),[vP,vh]=Lj(fy),Fj=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=f.useState(null),[u,d]=f.useState(0),h=f.useRef(!1),p=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${fy}\`. Expected non-empty \`string\`.`),o.jsx(py.Provider,{scope:e,children:o.jsx(vP,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>d(v=>v+1),[]),onToastRemove:f.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};Fj.displayName=fy;var Mj="ToastViewport",xP=["F8"],gm="toast.viewportPause",ym="toast.viewportResume",Uj=f.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=xP,label:s="Notifications ({hotkey})",...i}=t,a=vh(Mj,r),l=gP(r),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),p=ot(e,h,a.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;f.useEffect(()=>{const y=w=>{var _;n.length!==0&&n.every(b=>w[b]||w.code===b)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),f.useEffect(()=>{const y=c.current,w=h.current;if(g&&y&&w){const x=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(gm);w.dispatchEvent(E),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(ym);w.dispatchEvent(E),a.isClosePausedRef.current=!1}},b=E=>{!y.contains(E.relatedTarget)&&_()},j=()=>{y.contains(document.activeElement)||_()};return y.addEventListener("focusin",x),y.addEventListener("focusout",b),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",b),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[g,a.isClosePausedRef]);const m=f.useCallback(({tabbingDirection:y})=>{const x=l().map(_=>{const b=_.ref.current,j=[b,...AP(b)];return y==="forwards"?j:j.reverse()});return(y==="forwards"?x.reverse():x).flat()},[l]);return f.useEffect(()=>{const y=h.current;if(y){const w=x=>{var j,E,S;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const R=document.activeElement,D=x.shiftKey;if(x.target===y&&D){(j=u.current)==null||j.focus();return}const A=m({tabbingDirection:D?"backwards":"forwards"}),F=A.findIndex(z=>z===R);Ef(A.slice(F+1))?x.preventDefault():D?(E=u.current)==null||E.focus():(S=d.current)==null||S.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,m]),o.jsxs(LA,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(vm,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});Ef(y)}}),o.jsx(py.Slot,{scope:r,children:o.jsx(tl.ol,{tabIndex:-1,...i,ref:p})}),g&&o.jsx(vm,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});Ef(y)}})]})});Uj.displayName=Mj;var Vj="ToastFocusProxy",vm=f.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=vh(Vj,r);return o.jsx(hy,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});vm.displayName=Vj;var kc="Toast",wP="toast.swipeStart",_P="toast.swipeMove",bP="toast.swipeCancel",jP="toast.swipeEnd",Bj=f.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=t,[l,c]=cc({prop:n,defaultProp:s??!0,onChange:i,caller:kc});return o.jsx(el,{present:r||l,children:o.jsx(CP,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:On(t.onPause),onResume:On(t.onResume),onSwipeStart:Ve(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ve(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ve(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ve(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Bj.displayName=kc;var[SP,EP]=Lj(kc,{onClose(){}}),CP=f.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:v,...g}=t,m=vh(kc,r),[y,w]=f.useState(null),x=ot(e,z=>w(z)),_=f.useRef(null),b=f.useRef(null),j=s||m.duration,E=f.useRef(0),S=f.useRef(j),R=f.useRef(0),{onToastAdd:D,onToastRemove:T}=m,C=On(()=>{var H;(y==null?void 0:y.contains(document.activeElement))&&((H=m.viewport)==null||H.focus()),a()}),A=f.useCallback(z=>{!z||z===1/0||(window.clearTimeout(R.current),E.current=new Date().getTime(),R.current=window.setTimeout(C,z))},[C]);f.useEffect(()=>{const z=m.viewport;if(z){const H=()=>{A(S.current),u==null||u()},J=()=>{const ce=new Date().getTime()-E.current;S.current=S.current-ce,window.clearTimeout(R.current),c==null||c()};return z.addEventListener(gm,J),z.addEventListener(ym,H),()=>{z.removeEventListener(gm,J),z.removeEventListener(ym,H)}}},[m.viewport,j,c,u,A]),f.useEffect(()=>{i&&!m.isClosePausedRef.current&&A(j)},[i,j,m.isClosePausedRef,A]),f.useEffect(()=>(D(),()=>T()),[D,T]);const F=f.useMemo(()=>y?Qj(y):null,[y]);return m.viewport?o.jsxs(o.Fragment,{children:[F&&o.jsx(kP,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:F}),o.jsx(SP,{scope:r,onClose:C,children:wi.createPortal(o.jsx(py.ItemSlot,{scope:r,children:o.jsx($A,{asChild:!0,onEscapeKeyDown:Ve(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(tl.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ve(t.onKeyDown,z=>{z.key==="Escape"&&(l==null||l(z.nativeEvent),z.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:Ve(t.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:Ve(t.onPointerMove,z=>{if(!_.current)return;const H=z.clientX-_.current.x,J=z.clientY-_.current.y,ce=!!b.current,P=["left","right"].includes(m.swipeDirection),Q=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ie=P?Q(0,H):0,$=P?0:Q(0,J),K=z.pointerType==="touch"?10:2,he={x:ie,y:$},Oe={originalEvent:z,delta:he};ce?(b.current=he,lu(_P,h,Oe,{discrete:!1})):Hx(he,m.swipeDirection,K)?(b.current=he,lu(wP,d,Oe,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(H)>K||Math.abs(J)>K)&&(_.current=null)}),onPointerUp:Ve(t.onPointerUp,z=>{const H=b.current,J=z.target;if(J.hasPointerCapture(z.pointerId)&&J.releasePointerCapture(z.pointerId),b.current=null,_.current=null,H){const ce=z.currentTarget,P={originalEvent:z,delta:H};Hx(H,m.swipeDirection,m.swipeThreshold)?lu(jP,v,P,{discrete:!0}):lu(bP,p,P,{discrete:!0}),ce.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),kP=t=>{const{__scopeToast:e,children:r,...n}=t,s=vh(kc,e),[i,a]=f.useState(!1),[l,c]=f.useState(!1);return RP(()=>a(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(yh,{asChild:!0,children:o.jsx(hy,{...n,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},NP="ToastTitle",zj=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(tl.div,{...n,ref:e})});zj.displayName=NP;var TP="ToastDescription",Wj=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(tl.div,{...n,ref:e})});Wj.displayName=TP;var qj="ToastAction",Hj=f.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?o.jsx(Gj,{altText:r,asChild:!0,children:o.jsx(my,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qj}\`. Expected non-empty \`string\`.`),null)});Hj.displayName=qj;var Kj="ToastClose",my=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=EP(Kj,r);return o.jsx(Gj,{asChild:!0,children:o.jsx(tl.button,{type:"button",...n,ref:e,onClick:Ve(t.onClick,s.onClose)})})});my.displayName=Kj;var Gj=f.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return o.jsx(tl.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Qj(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),OP(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Qj(n))}}),e}function lu(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?nP(s,i):s.dispatchEvent(i)}var Hx=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function RP(t=()=>{}){const e=On(t);rr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function OP(t){return t.nodeType===t.ELEMENT_NODE}function AP(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ef(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var PP=Fj,Jj=Uj,Zj=Bj,Yj=zj,Xj=Wj,eS=Hj,tS=my;function rS(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=rS(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function nS(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=rS(t))&&(n&&(n+=" "),n+=e);return n}const Kx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Gx=nS,xh=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Gx(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const p=Kx(d)||Kx(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...v}=d;return Object.entries(v).every(g=>{let[m,y]=g;return Array.isArray(y)?y.includes({...i,...l}[m]):{...i,...l}[m]===y})?[...u,h,p]:u},[]);return Gx(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const r=f.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>f.createElement("svg",{ref:d,...IP,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${DP(t)}`,l].join(" "),...u},[...e.map(([h,p])=>f.createElement(h,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=We("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=We("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=We("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=We("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=We("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=We("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=We("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=We("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=We("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=We("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=We("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=We("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=We("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=We("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=We("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=We("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=We("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yy="-",eI=t=>{const e=rI(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const l=a.split(yy);return l[0]===""&&l.length!==1&&l.shift(),lS(l,e)||tI(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},lS=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?lS(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(yy);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},tw=/^\[(.+)\]$/,tI=t=>{if(tw.test(t)){const e=tw.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},rI=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return sI(Object.entries(t.classGroups),r).forEach(([i,a])=>{xm(a,n,i,e)}),n},xm=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:rw(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(nI(s)){xm(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{xm(a,rw(e,i),r,n)})})},rw=(t,e)=>{let r=t;return e.split(yy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nI=t=>t.isThemeGetter,sI=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[r,s]}):t,iI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},cS="!",oI=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let w=l[y];if(u===0){if(w===s&&(n||l.slice(y,y+i)===e)){c.push(l.slice(d,y)),d=y+i;continue}if(w==="/"){h=y;continue}}w==="["?u++:w==="]"&&u--}const p=c.length===0?l:l.substring(d),v=p.startsWith(cS),g=v?p.substring(1):p,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:a}):a},aI=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},lI=t=>({cache:iI(t.cacheSize),parseClassName:oI(t),...eI(t)}),cI=/\s+/,uI=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(cI);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}=r(u);let g=!!v,m=n(g?p.substring(0,v):p);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(p),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=aI(d).join(":"),w=h?y+cS:y,x=w+m;if(i.includes(x))continue;i.push(x);const _=s(m,g);for(let b=0;b<_.length;++b){const j=_[b];i.push(w+j)}l=u+(l.length>0?" "+l:l)}return l};function dI(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=uS(e))&&(n&&(n+=" "),n+=r);return n}const uS=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=uS(t[n]))&&(r&&(r+=" "),r+=e);return r};function hI(t,...e){let r,n,s,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return r=lI(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=uI(c,r);return s(c,d),d}return function(){return i(dI.apply(null,arguments))}}const ft=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},dS=/^\[(?:([a-z-]+):)?(.+)\]$/i,fI=/^\d+\/\d+$/,pI=new Set(["px","full","screen"]),mI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ts=t=>ua(t)||pI.has(t)||fI.test(t),Ts=t=>rl(t,"length",kI),ua=t=>!!t&&!Number.isNaN(Number(t)),Cf=t=>rl(t,"number",ua),xl=t=>!!t&&Number.isInteger(Number(t)),wI=t=>t.endsWith("%")&&ua(t.slice(0,-1)),Le=t=>dS.test(t),Rs=t=>mI.test(t),_I=new Set(["length","size","percentage"]),bI=t=>rl(t,_I,hS),jI=t=>rl(t,"position",hS),SI=new Set(["image","url"]),EI=t=>rl(t,SI,TI),CI=t=>rl(t,"",NI),wl=()=>!0,rl=(t,e,r)=>{const n=dS.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},kI=t=>gI.test(t)&&!yI.test(t),hS=()=>!1,NI=t=>vI.test(t),TI=t=>xI.test(t),RI=()=>{const t=ft("colors"),e=ft("spacing"),r=ft("blur"),n=ft("brightness"),s=ft("borderColor"),i=ft("borderRadius"),a=ft("borderSpacing"),l=ft("borderWidth"),c=ft("contrast"),u=ft("grayscale"),d=ft("hueRotate"),h=ft("invert"),p=ft("gap"),v=ft("gradientColorStops"),g=ft("gradientColorStopPositions"),m=ft("inset"),y=ft("margin"),w=ft("opacity"),x=ft("padding"),_=ft("saturate"),b=ft("scale"),j=ft("sepia"),E=ft("skew"),S=ft("space"),R=ft("translate"),D=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Le,e],A=()=>[Le,e],F=()=>["",ts,Ts],z=()=>["auto",ua,Le],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Le],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[ua,Le];return{cacheSize:500,separator:":",theme:{colors:[wl],spacing:[ts,Ts],blur:["none","",Rs,Le],brightness:$(),borderColor:[t],borderRadius:["none","","full",Rs,Le],borderSpacing:A(),borderWidth:F(),contrast:$(),grayscale:Q(),hueRotate:$(),invert:Q(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[wI,Ts],inset:C(),margin:C(),opacity:$(),padding:A(),saturate:$(),scale:$(),sepia:Q(),skew:$(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Le]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xl,Le]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",xl,Le]}],"grid-cols":[{"grid-cols":[wl]}],"col-start-end":[{col:["auto",{span:["full",xl,Le]},Le]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[wl]}],"row-start-end":[{row:["auto",{span:[xl,Le]},Le]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cf]}],"font-family":[{font:[wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",ua,Cf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ts,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ts,Ts]}],"underline-offset":[{"underline-offset":["auto",ts,Le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),jI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[ts,Le]}],"outline-w":[{outline:[ts,Ts]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ts,Ts]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rs,CI]}],"shadow-color":[{shadow:[wl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rs,Le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[xl,Le]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ts,Ts,Cf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OI=hI(RI);function we(...t){return OI(nS(t))}const AI=PP,fS=f.forwardRef(({className:t,...e},r)=>o.jsx(Jj,{ref:r,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fS.displayName=Jj.displayName;const PI=xh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[state=closed]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:animate-in data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pS=f.forwardRef(({className:t,variant:e,...r},n)=>o.jsx(Zj,{ref:n,className:we(PI({variant:e}),t),...r}));pS.displayName=Zj.displayName;const II=f.forwardRef(({className:t,...e},r)=>o.jsx(eS,{ref:r,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));II.displayName=eS.displayName;const mS=f.forwardRef(({className:t,...e},r)=>o.jsx(tS,{ref:r,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Ed,{className:"h-4 w-4"})}));mS.displayName=tS.displayName;const gS=f.forwardRef(({className:t,...e},r)=>o.jsx(Yj,{ref:r,className:we("text-sm font-semibold",t),...e}));gS.displayName=Yj.displayName;const yS=f.forwardRef(({className:t,...e},r)=>o.jsx(Xj,{ref:r,className:we("text-sm opacity-90",t),...e}));yS.displayName=Xj.displayName;const DI=1,$I=1e6;let kf=0;function LI(){return kf=(kf+1)%Number.MAX_SAFE_INTEGER,kf.toString()}const Nf=new Map,nw=t=>{if(Nf.has(t))return;const e=setTimeout(()=>{Nf.delete(t),Bl({type:"REMOVE_TOAST",toastId:t})},$I);Nf.set(t,e)},FI=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,DI)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?nw(r):t.toasts.forEach(n=>{nw(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||e.toastId===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Fu=[];let Mu={toasts:[]};function Bl(t){Mu=FI(Mu,t),Fu.forEach(e=>{e(Mu)})}function Uu({...t}){const e=LI(),r=s=>Bl({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Bl({type:"DISMISS_TOAST",toastId:e});return Bl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function pr(){const[t,e]=f.useState(Mu);return f.useEffect(()=>(Fu.push(e),()=>{const r=Fu.indexOf(e);r>-1&&Fu.splice(r,1)}),[t]),{...t,toast:Uu,dismiss:r=>Bl({type:"DISMISS_TOAST",toastId:r})}}function MI(){const{toasts:t}=pr();return o.jsxs(AI,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return o.jsxs(pS,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(gS,{children:r}),n&&o.jsx(yS,{children:n})]}),s,o.jsx(mS,{})]},e)}),o.jsx(fS,{})]})}var Tc=t=>t.type==="checkbox",Ki=t=>t instanceof Date,Nr=t=>t==null;const vS=t=>typeof t=="object";var Bt=t=>!Nr(t)&&!Array.isArray(t)&&vS(t)&&!Ki(t),xS=t=>Bt(t)&&t.target?Tc(t.target)?t.target.checked:t.target.value:t,UI=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,wS=(t,e)=>t.has(UI(e)),VI=t=>{const e=t.constructor&&t.constructor.prototype;return Bt(e)&&e.hasOwnProperty("isPrototypeOf")},vy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(vy&&(t instanceof Blob||n))&&(r||Bt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!VI(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=mt(t[s]));else return t;return e}var _h=t=>/^\w*$/.test(t),ut=t=>t===void 0,bh=t=>Array.isArray(t)?t.filter(Boolean):[],xy=t=>bh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,r)=>{if(!e||!Bt(t))return r;const n=(_h(e)?[e]:xy(e)).reduce((s,i)=>Nr(s)?s:s[i],t);return ut(n)||n===t?ut(t[e])?r:t[e]:n},Mr=t=>typeof t=="boolean",Ze=(t,e,r)=>{let n=-1;const s=_h(e)?[e]:xy(e),i=s.length,a=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==a){const u=t[l];c=Bt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Cd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},an={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wy=ge.createContext(null);wy.displayName="HookFormContext";const Rc=()=>ge.useContext(wy),BI=t=>{const{children:e,...r}=t;return ge.createElement(wy.Provider,{value:r},e)};var _S=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==an.all&&(e._proxyFormState[a]=!n||an.all),r&&(r[a]=!0),t[a]}});return s};const jh=typeof window<"u"?ge.useLayoutEffect:ge.useEffect;function zI(t){const e=Rc(),{control:r=e.control,disabled:n,name:s,exact:i}=t||{},[a,l]=ge.useState(r._formState),c=ge.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return jh(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),ge.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ge.useMemo(()=>_S(a,r,c.current,!1),[a,r])}var Vr=t=>typeof t=="string",wm=(t,e,r,n,s)=>Vr(t)?(n&&e.watch.add(t),ae(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),ae(r,i))):(n&&(e.watchAll=!0),r),_m=t=>Nr(t)||!vS(t);function En(t,e,r=new WeakSet){if(_m(t)||_m(e))return Object.is(t,e);if(Ki(t)&&Ki(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Ki(a)&&Ki(l)||Bt(a)&&Bt(l)||Array.isArray(a)&&Array.isArray(l)?!En(a,l,r):!Object.is(a,l))return!1}}return!0}function WI(t){const e=Rc(),{control:r=e.control,name:n,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=ge.useRef(s),u=ge.useRef(l),d=ge.useRef(void 0),h=ge.useRef(r),p=ge.useRef(n);u.current=l;const[v,g]=ge.useState(()=>{const b=r._getWatch(n,c.current);return u.current?u.current(b):b}),m=ge.useCallback(b=>{const j=wm(n,r._names,b||r._formValues,!1,c.current);return u.current?u.current(j):j},[r._formValues,r._names,n]),y=ge.useCallback(b=>{if(!i){const j=wm(n,r._names,b||r._formValues,!1,c.current);if(u.current){const E=u.current(j);En(E,d.current)||(g(E),d.current=E)}else g(j)}},[r._formValues,r._names,i,n]);jh(()=>((h.current!==r||!En(p.current,n))&&(h.current=r,p.current=n,y()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:b=>{y(b.values)}})),[r,a,n,y]),ge.useEffect(()=>r._removeUnmounted());const w=h.current!==r,x=p.current,_=ge.useMemo(()=>{if(i)return null;const b=!w&&!En(x,n);return w||b?m():null},[i,w,n,x,m]);return _!==null?_:v}function qI(t){const e=Rc(),{name:r,disabled:n,control:s=e.control,shouldUnregister:i,defaultValue:a,exact:l=!0}=t,c=wS(s._names.array,r),u=ge.useMemo(()=>ae(s._formValues,r,ae(s._defaultValues,r,a)),[s,r,a]),d=WI({control:s,name:r,defaultValue:u,exact:l}),h=zI({control:s,name:r,exact:l}),p=ge.useRef(t),v=ge.useRef(void 0),g=ge.useRef(s.register(r,{...t.rules,value:d,...Mr(t.disabled)?{disabled:t.disabled}:{}}));p.current=t;const m=ge.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ae(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ae(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ae(h.validatingFields,r)},error:{enumerable:!0,get:()=>ae(h.errors,r)}}),[h,r]),y=ge.useCallback(b=>g.current.onChange({target:{value:xS(b),name:r},type:Cd.CHANGE}),[r]),w=ge.useCallback(()=>g.current.onBlur({target:{value:ae(s._formValues,r),name:r},type:Cd.BLUR}),[r,s._formValues]),x=ge.useCallback(b=>{const j=ae(s._fields,r);j&&b&&(j._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:E=>b.setCustomValidity(E),reportValidity:()=>b.reportValidity()})},[s._fields,r]),_=ge.useMemo(()=>({name:r,value:d,...Mr(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:y,onBlur:w,ref:x}),[r,n,h.disabled,y,w,x,d]);return ge.useEffect(()=>{const b=s._options.shouldUnregister||i,j=v.current;j&&j!==r&&!c&&s.unregister(j),s.register(r,{...p.current.rules,...Mr(p.current.disabled)?{disabled:p.current.disabled}:{}});const E=(S,R)=>{const D=ae(s._fields,S);D&&D._f&&(D._f.mount=R)};if(E(r,!0),b){const S=mt(ae(s._options.defaultValues,r,p.current.defaultValue));Ze(s._defaultValues,r,S),ut(ae(s._formValues,r))&&Ze(s._formValues,r,S)}return!c&&s.register(r),v.current=r,()=>{(c?b&&!s._state.action:b)?s.unregister(r):E(r,!1)}},[r,s,c,i]),ge.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),ge.useMemo(()=>({field:_,formState:h,fieldState:m}),[_,h,m])}const HI=t=>t.render(qI(t));var bS=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Ar=t=>Array.isArray(t)?t:[t],sw=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function jS(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],i=e[n];if(s&&Bt(s)&&i){const a=jS(s,i);Bt(a)&&(r[n]=a)}else t[n]&&(r[n]=i)}return r}var cr=t=>Bt(t)&&!Object.keys(t).length,_y=t=>t.type==="file",Cn=t=>typeof t=="function",kd=t=>{if(!vy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},SS=t=>t.type==="select-multiple",by=t=>t.type==="radio",KI=t=>by(t)||Tc(t),Tf=t=>kd(t)&&t.isConnected;function GI(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ut(t)?n++:t[e[n++]];return t}function QI(t){for(const e in t)if(t.hasOwnProperty(e)&&!ut(t[e]))return!1;return!0}function At(t,e){const r=Array.isArray(e)?e:_h(e)?[e]:xy(e),n=r.length===1?t:GI(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Bt(n)&&cr(n)||Array.isArray(n)&&QI(n))&&At(t,r.slice(0,-1)),t}var JI=t=>{for(const e in t)if(Cn(t[e]))return!0;return!1};function ES(t){return Array.isArray(t)||Bt(t)&&!JI(t)}function bm(t,e={}){for(const r in t){const n=t[r];ES(n)?(e[r]=Array.isArray(n)?[]:{},bm(n,e[r])):ut(n)||(e[r]=!0)}return e}function Vo(t,e,r){r||(r=bm(e));for(const n in t){const s=t[n];if(ES(s))ut(e)||_m(r[n])?r[n]=bm(s,Array.isArray(s)?[]:{}):Vo(s,Nr(e)?{}:e[n],r[n]);else{const i=e[n];r[n]=!En(s,i)}}return r}const iw={value:!1,isValid:!1},ow={value:!0,isValid:!0};var CS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ut(t[0].attributes.value)?ut(t[0].value)||t[0].value===""?ow:{value:t[0].value,isValid:!0}:ow:iw}return iw},kS=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ut(t)?t:e?t===""?NaN:t&&+t:r&&Vr(t)?new Date(t):n?n(t):t;const aw={isValid:!1,value:null};var NS=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,aw):aw;function lw(t){const e=t.ref;return _y(e)?e.files:by(e)?NS(t.refs).value:SS(e)?[...e.selectedOptions].map(({value:r})=>r):Tc(e)?CS(t.refs).value:kS(ut(e.value)?t.ref.value:e.value,t)}var ZI=(t,e,r,n)=>{const s={};for(const i of t){const a=ae(e,i);a&&Ze(s,i,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Nd=t=>t instanceof RegExp,_l=t=>ut(t)?t:Nd(t)?t.source:Bt(t)?Nd(t.value)?t.value.source:t.value:t,na=t=>({isOnSubmit:!t||t===an.onSubmit,isOnBlur:t===an.onBlur,isOnChange:t===an.onChange,isOnAll:t===an.all,isOnTouch:t===an.onTouched});const cw="AsyncFunction";var YI=t=>!!t&&!!t.validate&&!!(Cn(t.validate)&&t.validate.constructor.name===cw||Bt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===cw)),XI=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),jm=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const da=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=ae(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(da(l,e))break}else if(Bt(l)&&da(l,e))break}}};function uw(t,e,r){const n=ae(t,r);if(n||_h(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=ae(e,i),l=ae(t,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var eD=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return cr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!n||an.all))},tD=(t,e,r)=>!t||!e||t===e||Ar(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),rD=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,nD=(t,e)=>!bh(ae(t,e)).length&&At(t,e),TS=(t,e,r)=>{const n=Ar(ae(t,r));return Ze(n,"root",e[r]),Ze(t,r,n),t};function dw(t,e,r="validate"){if(Vr(t)||Array.isArray(t)&&t.every(Vr)||Mr(t)&&!t)return{type:r,message:Vr(t)?t:"",ref:e}}var Po=t=>Bt(t)&&!Nd(t)?t:{value:t,message:""},Sm=async(t,e,r,n,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:v,validate:g,name:m,valueAsNumber:y,mount:w}=t._f,x=ae(r,m);if(!w||e.has(m))return{};const _=l?l[0]:a,b=A=>{s&&_.reportValidity&&(_.setCustomValidity(Mr(A)?"":A||""),_.reportValidity())},j={},E=by(a),S=Tc(a),R=E||S,D=(y||_y(a))&&ut(a.value)&&ut(x)||kd(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,T=bS.bind(null,m,n,j),C=(A,F,z,H=rs.maxLength,J=rs.minLength)=>{const ce=A?F:z;j[m]={type:A?H:J,message:ce,ref:a,...T(A?H:J,ce)}};if(i?!Array.isArray(x)||!x.length:c&&(!R&&(D||Nr(x))||Mr(x)&&!x||S&&!CS(l).isValid||E&&!NS(l).isValid)){const{value:A,message:F}=Vr(c)?{value:!!c,message:c}:Po(c);if(A&&(j[m]={type:rs.required,message:F,ref:_,...T(rs.required,F)},!n))return b(F),j}if(!D&&(!Nr(h)||!Nr(p))){let A,F;const z=Po(p),H=Po(h);if(!Nr(x)&&!isNaN(x)){const J=a.valueAsNumber||x&&+x;Nr(z.value)||(A=J>z.value),Nr(H.value)||(F=J<H.value)}else{const J=a.valueAsDate||new Date(x),ce=ie=>new Date(new Date().toDateString()+" "+ie),P=a.type=="time",Q=a.type=="week";Vr(z.value)&&x&&(A=P?ce(x)>ce(z.value):Q?x>z.value:J>new Date(z.value)),Vr(H.value)&&x&&(F=P?ce(x)<ce(H.value):Q?x<H.value:J<new Date(H.value))}if((A||F)&&(C(!!A,z.message,H.message,rs.max,rs.min),!n))return b(j[m].message),j}if((u||d)&&!D&&(Vr(x)||i&&Array.isArray(x))){const A=Po(u),F=Po(d),z=!Nr(A.value)&&x.length>+A.value,H=!Nr(F.value)&&x.length<+F.value;if((z||H)&&(C(z,A.message,F.message),!n))return b(j[m].message),j}if(v&&!D&&Vr(x)){const{value:A,message:F}=Po(v);if(Nd(A)&&!x.match(A)&&(j[m]={type:rs.pattern,message:F,ref:a,...T(rs.pattern,F)},!n))return b(F),j}if(g){if(Cn(g)){const A=await g(x,r),F=dw(A,_);if(F&&(j[m]={...F,...T(rs.validate,F.message)},!n))return b(F.message),j}else if(Bt(g)){let A={};for(const F in g){if(!cr(A)&&!n)break;const z=dw(await g[F](x,r),_,F);z&&(A={...z,...T(F,z.message)},b(z.message),n&&(j[m]=A))}if(!cr(A)&&(j[m]={ref:_,...A},!n))return j}}return b(!0),j};const sD={mode:an.onSubmit,reValidateMode:an.onChange,shouldFocusError:!0};function iD(t={}){let e={...sD,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Cn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Bt(e.defaultValues)||Bt(e.values)?mt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:mt(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:sw(),state:sw()},v=e.criteriaMode===an.all,g=k=>I=>{clearTimeout(u),u=setTimeout(k,I)},m=async k=>{if(!e.disabled&&(d.isValid||h.isValid||k)){const I=e.resolver?cr((await S()).errors):await D(n,!0);I!==r.isValid&&p.state.next({isValid:I})}},y=(k,I)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((k||Array.from(l.mount)).forEach(M=>{M&&(I?Ze(r.validatingFields,M,I):At(r.validatingFields,M))}),p.state.next({validatingFields:r.validatingFields,isValidating:!cr(r.validatingFields)}))},w=(k,I=[],M,ue,le=!0,oe=!0)=>{if(ue&&M&&!e.disabled){if(a.action=!0,oe&&Array.isArray(ae(n,k))){const Se=M(ae(n,k),ue.argA,ue.argB);le&&Ze(n,k,Se)}if(oe&&Array.isArray(ae(r.errors,k))){const Se=M(ae(r.errors,k),ue.argA,ue.argB);le&&Ze(r.errors,k,Se),nD(r.errors,k)}if((d.touchedFields||h.touchedFields)&&oe&&Array.isArray(ae(r.touchedFields,k))){const Se=M(ae(r.touchedFields,k),ue.argA,ue.argB);le&&Ze(r.touchedFields,k,Se)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Vo(s,i)),p.state.next({name:k,isDirty:C(k,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ze(i,k,I)},x=(k,I)=>{Ze(r.errors,k,I),p.state.next({errors:r.errors})},_=k=>{r.errors=k,p.state.next({errors:r.errors,isValid:!1})},b=(k,I,M,ue)=>{const le=ae(n,k);if(le){const oe=ae(i,k,ut(M)?ae(s,k):M);ut(oe)||ue&&ue.defaultChecked||I?Ze(i,k,I?oe:lw(le._f)):z(k,oe),a.mount&&!a.action&&m()}},j=(k,I,M,ue,le)=>{let oe=!1,Se=!1;const rt={name:k};if(!e.disabled){if(!M||ue){(d.isDirty||h.isDirty)&&(Se=r.isDirty,r.isDirty=rt.isDirty=C(),oe=Se!==rt.isDirty);const lt=En(ae(s,k),I);Se=!!ae(r.dirtyFields,k),lt?At(r.dirtyFields,k):Ze(r.dirtyFields,k,!0),rt.dirtyFields=r.dirtyFields,oe=oe||(d.dirtyFields||h.dirtyFields)&&Se!==!lt}if(M){const lt=ae(r.touchedFields,k);lt||(Ze(r.touchedFields,k,M),rt.touchedFields=r.touchedFields,oe=oe||(d.touchedFields||h.touchedFields)&&lt!==M)}oe&&le&&p.state.next(rt)}return oe?rt:{}},E=(k,I,M,ue)=>{const le=ae(r.errors,k),oe=(d.isValid||h.isValid)&&Mr(I)&&r.isValid!==I;if(e.delayError&&M?(c=g(()=>x(k,M)),c(e.delayError)):(clearTimeout(u),c=null,M?Ze(r.errors,k,M):At(r.errors,k)),(M?!En(le,M):le)||!cr(ue)||oe){const Se={...ue,...oe&&Mr(I)?{isValid:I}:{},errors:r.errors,name:k};r={...r,...Se},p.state.next(Se)}},S=async k=>{y(k,!0);const I=await e.resolver(i,e.context,ZI(k||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(k),I},R=async k=>{const{errors:I}=await S(k);if(k)for(const M of k){const ue=ae(I,M);ue?Ze(r.errors,M,ue):At(r.errors,M)}else r.errors=I;return I},D=async(k,I,M={valid:!0})=>{for(const ue in k){const le=k[ue];if(le){const{_f:oe,...Se}=le;if(oe){const rt=l.array.has(oe.name),lt=le._f&&YI(le._f);lt&&d.validatingFields&&y([oe.name],!0);const tn=await Sm(le,l.disabled,i,v,e.shouldUseNativeValidation&&!I,rt);if(lt&&d.validatingFields&&y([oe.name]),tn[oe.name]&&(M.valid=!1,I))break;!I&&(ae(tn,oe.name)?rt?TS(r.errors,tn,oe.name):Ze(r.errors,oe.name,tn[oe.name]):At(r.errors,oe.name))}!cr(Se)&&await D(Se,I,M)}}return M.valid},T=()=>{for(const k of l.unMount){const I=ae(n,k);I&&(I._f.refs?I._f.refs.every(M=>!Tf(M)):!Tf(I._f.ref))&&ne(k)}l.unMount=new Set},C=(k,I)=>!e.disabled&&(k&&I&&Ze(i,k,I),!En(ie(),s)),A=(k,I,M)=>wm(k,l,{...a.mount?i:ut(I)?s:Vr(k)?{[k]:I}:I},M,I),F=k=>bh(ae(a.mount?i:s,k,e.shouldUnregister?ae(s,k,[]):[])),z=(k,I,M={})=>{const ue=ae(n,k);let le=I;if(ue){const oe=ue._f;oe&&(!oe.disabled&&Ze(i,k,kS(I,oe)),le=kd(oe.ref)&&Nr(I)?"":I,SS(oe.ref)?[...oe.ref.options].forEach(Se=>Se.selected=le.includes(Se.value)):oe.refs?Tc(oe.ref)?oe.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(le)?Se.checked=!!le.find(rt=>rt===Se.value):Se.checked=le===Se.value||!!le)}):oe.refs.forEach(Se=>Se.checked=Se.value===le):_y(oe.ref)?oe.ref.value="":(oe.ref.value=le,oe.ref.type||p.state.next({name:k,values:mt(i)})))}(M.shouldDirty||M.shouldTouch)&&j(k,le,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&Q(k)},H=(k,I,M)=>{for(const ue in I){if(!I.hasOwnProperty(ue))return;const le=I[ue],oe=k+"."+ue,Se=ae(n,oe);(l.array.has(k)||Bt(le)||Se&&!Se._f)&&!Ki(le)?H(oe,le,M):z(oe,le,M)}},J=(k,I,M={})=>{const ue=ae(n,k),le=l.array.has(k),oe=mt(I);Ze(i,k,oe),le?(p.array.next({name:k,values:mt(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&M.shouldDirty&&p.state.next({name:k,dirtyFields:Vo(s,i),isDirty:C(k,oe)})):ue&&!ue._f&&!Nr(oe)?H(k,oe,M):z(k,oe,M),jm(k,l)&&p.state.next({...r,name:k}),p.state.next({name:a.mount?k:void 0,values:mt(i)})},ce=async k=>{a.mount=!0;const I=k.target;let M=I.name,ue=!0;const le=ae(n,M),oe=lt=>{ue=Number.isNaN(lt)||Ki(lt)&&isNaN(lt.getTime())||En(lt,ae(i,M,lt))},Se=na(e.mode),rt=na(e.reValidateMode);if(le){let lt,tn;const Vc=I.type?lw(le._f):xS(k),ks=k.type===Cd.BLUR||k.type===Cd.FOCUS_OUT,JN=!XI(le._f)&&!e.resolver&&!ae(r.errors,M)&&!le._f.deps||rD(ks,ae(r.touchedFields,M),r.isSubmitted,rt,Se),Gh=jm(M,l,ks);Ze(i,M,Vc),ks?(!I||!I.readOnly)&&(le._f.onBlur&&le._f.onBlur(k),c&&c(0)):le._f.onChange&&le._f.onChange(k);const Qh=j(M,Vc,ks),ZN=!cr(Qh)||Gh;if(!ks&&p.state.next({name:M,type:k.type,values:mt(i)}),JN)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?ks&&m():ks||m()),ZN&&p.state.next({name:M,...Gh?{}:Qh});if(!ks&&Gh&&p.state.next({...r}),e.resolver){const{errors:uv}=await S([M]);if(oe(Vc),ue){const YN=uw(r.errors,n,M),dv=uw(uv,n,YN.name||M);lt=dv.error,M=dv.name,tn=cr(uv)}}else y([M],!0),lt=(await Sm(le,l.disabled,i,v,e.shouldUseNativeValidation))[M],y([M]),oe(Vc),ue&&(lt?tn=!1:(d.isValid||h.isValid)&&(tn=await D(n,!0)));ue&&(le._f.deps&&(!Array.isArray(le._f.deps)||le._f.deps.length>0)&&Q(le._f.deps),E(M,tn,lt,Qh))}},P=(k,I)=>{if(ae(r.errors,I)&&k.focus)return k.focus(),1},Q=async(k,I={})=>{let M,ue;const le=Ar(k);if(e.resolver){const oe=await R(ut(k)?k:le);M=cr(oe),ue=k?!le.some(Se=>ae(oe,Se)):M}else k?(ue=(await Promise.all(le.map(async oe=>{const Se=ae(n,oe);return await D(Se&&Se._f?{[oe]:Se}:Se)}))).every(Boolean),!(!ue&&!r.isValid)&&m()):ue=M=await D(n);return p.state.next({...!Vr(k)||(d.isValid||h.isValid)&&M!==r.isValid?{}:{name:k},...e.resolver||!k?{isValid:M}:{},errors:r.errors}),I.shouldFocus&&!ue&&da(n,P,k?le:l.mount),ue},ie=(k,I)=>{let M={...a.mount?i:s};return I&&(M=jS(I.dirtyFields?r.dirtyFields:r.touchedFields,M)),ut(k)?M:Vr(k)?ae(M,k):k.map(ue=>ae(M,ue))},$=(k,I)=>({invalid:!!ae((I||r).errors,k),isDirty:!!ae((I||r).dirtyFields,k),error:ae((I||r).errors,k),isValidating:!!ae(r.validatingFields,k),isTouched:!!ae((I||r).touchedFields,k)}),K=k=>{k&&Ar(k).forEach(I=>At(r.errors,I)),p.state.next({errors:k?r.errors:{}})},he=(k,I,M)=>{const ue=(ae(n,k,{_f:{}})._f||{}).ref,le=ae(r.errors,k)||{},{ref:oe,message:Se,type:rt,...lt}=le;Ze(r.errors,k,{...lt,...I,ref:ue}),p.state.next({name:k,errors:r.errors,isValid:!1}),M&&M.shouldFocus&&ue&&ue.focus&&ue.focus()},Oe=(k,I)=>Cn(k)?p.state.subscribe({next:M=>"values"in M&&k(A(void 0,I),M)}):A(k,I,!0),q=k=>p.state.subscribe({next:I=>{tD(k.name,I.name,k.exact)&&eD(I,k.formState||d,$e,k.reRenderRoot)&&k.callback({values:{...i},...r,...I,defaultValues:s})}}).unsubscribe,X=k=>(a.mount=!0,h={...h,...k.formState},q({...k,formState:h})),ne=(k,I={})=>{for(const M of k?Ar(k):l.mount)l.mount.delete(M),l.array.delete(M),I.keepValue||(At(n,M),At(i,M)),!I.keepError&&At(r.errors,M),!I.keepDirty&&At(r.dirtyFields,M),!I.keepTouched&&At(r.touchedFields,M),!I.keepIsValidating&&At(r.validatingFields,M),!e.shouldUnregister&&!I.keepDefaultValue&&At(s,M);p.state.next({values:mt(i)}),p.state.next({...r,...I.keepDirty?{isDirty:C()}:{}}),!I.keepIsValid&&m()},Ae=({disabled:k,name:I})=>{(Mr(k)&&a.mount||k||l.disabled.has(I))&&(k?l.disabled.add(I):l.disabled.delete(I))},Et=(k,I={})=>{let M=ae(n,k);const ue=Mr(I.disabled)||Mr(e.disabled);return Ze(n,k,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:k}},name:k,mount:!0,...I}}),l.mount.add(k),M?Ae({disabled:Mr(I.disabled)?I.disabled:e.disabled,name:k}):b(k,!0,I.value),{...ue?{disabled:I.disabled||e.disabled}:{},...e.progressive?{required:!!I.required,min:_l(I.min),max:_l(I.max),minLength:_l(I.minLength),maxLength:_l(I.maxLength),pattern:_l(I.pattern)}:{},name:k,onChange:ce,onBlur:ce,ref:le=>{if(le){Et(k,I),M=ae(n,k);const oe=ut(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Se=KI(oe),rt=M._f.refs||[];if(Se?rt.find(lt=>lt===oe):oe===M._f.ref)return;Ze(n,k,{_f:{...M._f,...Se?{refs:[...rt.filter(Tf),oe,...Array.isArray(ae(s,k))?[{}]:[]],ref:{type:oe.type,name:k}}:{ref:oe}}}),b(k,!1,void 0,oe)}else M=ae(n,k,{}),M._f&&(M._f.mount=!1),(e.shouldUnregister||I.shouldUnregister)&&!(wS(l.array,k)&&a.action)&&l.unMount.add(k)}}},He=()=>e.shouldFocusError&&da(n,P,l.mount),Ke=k=>{Mr(k)&&(p.state.next({disabled:k}),da(n,(I,M)=>{const ue=ae(n,M);ue&&(I.disabled=ue._f.disabled||k,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(le=>{le.disabled=ue._f.disabled||k}))},0,!1))},O=(k,I)=>async M=>{let ue;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let le=mt(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:Se}=await S();r.errors=oe,le=mt(Se)}else await D(n);if(l.disabled.size)for(const oe of l.disabled)At(le,oe);if(At(r.errors,"root"),cr(r.errors)){p.state.next({errors:{}});try{await k(le,M)}catch(oe){ue=oe}}else I&&await I({...r.errors},M),He(),setTimeout(He);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cr(r.errors)&&!ue,submitCount:r.submitCount+1,errors:r.errors}),ue)throw ue},Z=(k,I={})=>{ae(n,k)&&(ut(I.defaultValue)?J(k,mt(ae(s,k))):(J(k,I.defaultValue),Ze(s,k,mt(I.defaultValue))),I.keepTouched||At(r.touchedFields,k),I.keepDirty||(At(r.dirtyFields,k),r.isDirty=I.defaultValue?C(k,mt(ae(s,k))):C()),I.keepError||(At(r.errors,k),d.isValid&&m()),p.state.next({...r}))},Ce=(k,I={})=>{const M=k?mt(k):s,ue=mt(M),le=cr(k),oe=le?s:ue;if(I.keepDefaultValues||(s=M),!I.keepValues){if(I.keepDirtyValues){const Se=new Set([...l.mount,...Object.keys(Vo(s,i))]);for(const rt of Array.from(Se))ae(r.dirtyFields,rt)?Ze(oe,rt,ae(i,rt)):J(rt,ae(oe,rt))}else{if(vy&&ut(k))for(const Se of l.mount){const rt=ae(n,Se);if(rt&&rt._f){const lt=Array.isArray(rt._f.refs)?rt._f.refs[0]:rt._f.ref;if(kd(lt)){const tn=lt.closest("form");if(tn){tn.reset();break}}}}if(I.keepFieldsRef)for(const Se of l.mount)J(Se,ae(oe,Se));else n={}}i=e.shouldUnregister?I.keepDefaultValues?mt(s):{}:mt(oe),p.array.next({values:{...oe}}),p.state.next({values:{...oe}})}l={mount:I.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!I.keepIsValid||!!I.keepDirtyValues||!e.shouldUnregister&&!cr(oe),a.watch=!!e.shouldUnregister,p.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:le?!1:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!En(k,s)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:I.keepDirtyValues?I.keepDefaultValues&&i?Vo(s,i):r.dirtyFields:I.keepDefaultValues&&k?Vo(s,k):I.keepDirty?r.dirtyFields:{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Pe=(k,I)=>Ce(Cn(k)?k(i):k,I),Ie=(k,I={})=>{const M=ae(n,k),ue=M&&M._f;if(ue){const le=ue.refs?ue.refs[0]:ue.ref;le.focus&&(le.focus(),I.shouldSelect&&Cn(le.select)&&le.select())}},$e=k=>{r={...r,...k}},ke={control:{register:Et,unregister:ne,getFieldState:$,handleSubmit:O,setError:he,_subscribe:q,_runSchema:S,_focusError:He,_getWatch:A,_getDirty:C,_setValid:m,_setFieldArray:w,_setDisabledField:Ae,_setErrors:_,_getFieldArray:F,_reset:Ce,_resetDefaultValues:()=>Cn(e.defaultValues)&&e.defaultValues().then(k=>{Pe(k,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Ke,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(k){a=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return e},set _options(k){e={...e,...k}}},subscribe:X,trigger:Q,register:Et,handleSubmit:O,watch:Oe,setValue:J,getValues:ie,reset:Pe,resetField:Z,clearErrors:K,unregister:ne,setError:he,setFocus:Ie,getFieldState:$};return{...ke,formControl:ke}}var Os=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},Rf=(t,e,r={})=>r.shouldFocus||ut(r.shouldFocus)?r.focusName||`${t}.${ut(r.focusIndex)?e:r.focusIndex}.`:"",Of=(t,e)=>[...t,...Ar(e)],Af=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Pf(t,e,r){return[...t.slice(0,e),...Ar(r),...t.slice(e)]}var If=(t,e,r)=>Array.isArray(t)?(ut(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],Df=(t,e)=>[...Ar(e),...Ar(t)];function oD(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return bh(n).length?n:[]}var $f=(t,e)=>ut(e)?[]:oD(t,Ar(e).sort((r,n)=>r-n)),Lf=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},hw=(t,e,r)=>(t[e]=r,t);function uc(t){const e=Rc(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:i,rules:a}=t,[l,c]=ge.useState(r._getFieldArray(n)),u=ge.useRef(r._getFieldArray(n).map(Os)),d=ge.useRef(!1);r._names.array.add(n),ge.useMemo(()=>a&&l.length>=0&&r.register(n,a),[r,n,l.length,a]),jh(()=>r._subjects.array.subscribe({next:({values:b,name:j})=>{if(j===n||!j){const E=ae(b,n);Array.isArray(E)&&(c(E),u.current=E.map(Os))}}}).unsubscribe,[r,n]);const h=ge.useCallback(b=>{d.current=!0,r._setFieldArray(n,b)},[r,n]),p=(b,j)=>{const E=Ar(mt(b)),S=Of(r._getFieldArray(n),E);r._names.focus=Rf(n,S.length-1,j),u.current=Of(u.current,E.map(Os)),h(S),c(S),r._setFieldArray(n,S,Of,{argA:Af(b)})},v=(b,j)=>{const E=Ar(mt(b)),S=Df(r._getFieldArray(n),E);r._names.focus=Rf(n,0,j),u.current=Df(u.current,E.map(Os)),h(S),c(S),r._setFieldArray(n,S,Df,{argA:Af(b)})},g=b=>{const j=$f(r._getFieldArray(n),b);u.current=$f(u.current,b),h(j),c(j),!Array.isArray(ae(r._fields,n))&&Ze(r._fields,n,void 0),r._setFieldArray(n,j,$f,{argA:b})},m=(b,j,E)=>{const S=Ar(mt(j)),R=Pf(r._getFieldArray(n),b,S);r._names.focus=Rf(n,b,E),u.current=Pf(u.current,b,S.map(Os)),h(R),c(R),r._setFieldArray(n,R,Pf,{argA:b,argB:Af(j)})},y=(b,j)=>{const E=r._getFieldArray(n);Lf(E,b,j),Lf(u.current,b,j),h(E),c(E),r._setFieldArray(n,E,Lf,{argA:b,argB:j},!1)},w=(b,j)=>{const E=r._getFieldArray(n);If(E,b,j),If(u.current,b,j),h(E),c(E),r._setFieldArray(n,E,If,{argA:b,argB:j},!1)},x=(b,j)=>{const E=mt(j),S=hw(r._getFieldArray(n),b,E);u.current=[...S].map((R,D)=>!R||D===b?Os():u.current[D]),h(S),c([...S]),r._setFieldArray(n,S,hw,{argA:b,argB:E},!0,!1)},_=b=>{const j=Ar(mt(b));u.current=j.map(Os),h([...j]),c([...j]),r._setFieldArray(n,[...j],E=>E,{},!0,!1)};return ge.useEffect(()=>{if(r._state.action=!1,jm(n,r._names)&&r._subjects.state.next({...r._formState}),d.current&&(!na(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!na(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(b=>{const j=ae(b.errors,n),E=ae(r._formState.errors,n);(E?!j&&E.type||j&&(E.type!==j.type||E.message!==j.message):j&&j.type)&&(j?Ze(r._formState.errors,n,j):At(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const b=ae(r._fields,n);b&&b._f&&!(na(r._options.reValidateMode).isOnSubmit&&na(r._options.mode).isOnSubmit)&&Sm(b,r._names.disabled,r._formValues,r._options.criteriaMode===an.all,r._options.shouldUseNativeValidation,!0).then(j=>!cr(j)&&r._subjects.state.next({errors:TS(r._formState.errors,j,n)}))}r._subjects.state.next({name:n,values:mt(r._formValues)}),r._names.focus&&da(r._fields,(b,j)=>{if(r._names.focus&&j.startsWith(r._names.focus)&&b.focus)return b.focus(),1}),r._names.focus="",r._setValid(),d.current=!1},[l,n,r]),ge.useEffect(()=>(!ae(r._formValues,n)&&r._setFieldArray(n),()=>{const b=(j,E)=>{const S=ae(r._fields,j);S&&S._f&&(S._f.mount=E)};r._options.shouldUnregister||i?r.unregister(n):b(n,!1)}),[n,r,s,i]),{swap:ge.useCallback(y,[h,n,r]),move:ge.useCallback(w,[h,n,r]),prepend:ge.useCallback(v,[h,n,r]),append:ge.useCallback(p,[h,n,r]),remove:ge.useCallback(g,[h,n,r]),insert:ge.useCallback(m,[h,n,r]),update:ge.useCallback(x,[h,n,r]),replace:ge.useCallback(_,[h,n,r]),fields:ge.useMemo(()=>l.map((b,j)=>({...b,[s]:u.current[j]||Os()})),[l,s])}}function nr(t={}){const e=ge.useRef(void 0),r=ge.useRef(void 0),[n,s]=ge.useState({isDirty:!1,isValidating:!1,isLoading:Cn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Cn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Cn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=iD(t);e.current={...l,formState:n}}const i=e.current.control;return i._options=t,jh(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),ge.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ge.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ge.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ge.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ge.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),ge.useEffect(()=>{var a;t.values&&!En(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),r.current=t.values,s(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),ge.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=_S(n,i),e.current}const fw=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ae(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},RS=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?fw(n.ref,r,t):n.refs&&n.refs.forEach(s=>fw(s,r,t))}},aD=(t,e)=>{e.shouldUseNativeValidation&&RS(t,e);const r={};for(const n in t){const s=ae(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(lD(e.names||Object.keys(t),n)){const a=Object.assign({},ae(r,n));Ze(a,"root",i),Ze(r,n,a)}else Ze(r,n,i)}return r},lD=(t,e)=>t.some(r=>r.startsWith(e+"."));var cD=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=r[a].types,u=c&&c[n.code];r[a]=bS(a,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},sr=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&RS({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:aD(cD(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Je;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Je||(Je={}));var pw;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(pw||(pw={}));const ve=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$s=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return Number.isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},se=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof xs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}xs.create=t=>new xs(t);const Em=(t,e)=>{let r;switch(t.code){case se.invalid_type:t.received===ve.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Je.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Je.joinValues(t.keys,", ")}`;break;case se.invalid_union:r="Invalid input";break;case se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Je.joinValues(t.options)}`;break;case se.invalid_enum_value:r=`Invalid enum value. Expected ${Je.joinValues(t.options)}, received '${t.received}'`;break;case se.invalid_arguments:r="Invalid function arguments";break;case se.invalid_return_type:r="Invalid function return type";break;case se.invalid_date:r="Invalid date";break;case se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Je.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case se.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case se.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case se.custom:r="Invalid input";break;case se.invalid_intersection_types:r="Intersection results could not be merged";break;case se.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case se.not_finite:r="Number must be finite";break;default:r=e.defaultError,Je.assertNever(t)}return{message:r}};let uD=Em;function dD(){return uD}const hD=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function fe(t,e){const r=dD(),n=hD({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Em?void 0:Em].filter(s=>!!s)});t.common.issues.push(n)}class Kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Ne;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return Kr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Ne;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const Ne=Object.freeze({status:"aborted"}),Tl=t=>({status:"dirty",value:t}),pn=t=>({status:"valid",value:t}),mw=t=>t.status==="aborted",gw=t=>t.status==="dirty",La=t=>t.status==="valid",Td=t=>typeof Promise<"u"&&t instanceof Promise;var be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(be||(be={}));class fi{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yw=(t,e)=>{if(La(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new xs(t.common.issues);return this._error=r,this._error}}};function Be(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Qe{get description(){return this._def.description}_getType(e){return $s(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:$s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kr,ctx:{common:e.parent.common,data:e.data,parsedType:$s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Td(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$s(e)},s=this._parseSync({data:e,path:n.path,parent:n});return yw(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$s(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return La(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>La(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$s(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Td(s)?s:Promise.resolve(s));return yw(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:se.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ua({schema:this,typeName:Te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ci.create(this,this._def)}nullable(){return Va.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qn.create(this)}promise(){return Pd.create(this,this._def)}or(e){return Od.create([this,e],this._def)}and(e){return Ad.create(this,e,this._def)}transform(e){return new Ua({...Be(this._def),schema:this,typeName:Te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Nm({...Be(this._def),innerType:this,defaultValue:r,typeName:Te.ZodDefault})}brand(){return new DD({typeName:Te.ZodBranded,type:this,...Be(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Tm({...Be(this._def),innerType:this,catchValue:r,typeName:Te.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return jy.create(this,e)}readonly(){return Rm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fD=/^c[^\s-]{8,}$/i,pD=/^[0-9a-z]+$/,mD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yD=/^[a-z0-9_-]{21}$/i,vD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_D="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ff;const bD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ED=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,OS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ND=new RegExp(`^${OS}$`);function AS(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function TD(t){return new RegExp(`^${AS(t)}$`)}function RD(t){let e=`${OS}T${AS(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function OD(t,e){return!!((e==="v4"||!e)&&bD.test(t)||(e==="v6"||!e)&&SD.test(t))}function AD(t,e){if(!vD.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function PD(t,e){return!!((e==="v4"||!e)&&jD.test(t)||(e==="v6"||!e)&&ED.test(t))}class hs extends Qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const i=this._getOrReturnCtx(e);return fe(i,{code:se.invalid_type,expected:ve.string,received:i.parsedType}),Ne}const n=new Kr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?fe(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&fe(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")wD.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"email",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ff||(Ff=new RegExp(_D,"u")),Ff.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"emoji",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")gD.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"uuid",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")yD.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"nanoid",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")fD.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cuid",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")pD.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cuid2",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")mD.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"ulid",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),fe(s,{validation:"url",code:se.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"regex",code:se.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?RD(i).test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?ND.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?TD(i).test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?xD.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"duration",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?OD(e.data,i.version)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"ip",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?AD(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"jwt",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?PD(e.data,i.version)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cidr",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?CD.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"base64",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?kD.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"base64url",code:se.invalid_string,message:i.message}),n.dirty()):Je.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:se.invalid_string,...be.errToObj(n)})}_addCheck(e){return new hs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...be.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...be.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...be.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...be.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...be.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...be.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...be.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...be.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...be.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...be.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...be.errToObj(r)})}nonempty(e){return this.min(1,be.errToObj(e))}trim(){return new hs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}hs.create=t=>new hs({checks:[],typeName:Te.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Be(t)});function ID(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class yo extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const i=this._getOrReturnCtx(e);return fe(i,{code:se.invalid_type,expected:ve.number,received:i.parsedType}),Ne}let n;const s=new Kr;for(const i of this._def.checks)i.kind==="int"?Je.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),fe(n,{code:se.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?ID(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),fe(n,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),fe(n,{code:se.not_finite,message:i.message}),s.dirty()):Je.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,n,s){return new yo({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:be.toString(s)}]})}_addCheck(e){return new yo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Je.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}yo.create=t=>new yo({checks:[],typeName:Te.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class vo extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let n;const s=new Kr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Je.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return fe(r,{code:se.invalid_type,expected:ve.bigint,received:r.parsedType}),Ne}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,n,s){return new vo({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:be.toString(s)}]})}_addCheck(e){return new vo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vo.create=t=>new vo({checks:[],typeName:Te.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Be(t)});class Rd extends Qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const n=this._getOrReturnCtx(e);return fe(n,{code:se.invalid_type,expected:ve.boolean,received:n.parsedType}),Ne}return pn(e.data)}}Rd.create=t=>new Rd({typeName:Te.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class Fa extends Qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const i=this._getOrReturnCtx(e);return fe(i,{code:se.invalid_type,expected:ve.date,received:i.parsedType}),Ne}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return fe(i,{code:se.invalid_date}),Ne}const n=new Kr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Je.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Fa({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:be.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:be.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Fa.create=t=>new Fa({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Te.ZodDate,...Be(t)});class vw extends Qe{_parse(e){if(this._getType(e)!==ve.symbol){const n=this._getOrReturnCtx(e);return fe(n,{code:se.invalid_type,expected:ve.symbol,received:n.parsedType}),Ne}return pn(e.data)}}vw.create=t=>new vw({typeName:Te.ZodSymbol,...Be(t)});class xw extends Qe{_parse(e){if(this._getType(e)!==ve.undefined){const n=this._getOrReturnCtx(e);return fe(n,{code:se.invalid_type,expected:ve.undefined,received:n.parsedType}),Ne}return pn(e.data)}}xw.create=t=>new xw({typeName:Te.ZodUndefined,...Be(t)});class ww extends Qe{_parse(e){if(this._getType(e)!==ve.null){const n=this._getOrReturnCtx(e);return fe(n,{code:se.invalid_type,expected:ve.null,received:n.parsedType}),Ne}return pn(e.data)}}ww.create=t=>new ww({typeName:Te.ZodNull,...Be(t)});class _w extends Qe{constructor(){super(...arguments),this._any=!0}_parse(e){return pn(e.data)}}_w.create=t=>new _w({typeName:Te.ZodAny,...Be(t)});class bw extends Qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pn(e.data)}}bw.create=t=>new bw({typeName:Te.ZodUnknown,...Be(t)});class pi extends Qe{_parse(e){const r=this._getOrReturnCtx(e);return fe(r,{code:se.invalid_type,expected:ve.never,received:r.parsedType}),Ne}}pi.create=t=>new pi({typeName:Te.ZodNever,...Be(t)});class jw extends Qe{_parse(e){if(this._getType(e)!==ve.undefined){const n=this._getOrReturnCtx(e);return fe(n,{code:se.invalid_type,expected:ve.void,received:n.parsedType}),Ne}return pn(e.data)}}jw.create=t=>new jw({typeName:Te.ZodVoid,...Be(t)});class Qn extends Qe{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==ve.array)return fe(r,{code:se.invalid_type,expected:ve.array,received:r.parsedType}),Ne;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(fe(r,{code:a?se.too_big:se.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(fe(r,{code:se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(fe(r,{code:se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new fi(r,a,r.path,l)))).then(a=>Kr.mergeArray(n,a));const i=[...r.data].map((a,l)=>s.type._parseSync(new fi(r,a,r.path,l)));return Kr.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Qn({...this._def,minLength:{value:e,message:be.toString(r)}})}max(e,r){return new Qn({...this._def,maxLength:{value:e,message:be.toString(r)}})}length(e,r){return new Qn({...this._def,exactLength:{value:e,message:be.toString(r)}})}nonempty(e){return this.min(1,e)}}Qn.create=(t,e)=>new Qn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Te.ZodArray,...Be(e)});function Bo(t){if(t instanceof Ut){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ci.create(Bo(n))}return new Ut({...t._def,shape:()=>e})}else return t instanceof Qn?new Qn({...t._def,type:Bo(t.element)}):t instanceof ci?ci.create(Bo(t.unwrap())):t instanceof Va?Va.create(Bo(t.unwrap())):t instanceof xo?xo.create(t.items.map(e=>Bo(e))):t}class Ut extends Qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Je.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ve.object){const u=this._getOrReturnCtx(e);return fe(u,{code:se.invalid_type,expected:ve.object,received:u.parsedType}),Ne}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof pi&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new fi(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof pi){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(fe(s,{code:se.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new fi(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Kr.mergeObjectSync(n,u)):Kr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return be.errToObj,new Ut({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:be.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ut({...this._def,unknownKeys:"strip"})}passthrough(){return new Ut({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ut({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ut({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Te.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ut({...this._def,catchall:e})}pick(e){const r={};for(const n of Je.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ut({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Je.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ut({...this._def,shape:()=>r})}deepPartial(){return Bo(this)}partial(e){const r={};for(const n of Je.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Ut({...this._def,shape:()=>r})}required(e){const r={};for(const n of Je.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ci;)i=i._def.innerType;r[n]=i}return new Ut({...this._def,shape:()=>r})}keyof(){return PS(Je.objectKeys(this.shape))}}Ut.create=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strip",catchall:pi.create(),typeName:Te.ZodObject,...Be(e)});Ut.strictCreate=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strict",catchall:pi.create(),typeName:Te.ZodObject,...Be(e)});Ut.lazycreate=(t,e)=>new Ut({shape:t,unknownKeys:"strip",catchall:pi.create(),typeName:Te.ZodObject,...Be(e)});class Od extends Qe{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new xs(l.ctx.common.issues));return fe(r,{code:se.invalid_union,unionErrors:a}),Ne}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new xs(c));return fe(r,{code:se.invalid_union,unionErrors:l}),Ne}}get options(){return this._def.options}}Od.create=(t,e)=>new Od({options:t,typeName:Te.ZodUnion,...Be(e)});function Cm(t,e){const r=$s(t),n=$s(e);if(t===e)return{valid:!0,data:t};if(r===ve.object&&n===ve.object){const s=Je.objectKeys(e),i=Je.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=Cm(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===ve.array&&n===ve.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=Cm(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ve.date&&n===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ad extends Qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(mw(i)||mw(a))return Ne;const l=Cm(i.value,a.value);return l.valid?((gw(i)||gw(a))&&r.dirty(),{status:r.value,value:l.data}):(fe(n,{code:se.invalid_intersection_types}),Ne)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ad.create=(t,e,r)=>new Ad({left:t,right:e,typeName:Te.ZodIntersection,...Be(r)});class xo extends Qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.array)return fe(n,{code:se.invalid_type,expected:ve.array,received:n.parsedType}),Ne;if(n.data.length<this._def.items.length)return fe(n,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ne;!this._def.rest&&n.data.length>this._def.items.length&&(fe(n,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new fi(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Kr.mergeArray(r,a)):Kr.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new xo({...this._def,rest:e})}}xo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xo({items:t,typeName:Te.ZodTuple,rest:null,...Be(e)})};class Sw extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.map)return fe(n,{code:se.invalid_type,expected:ve.map,received:n.parsedType}),Ne;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new fi(n,l,n.path,[u,"key"])),value:i._parse(new fi(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ne;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ne;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Sw.create=(t,e,r)=>new Sw({valueType:e,keyType:t,typeName:Te.ZodMap,...Be(r)});class dc extends Qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.set)return fe(n,{code:se.invalid_type,expected:ve.set,received:n.parsedType}),Ne;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(fe(n,{code:se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(fe(n,{code:se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ne;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new fi(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,r){return new dc({...this._def,minSize:{value:e,message:be.toString(r)}})}max(e,r){return new dc({...this._def,maxSize:{value:e,message:be.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}dc.create=(t,e)=>new dc({valueType:t,minSize:null,maxSize:null,typeName:Te.ZodSet,...Be(e)});class Ew extends Qe{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ew.create=(t,e)=>new Ew({getter:t,typeName:Te.ZodLazy,...Be(e)});class km extends Qe{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return fe(r,{received:r.data,code:se.invalid_literal,expected:this._def.value}),Ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}km.create=(t,e)=>new km({value:t,typeName:Te.ZodLiteral,...Be(e)});function PS(t,e){return new Ma({values:t,typeName:Te.ZodEnum,...Be(e)})}class Ma extends Qe{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return fe(r,{expected:Je.joinValues(n),received:r.parsedType,code:se.invalid_type}),Ne}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return fe(r,{received:r.data,code:se.invalid_enum_value,options:n}),Ne}return pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ma.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ma.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ma.create=PS;class Cw extends Qe{_parse(e){const r=Je.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ve.string&&n.parsedType!==ve.number){const s=Je.objectValues(r);return fe(n,{expected:Je.joinValues(s),received:n.parsedType,code:se.invalid_type}),Ne}if(this._cache||(this._cache=new Set(Je.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Je.objectValues(r);return fe(n,{received:n.data,code:se.invalid_enum_value,options:s}),Ne}return pn(e.data)}get enum(){return this._def.values}}Cw.create=(t,e)=>new Cw({values:t,typeName:Te.ZodNativeEnum,...Be(e)});class Pd extends Qe{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.promise&&r.common.async===!1)return fe(r,{code:se.invalid_type,expected:ve.promise,received:r.parsedType}),Ne;const n=r.parsedType===ve.promise?r.data:Promise.resolve(r.data);return pn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Pd.create=(t,e)=>new Pd({type:t,typeName:Te.ZodPromise,...Be(e)});class Ua extends Qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{fe(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Ne;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ne:c.status==="dirty"||r.value==="dirty"?Tl(c.value):c});{if(r.value==="aborted")return Ne;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Ne:l.status==="dirty"||r.value==="dirty"?Tl(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ne:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ne:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!La(a))return Ne;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>La(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:r.value,value:l})):Ne);Je.assertNever(s)}}Ua.create=(t,e,r)=>new Ua({schema:t,typeName:Te.ZodEffects,effect:e,...Be(r)});Ua.createWithPreprocess=(t,e,r)=>new Ua({schema:e,effect:{type:"preprocess",transform:t},typeName:Te.ZodEffects,...Be(r)});class ci extends Qe{_parse(e){return this._getType(e)===ve.undefined?pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ci.create=(t,e)=>new ci({innerType:t,typeName:Te.ZodOptional,...Be(e)});class Va extends Qe{_parse(e){return this._getType(e)===ve.null?pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Va.create=(t,e)=>new Va({innerType:t,typeName:Te.ZodNullable,...Be(e)});class Nm extends Qe{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Nm.create=(t,e)=>new Nm({innerType:t,typeName:Te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});class Tm extends Qe{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Td(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new xs(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Tm.create=(t,e)=>new Tm({innerType:t,typeName:Te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});class kw extends Qe{_parse(e){if(this._getType(e)!==ve.nan){const n=this._getOrReturnCtx(e);return fe(n,{code:se.invalid_type,expected:ve.nan,received:n.parsedType}),Ne}return{status:"valid",value:e.data}}}kw.create=t=>new kw({typeName:Te.ZodNaN,...Be(t)});class DD extends Qe{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class jy extends Qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ne:i.status==="dirty"?(r.dirty(),Tl(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ne:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new jy({in:e,out:r,typeName:Te.ZodPipeline})}}class Rm extends Qe{_parse(e){const r=this._def.innerType._parse(e),n=s=>(La(s)&&(s.value=Object.freeze(s.value)),s);return Td(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Rm.create=(t,e)=>new Rm({innerType:t,typeName:Te.ZodReadonly,...Be(e)});var Te;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Te||(Te={}));const ee=hs.create;yo.create;vo.create;const Ba=Rd.create;Fa.create;pi.create;const To=Qn.create,Lt=Ut.create;Od.create;Ad.create;xo.create;const IS=km.create,Sy=Ma.create;Pd.create;ci.create;Va.create;const wr={string:t=>hs.create({...t,coerce:!0}),number:t=>yo.create({...t,coerce:!0}),boolean:t=>Rd.create({...t,coerce:!0}),bigint:t=>vo.create({...t,coerce:!0}),date:t=>Fa.create({...t,coerce:!0})};function DS(t,e){return function(){return t.apply(e,arguments)}}const{toString:$D}=Object.prototype,{getPrototypeOf:Ey}=Object,{iterator:Sh,toStringTag:$S}=Symbol,Eh=(t=>e=>{const r=$D.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Dn=t=>(t=t.toLowerCase(),e=>Eh(e)===t),Ch=t=>e=>typeof e===t,{isArray:nl}=Array,za=Ch("undefined");function Oc(t){return t!==null&&!za(t)&&t.constructor!==null&&!za(t.constructor)&&$r(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LS=Dn("ArrayBuffer");function LD(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LS(t.buffer),e}const FD=Ch("string"),$r=Ch("function"),FS=Ch("number"),Ac=t=>t!==null&&typeof t=="object",MD=t=>t===!0||t===!1,Vu=t=>{if(Eh(t)!=="object")return!1;const e=Ey(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($S in t)&&!(Sh in t)},UD=t=>{if(!Ac(t)||Oc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},VD=Dn("Date"),BD=Dn("File"),zD=Dn("Blob"),WD=Dn("FileList"),qD=t=>Ac(t)&&$r(t.pipe),HD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$r(t.append)&&((e=Eh(t))==="formdata"||e==="object"&&$r(t.toString)&&t.toString()==="[object FormData]"))},KD=Dn("URLSearchParams"),[GD,QD,JD,ZD]=["ReadableStream","Request","Response","Headers"].map(Dn),YD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pc(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),nl(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(Oc(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(n=0;n<a;n++)l=i[n],e.call(null,t[l],l,t)}}function MS(t,e){if(Oc(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Gi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,US=t=>!za(t)&&t!==Gi;function Om(){const{caseless:t,skipUndefined:e}=US(this)&&this||{},r={},n=(s,i)=>{const a=t&&MS(r,i)||i;Vu(r[a])&&Vu(s)?r[a]=Om(r[a],s):Vu(s)?r[a]=Om({},s):nl(s)?r[a]=s.slice():(!e||!za(s))&&(r[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Pc(arguments[s],n);return r}const XD=(t,e,r,{allOwnKeys:n}={})=>(Pc(e,(s,i)=>{r&&$r(s)?t[i]=DS(s,r):t[i]=s},{allOwnKeys:n}),t),e2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),t2=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},r2=(t,e,r,n)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!n||n(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=r!==!1&&Ey(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},n2=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},s2=t=>{if(!t)return null;if(nl(t))return t;let e=t.length;if(!FS(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},i2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ey(Uint8Array)),o2=(t,e)=>{const n=(t&&t[Sh]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},a2=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},l2=Dn("HTMLFormElement"),c2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Nw=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),u2=Dn("RegExp"),VS=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Pc(r,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(n[i]=a||s)}),Object.defineProperties(t,n)},d2=t=>{VS(t,(e,r)=>{if($r(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if($r(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},h2=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return nl(t)?n(t):n(String(t).split(e)),r},f2=()=>{},p2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function m2(t){return!!(t&&$r(t.append)&&t[$S]==="FormData"&&t[Sh])}const g2=t=>{const e=new Array(10),r=(n,s)=>{if(Ac(n)){if(e.indexOf(n)>=0)return;if(Oc(n))return n;if(!("toJSON"in n)){e[s]=n;const i=nl(n)?[]:{};return Pc(n,(a,l)=>{const c=r(a,s+1);!za(c)&&(i[l]=c)}),e[s]=void 0,i}}return n};return r(t,0)},y2=Dn("AsyncFunction"),v2=t=>t&&(Ac(t)||$r(t))&&$r(t.then)&&$r(t.catch),BS=((t,e)=>t?setImmediate:e?((r,n)=>(Gi.addEventListener("message",({source:s,data:i})=>{s===Gi&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Gi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",$r(Gi.postMessage)),x2=typeof queueMicrotask<"u"?queueMicrotask.bind(Gi):typeof process<"u"&&process.nextTick||BS,w2=t=>t!=null&&$r(t[Sh]),L={isArray:nl,isArrayBuffer:LS,isBuffer:Oc,isFormData:HD,isArrayBufferView:LD,isString:FD,isNumber:FS,isBoolean:MD,isObject:Ac,isPlainObject:Vu,isEmptyObject:UD,isReadableStream:GD,isRequest:QD,isResponse:JD,isHeaders:ZD,isUndefined:za,isDate:VD,isFile:BD,isBlob:zD,isRegExp:u2,isFunction:$r,isStream:qD,isURLSearchParams:KD,isTypedArray:i2,isFileList:WD,forEach:Pc,merge:Om,extend:XD,trim:YD,stripBOM:e2,inherits:t2,toFlatObject:r2,kindOf:Eh,kindOfTest:Dn,endsWith:n2,toArray:s2,forEachEntry:o2,matchAll:a2,isHTMLForm:l2,hasOwnProperty:Nw,hasOwnProp:Nw,reduceDescriptors:VS,freezeMethods:d2,toObjectSet:h2,toCamelCase:c2,noop:f2,toFiniteNumber:p2,findKey:MS,global:Gi,isContextDefined:US,isSpecCompliantForm:m2,toJSONObject:g2,isAsyncFn:y2,isThenable:v2,setImmediate:BS,asap:x2,isIterable:w2};function De(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}L.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const zS=De.prototype,WS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WS[t]={value:t}});Object.defineProperties(De,WS);Object.defineProperty(zS,"isAxiosError",{value:!0});De.from=(t,e,r,n,s,i)=>{const a=Object.create(zS);L.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return De.call(a,l,c,r,n,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const _2=null;function Am(t){return L.isPlainObject(t)||L.isArray(t)}function qS(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function Tw(t,e,r){return t?t.concat(e).map(function(s,i){return s=qS(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function b2(t){return L.isArray(t)&&!t.some(Am)}const j2=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function kh(t,e,r){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=L.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!L.isUndefined(y[m])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(L.isDate(g))return g.toISOString();if(L.isBoolean(g))return g.toString();if(!c&&L.isBlob(g))throw new De("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(g)||L.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,y){let w=g;if(g&&!y&&typeof g=="object"){if(L.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(L.isArray(g)&&b2(g)||(L.isFileList(g)||L.endsWith(m,"[]"))&&(w=L.toArray(g)))return m=qS(m),w.forEach(function(_,b){!(L.isUndefined(_)||_===null)&&e.append(a===!0?Tw([m],b,i):a===null?m:m+"[]",u(_))}),!1}return Am(g)?!0:(e.append(Tw(y,m,i),u(g)),!1)}const h=[],p=Object.assign(j2,{defaultVisitor:d,convertValue:u,isVisitable:Am});function v(g,m){if(!L.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(g),L.forEach(g,function(w,x){(!(L.isUndefined(w)||w===null)&&s.call(e,w,L.isString(x)?x.trim():x,m,p))===!0&&v(w,m?m.concat(x):[x])}),h.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Rw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Cy(t,e){this._pairs=[],t&&kh(t,this,e)}const HS=Cy.prototype;HS.append=function(e,r){this._pairs.push([e,r])};HS.toString=function(e){const r=e?function(n){return e.call(this,n,Rw)}:Rw;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function S2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KS(t,e,r){if(!e)return t;const n=r&&r.encode||S2;L.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=L.isURLSearchParams(e)?e.toString():new Cy(e,r).toString(n),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Ow{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(n){n!==null&&e(n)})}}const GS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E2=typeof URLSearchParams<"u"?URLSearchParams:Cy,C2=typeof FormData<"u"?FormData:null,k2=typeof Blob<"u"?Blob:null,N2={isBrowser:!0,classes:{URLSearchParams:E2,FormData:C2,Blob:k2},protocols:["http","https","file","blob","url","data"]},ky=typeof window<"u"&&typeof document<"u",Pm=typeof navigator=="object"&&navigator||void 0,T2=ky&&(!Pm||["ReactNative","NativeScript","NS"].indexOf(Pm.product)<0),R2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O2=ky&&window.location.href||"http://localhost",A2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ky,hasStandardBrowserEnv:T2,hasStandardBrowserWebWorkerEnv:R2,navigator:Pm,origin:O2},Symbol.toStringTag,{value:"Module"})),hr={...A2,...N2};function P2(t,e){return kh(t,new hr.classes.URLSearchParams,{visitor:function(r,n,s,i){return hr.isNode&&L.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function I2(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function D2(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function QS(t){function e(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=r.length;return a=!a&&L.isArray(s)?s.length:a,c?(L.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!L.isObject(s[a]))&&(s[a]=[]),e(r,n,s[a],i)&&L.isArray(s[a])&&(s[a]=D2(s[a])),!l)}if(L.isFormData(t)&&L.isFunction(t.entries)){const r={};return L.forEachEntry(t,(n,s)=>{e(I2(n),s,r,0)}),r}return null}function $2(t,e,r){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ic={transitional:GS,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=L.isObject(e);if(i&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return s?JSON.stringify(QS(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return P2(e,this.formSerializer).toString();if((l=L.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return kh(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),$2(e)):e}],transformResponse:[function(e){const r=this.transitional||Ic.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?De.from(l,De.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hr.classes.FormData,Blob:hr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],t=>{Ic.headers[t]={}});const L2=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F2=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||e[r]&&L2[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Aw=Symbol("internals");function bl(t){return t&&String(t).trim().toLowerCase()}function Bu(t){return t===!1||t==null?t:L.isArray(t)?t.map(Bu):String(t)}function M2(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const U2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mf(t,e,r,n,s){if(L.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!L.isString(e)){if(L.isString(n))return e.indexOf(n)!==-1;if(L.isRegExp(n))return n.test(e)}}function V2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function B2(t,e){const r=L.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}let Lr=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(l,c,u){const d=bl(c);if(!d)throw new Error("header name must be a non-empty string");const h=L.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=Bu(l))}const a=(l,c)=>L.forEach(l,(u,d)=>i(u,d,c));if(L.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(L.isString(e)&&(e=e.trim())&&!U2(e))a(F2(e),r);else if(L.isObject(e)&&L.isIterable(e)){let l={},c,u;for(const d of e){if(!L.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?L.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=bl(e),e){const n=L.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return M2(s);if(L.isFunction(r))return r.call(this,s,n);if(L.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=bl(e),e){const n=L.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Mf(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(a){if(a=bl(a),a){const l=L.findKey(n,a);l&&(!r||Mf(n,n[l],l,r))&&(delete n[l],s=!0)}}return L.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||Mf(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return L.forEach(this,(s,i)=>{const a=L.findKey(n,i);if(a){r[a]=Bu(s),delete r[i];return}const l=e?V2(i):String(i).trim();l!==i&&delete r[i],r[l]=Bu(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return L.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&L.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[Aw]=this[Aw]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=bl(a);n[l]||(B2(s,a),n[l]=!0)}return L.isArray(e)?e.forEach(i):i(e),this}};Lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Lr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});L.freezeMethods(Lr);function Uf(t,e){const r=this||Ic,n=e||r,s=Lr.from(n.headers);let i=n.data;return L.forEach(t,function(l){i=l.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function JS(t){return!!(t&&t.__CANCEL__)}function sl(t,e,r){De.call(this,t??"canceled",De.ERR_CANCELED,e,r),this.name="CanceledError"}L.inherits(sl,De,{__CANCEL__:!0});function ZS(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new De("Request failed with status code "+r.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function z2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function W2(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[i];a||(a=u),r[s]=c,n[s]=u;let h=i,p=0;for(;h!==s;)p+=r[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const v=d&&u-d;return v?Math.round(p*1e3/v):void 0}}function q2(t,e){let r=0,n=1e3/e,s,i;const a=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},n-h)))},()=>s&&a(s)]}const Id=(t,e,r=3)=>{let n=0;const s=W2(50,250);return q2(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-n,u=s(c),d=a<=l;n=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},r)},Pw=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Iw=t=>(...e)=>L.asap(()=>t(...e)),H2=hr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,hr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(hr.origin),hr.navigator&&/(msie|trident)/i.test(hr.navigator.userAgent)):()=>!0,K2=hr.hasStandardBrowserEnv?{write(t,e,r,n,s,i,a){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];L.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),L.isString(n)&&l.push(`path=${n}`),L.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),L.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function G2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Q2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function YS(t,e,r){let n=!G2(e);return t&&(n||r==!1)?Q2(t,e):e}const Dw=t=>t instanceof Lr?{...t}:t;function wo(t,e){e=e||{};const r={};function n(u,d,h,p){return L.isPlainObject(u)&&L.isPlainObject(d)?L.merge.call({caseless:p},u,d):L.isPlainObject(d)?L.merge({},d):L.isArray(d)?d.slice():d}function s(u,d,h,p){if(L.isUndefined(d)){if(!L.isUndefined(u))return n(void 0,u,h,p)}else return n(u,d,h,p)}function i(u,d){if(!L.isUndefined(d))return n(void 0,d)}function a(u,d){if(L.isUndefined(d)){if(!L.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,h)=>s(Dw(u),Dw(d),h,!0)};return L.forEach(Object.keys({...t,...e}),function(d){const h=c[d]||s,p=h(t[d],e[d],d);L.isUndefined(p)&&h!==l||(r[d]=p)}),r}const XS=t=>{const e=wo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=Lr.from(a),e.url=KS(YS(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),L.isFormData(r)){if(hr.hasStandardBrowserEnv||hr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(L.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(hr.hasStandardBrowserEnv&&(n&&L.isFunction(n)&&(n=n(e)),n||n!==!1&&H2(e.url))){const c=s&&i&&K2.read(i);c&&a.set(s,c)}return e},J2=typeof XMLHttpRequest<"u",Z2=J2&&function(t){return new Promise(function(r,n){const s=XS(t);let i=s.data;const a=Lr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,h,p,v,g;function m(){v&&v(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function w(){if(!y)return;const _=Lr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:_,config:t,request:y};ZS(function(S){r(S),m()},function(S){n(S),m()},j),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(n(new De("Request aborted",De.ECONNABORTED,t,y)),y=null)},y.onerror=function(b){const j=b&&b.message?b.message:"Network Error",E=new De(j,De.ERR_NETWORK,t,y);E.event=b||null,n(E),y=null},y.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||GS;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new De(b,j.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,t,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&L.forEach(a.toJSON(),function(b,j){y.setRequestHeader(j,b)}),L.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),u&&([p,g]=Id(u,!0),y.addEventListener("progress",p)),c&&y.upload&&([h,v]=Id(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=_=>{y&&(n(!_||_.type?new sl(null,t,y):_),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const x=z2(s.url);if(x&&hr.protocols.indexOf(x)===-1){n(new De("Unsupported protocol "+x+":",De.ERR_BAD_REQUEST,t));return}y.send(i||null)})},Y2=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof De?d:new sl(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new De(`timeout ${e} of ms exceeded`,De.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>L.asap(l),c}},X2=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},e$=async function*(t,e){for await(const r of t$(t))yield*X2(r,e)},t$=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},$w=(t,e,r,n)=>{const s=e$(t,e);let i=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let p=i+=h;r(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Lw=64*1024,{isFunction:cu}=L,r$=(({Request:t,Response:e})=>({Request:t,Response:e}))(L.global),{ReadableStream:Fw,TextEncoder:Mw}=L.global,Uw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},n$=t=>{t=L.merge.call({skipUndefined:!0},r$,t);const{fetch:e,Request:r,Response:n}=t,s=e?cu(e):typeof fetch=="function",i=cu(r),a=cu(n);if(!s)return!1;const l=s&&cu(Fw),c=s&&(typeof Mw=="function"?(g=>m=>g.encode(m))(new Mw):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=i&&l&&Uw(()=>{let g=!1;const m=new r(hr.origin,{body:new Fw,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),d=a&&l&&Uw(()=>L.isReadableStream(new n("").body)),h={stream:d&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(m,y)=>{let w=m&&m[g];if(w)return w.call(m);throw new De(`Response type '${g}' is not supported`,De.ERR_NOT_SUPPORT,y)})});const p=async g=>{if(g==null)return 0;if(L.isBlob(g))return g.size;if(L.isSpecCompliantForm(g))return(await new r(hr.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(L.isArrayBufferView(g)||L.isArrayBuffer(g))return g.byteLength;if(L.isURLSearchParams(g)&&(g=g+""),L.isString(g))return(await c(g)).byteLength},v=async(g,m)=>{const y=L.toFiniteNumber(g.getContentLength());return y??p(m)};return async g=>{let{url:m,method:y,data:w,signal:x,cancelToken:_,timeout:b,onDownloadProgress:j,onUploadProgress:E,responseType:S,headers:R,withCredentials:D="same-origin",fetchOptions:T}=XS(g),C=e||fetch;S=S?(S+"").toLowerCase():"text";let A=Y2([x,_&&_.toAbortSignal()],b),F=null;const z=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let H;try{if(E&&u&&y!=="get"&&y!=="head"&&(H=await v(R,w))!==0){let $=new r(m,{method:"POST",body:w,duplex:"half"}),K;if(L.isFormData(w)&&(K=$.headers.get("content-type"))&&R.setContentType(K),$.body){const[he,Oe]=Pw(H,Id(Iw(E)));w=$w($.body,Lw,he,Oe)}}L.isString(D)||(D=D?"include":"omit");const J=i&&"credentials"in r.prototype,ce={...T,signal:A,method:y.toUpperCase(),headers:R.normalize().toJSON(),body:w,duplex:"half",credentials:J?D:void 0};F=i&&new r(m,ce);let P=await(i?C(F,T):C(m,ce));const Q=d&&(S==="stream"||S==="response");if(d&&(j||Q&&z)){const $={};["status","statusText","headers"].forEach(q=>{$[q]=P[q]});const K=L.toFiniteNumber(P.headers.get("content-length")),[he,Oe]=j&&Pw(K,Id(Iw(j),!0))||[];P=new n($w(P.body,Lw,he,()=>{Oe&&Oe(),z&&z()}),$)}S=S||"text";let ie=await h[L.findKey(h,S)||"text"](P,g);return!Q&&z&&z(),await new Promise(($,K)=>{ZS($,K,{data:ie,headers:Lr.from(P.headers),status:P.status,statusText:P.statusText,config:g,request:F})})}catch(J){throw z&&z(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,g,F),{cause:J.cause||J}):De.from(J,J&&J.code,g,F)}}},s$=new Map,eE=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:s}=e,i=[n,s,r];let a=i.length,l=a,c,u,d=s$;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:n$(e)),d=u;return u};eE();const Ny={http:_2,xhr:Z2,fetch:{get:eE}};L.forEach(Ny,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Vw=t=>`- ${t}`,i$=t=>L.isFunction(t)||t===null||t===!1;function o$(t,e){t=L.isArray(t)?t:[t];const{length:r}=t;let n,s;const i={};for(let a=0;a<r;a++){n=t[a];let l;if(s=n,!i$(n)&&(s=Ny[(l=String(n)).toLowerCase()],s===void 0))throw new De(`Unknown adapter '${l}'`);if(s&&(L.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(Vw).join(`
`):" "+Vw(a[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const tE={getAdapter:o$,adapters:Ny};function Vf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new sl(null,t)}function Bw(t){return Vf(t),t.headers=Lr.from(t.headers),t.data=Uf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tE.getAdapter(t.adapter||Ic.adapter,t)(t).then(function(n){return Vf(t),n.data=Uf.call(t,t.transformResponse,n),n.headers=Lr.from(n.headers),n},function(n){return JS(n)||(Vf(t),n&&n.response&&(n.response.data=Uf.call(t,t.transformResponse,n.response),n.response.headers=Lr.from(n.response.headers))),Promise.reject(n)})}const rE="1.13.2",Nh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Nh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const zw={};Nh.transitional=function(e,r,n){function s(i,a){return"[Axios v"+rE+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(e===!1)throw new De(s(a," has been removed"+(r?" in "+r:"")),De.ERR_DEPRECATED);return r&&!zw[a]&&(zw[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,a,l):!0}};Nh.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function a$(t,e,r){if(typeof t!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const l=t[i],c=l===void 0||a(l,i,t);if(c!==!0)throw new De("option "+i+" must be "+c,De.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new De("Unknown option "+i,De.ERR_BAD_OPTION)}}const zu={assertOptions:a$,validators:Nh},Fn=zu.validators;let ao=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ow,response:new Ow}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=wo(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&zu.assertOptions(n,{silentJSONParsing:Fn.transitional(Fn.boolean),forcedJSONParsing:Fn.transitional(Fn.boolean),clarifyTimeoutError:Fn.transitional(Fn.boolean)},!1),s!=null&&(L.isFunction(s)?r.paramsSerializer={serialize:s}:zu.assertOptions(s,{encode:Fn.function,serialize:Fn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),zu.assertOptions(r,{baseUrl:Fn.spelling("baseURL"),withXsrfToken:Fn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&L.merge(i.common,i[r.method]);i&&L.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Lr.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,h=0,p;if(!c){const g=[Bw.bind(this),void 0];for(g.unshift(...l),g.push(...u),p=g.length,d=Promise.resolve(r);h<p;)d=d.then(g[h++],g[h++]);return d}p=l.length;let v=r;for(;h<p;){const g=l[h++],m=l[h++];try{v=g(v)}catch(y){m.call(this,y);break}}try{d=Bw.call(this,v)}catch(g){return Promise.reject(g)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=wo(this.defaults,e);const r=YS(e.baseURL,e.url,e.allowAbsoluteUrls);return KS(r,e.params,e.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(e){ao.prototype[e]=function(r,n){return this.request(wo(n||{},{method:e,url:r,data:(n||{}).data}))}});L.forEach(["post","put","patch"],function(e){function r(n){return function(i,a,l){return this.request(wo(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}ao.prototype[e]=r(),ao.prototype[e+"Form"]=r(!0)});let l$=class nE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,l){n.reason||(n.reason=new sl(i,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new nE(function(s){e=s}),cancel:e}}};function c$(t){return function(r){return t.apply(null,r)}}function u$(t){return L.isObject(t)&&t.isAxiosError===!0}const Im={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Im).forEach(([t,e])=>{Im[e]=t});function sE(t){const e=new ao(t),r=DS(ao.prototype.request,e);return L.extend(r,ao.prototype,e,{allOwnKeys:!0}),L.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return sE(wo(t,s))},r}const Ot=sE(Ic);Ot.Axios=ao;Ot.CanceledError=sl;Ot.CancelToken=l$;Ot.isCancel=JS;Ot.VERSION=rE;Ot.toFormData=kh;Ot.AxiosError=De;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=c$;Ot.isAxiosError=u$;Ot.mergeConfig=wo;Ot.AxiosHeaders=Lr;Ot.formToJSON=t=>QS(L.isHTMLForm(t)?new FormData(t):t);Ot.getAdapter=tE.getAdapter;Ot.HttpStatusCode=Im;Ot.default=Ot;const{Axios:r3,AxiosError:n3,CanceledError:s3,isCancel:i3,CancelToken:o3,VERSION:a3,all:l3,Cancel:c3,isAxiosError:u3,spread:d3,toFormData:h3,AxiosHeaders:f3,HttpStatusCode:p3,formToJSON:m3,getAdapter:g3,mergeConfig:y3}=Ot,Re=Ot.create({baseURL:"https://api.shemamusic.my.id"});let uu=!1,Dd=[];const d$=t=>{Dd.forEach(e=>e(t)),Dd=[]};Re.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});Re.interceptors.response.use(t=>t,async t=>{var r;const e=t.config;if(((r=t.response)==null?void 0:r.status)===401&&!e._retry){if(uu)return new Promise(n=>{Dd.push(s=>{e.headers.Authorization=`Bearer ${s}`,n(Re(e))})});e._retry=!0,uu=!0;try{const n=await Ot.post("https://api.shemamusic.my.id/api/auth/refresh",{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),{token:s}=n.data.data;return localStorage.setItem("token",s),Re.defaults.headers.common.Authorization=`Bearer ${s}`,d$(s),uu=!1,e.headers.Authorization=`Bearer ${s}`,Re(e)}catch(n){return Dd=[],uu=!1,localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",Promise.reject(n)}}return Promise.reject(t)});var h$=Symbol.for("react.lazy"),$d=Xd[" use ".trim().toString()];function f$(t){return typeof t=="object"&&t!==null&&"then"in t}function iE(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===h$&&"_payload"in t&&f$(t._payload)}function oE(t){const e=p$(t),r=f.forwardRef((n,s)=>{let{children:i,...a}=n;iE(i)&&typeof $d=="function"&&(i=$d(i._payload));const l=f.Children.toArray(i),c=l.find(g$);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var aE=oE("Slot");function p$(t){const e=f.forwardRef((r,n)=>{let{children:s,...i}=r;if(iE(s)&&typeof $d=="function"&&(s=$d(s._payload)),f.isValidElement(s)){const a=v$(s),l=y$(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var m$=Symbol("radix.slottable");function g$(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===m$}function y$(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function v$(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const Ty=xh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=f.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const a=n?aE:"button";return o.jsx(a,{className:we(Ty({variant:e,size:r,className:t})),ref:i,...s})});re.displayName="Button";const Y=f.forwardRef(({className:t,type:e,...r},n)=>o.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Y.displayName="Input";const kt=f.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));kt.displayName="Card";const Pt=f.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:we("flex flex-col space-y-1.5 p-6",t),...e}));Pt.displayName="CardHeader";const It=f.forwardRef(({className:t,...e},r)=>o.jsx("h3",{ref:r,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));It.displayName="CardTitle";const lo=f.forwardRef(({className:t,...e},r)=>o.jsx("p",{ref:r,className:we("text-sm text-muted-foreground",t),...e}));lo.displayName="CardDescription";const Nt=f.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:we("p-6 pt-0",t),...e}));Nt.displayName="CardContent";const x$=f.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:we("flex items-center p-6 pt-0",t),...e}));x$.displayName="CardFooter";var w$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_$=w$.reduce((t,e)=>{const r=oE(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),b$="Label",lE=f.forwardRef((t,e)=>o.jsx(_$.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));lE.displayName=b$;var cE=lE;const j$=xh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qn=f.forwardRef(({className:t,...e},r)=>o.jsx(cE,{ref:r,className:we(j$(),t),...e}));qn.displayName=cE.displayName;const ir=BI,uE=f.createContext({}),V=({...t})=>o.jsx(uE.Provider,{value:{name:t.name},children:o.jsx(HI,{...t})}),Th=()=>{const t=f.useContext(uE),e=f.useContext(dE),{getFieldState:r,formState:n}=Rc(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},dE=f.createContext({}),U=f.forwardRef(({className:t,...e},r)=>{const n=f.useId();return o.jsx(dE.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:we("space-y-2",t),...e})})});U.displayName="FormItem";const W=f.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=Th();return o.jsx(qn,{ref:r,className:we(n&&"text-destructive",t),htmlFor:s,...e})});W.displayName="FormLabel";const B=f.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=Th();return o.jsx(aE,{ref:e,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...t})});B.displayName="FormControl";const S$=f.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Th();return o.jsx("p",{ref:r,id:n,className:we("text-sm text-muted-foreground",t),...e})});S$.displayName="FormDescription";const G=f.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:i}=Th(),a=s?String(s==null?void 0:s.message):e;return a?o.jsx("p",{ref:n,id:i,className:we("text-sm font-medium text-destructive",t),...r,children:a}):null});G.displayName="FormMessage";function E$({className:t,size:e=24,...r}){return o.jsx("div",{className:we("animate-spin text-primary",t),...r,children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})})}var Ry={},Ld={},Dm=function(t,e){return Dm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Dm(t,e)};function hE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Dm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ln=function(){return ln=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ln.apply(this,arguments)};function bi(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function fE(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function pE(t,e){return function(r,n){e(r,n,t)}}function mE(t,e,r,n,s,i){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,p=!1,v=r.length-1;v>=0;v--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(w||null))};var y=(0,r[v])(l==="accessor"?{get:d.get,set:d.set}:d[c],g);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=a(y.get))&&(d.get=h),(h=a(y.set))&&(d.set=h),(h=a(y.init))&&s.unshift(h)}else(h=a(y))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),p=!0}function gE(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function yE(t){return typeof t=="symbol"?t:"".concat(t)}function vE(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function xE(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ye(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}function wE(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Rh=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function _E(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Rh(e,t,r)}function Fd(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oy(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function bE(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Oy(arguments[e]));return t}function jE(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function Ay(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Wa(t){return this instanceof Wa?(this.v=t,this):new Wa(t)}function SE(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(v){return function(g){return Promise.resolve(g).then(v,h)}}function l(v,g){n[v]&&(s[v]=function(m){return new Promise(function(y,w){i.push([v,m,y,w])>1||c(v,m)})},g&&(s[v]=g(s[v])))}function c(v,g){try{u(n[v](g))}catch(m){p(i[0][3],m)}}function u(v){v.value instanceof Wa?Promise.resolve(v.value.v).then(d,h):p(i[0][2],v)}function d(v){c("next",v)}function h(v){c("throw",v)}function p(v,g){v(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function EE(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:Wa(t[s](a)),done:!1}:i?i(a):a}:i}}function CE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Fd=="function"?Fd(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(l,c){a=t[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function kE(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var C$=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},$m=function(t){return $m=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},$m(t)};function NE(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=$m(t),n=0;n<r.length;n++)r[n]!=="default"&&Rh(e,t,r[n]);return C$(e,t),e}function TE(t){return t&&t.__esModule?t:{default:t}}function RE(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function OE(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function AE(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function PE(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var k$=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function IE(t){function e(i){t.error=t.hasError?new k$(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function DE(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?e?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):t}const N$={__extends:hE,__assign:ln,__rest:bi,__decorate:fE,__param:pE,__esDecorate:mE,__runInitializers:gE,__propKey:yE,__setFunctionName:vE,__metadata:xE,__awaiter:ye,__generator:wE,__createBinding:Rh,__exportStar:_E,__values:Fd,__read:Oy,__spread:bE,__spreadArrays:jE,__spreadArray:Ay,__await:Wa,__asyncGenerator:SE,__asyncDelegator:EE,__asyncValues:CE,__makeTemplateObject:kE,__importStar:NE,__importDefault:TE,__classPrivateFieldGet:RE,__classPrivateFieldSet:OE,__classPrivateFieldIn:AE,__addDisposableResource:PE,__disposeResources:IE,__rewriteRelativeImportExtension:DE},T$=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:PE,get __assign(){return ln},__asyncDelegator:EE,__asyncGenerator:SE,__asyncValues:CE,__await:Wa,__awaiter:ye,__classPrivateFieldGet:RE,__classPrivateFieldIn:AE,__classPrivateFieldSet:OE,__createBinding:Rh,__decorate:fE,__disposeResources:IE,__esDecorate:mE,__exportStar:_E,__extends:hE,__generator:wE,__importDefault:TE,__importStar:NE,__makeTemplateObject:kE,__metadata:xE,__param:pE,__propKey:yE,__read:Oy,__rest:bi,__rewriteRelativeImportExtension:DE,__runInitializers:gE,__setFunctionName:vE,__spread:bE,__spreadArray:Ay,__spreadArrays:jE,__values:Fd,default:N$},Symbol.toStringTag,{value:"Module"})),R$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Oh=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},$E=class extends Oh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Lm=class extends Oh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Fm=class extends Oh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Md;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Md||(Md={}));class O${constructor(e,{headers:r={},customFetch:n,region:s=Md.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=R$(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ye(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:v}=n;v||(v=this.region);const g=new URL(`${this.url}/${r}`);v&&v!=="any"&&(p["x-region"]=v,g.searchParams.set("forceFunctionRegion",v));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(p["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(p["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let y=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(y=a.signal,d.addEventListener("abort",()=>a.abort())):y=a.signal);const w=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:m,signal:y}).catch(j=>{throw new $E(j)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new Lm(w);if(!w.ok)throw new Fm(w);let _=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield w.json():_==="application/octet-stream"||_==="application/pdf"?b=yield w.blob():_==="text/event-stream"?b=w:_==="multipart/form-data"?b=yield w.formData():b=yield w.text(),{data:b,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof Fm||l instanceof Lm?l.context:void 0}}finally{i&&clearTimeout(i)}})}}const A$=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Md},FunctionsClient:O$,FunctionsError:Oh,FunctionsFetchError:$E,FunctionsHttpError:Fm,FunctionsRelayError:Lm},Symbol.toStringTag,{value:"Module"})),LE=_c(A$);var dr={};const il=_c(T$);var du={},hu={},fu={},pu={},mu={},gu={},Ww;function FE(){if(Ww)return gu;Ww=1,Object.defineProperty(gu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return gu.default=t,gu}var qw;function ME(){if(qw)return mu;qw=1,Object.defineProperty(mu,"__esModule",{value:!0});const e=il.__importDefault(FE());let r=class{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,p;let v=null,g=null,m=null,y=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=j:g=JSON.parse(j))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&b&&b.length>1&&(m=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(v={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,y=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await c.text();try{v=JSON.parse(_),Array.isArray(v)&&c.status===404&&(g=[],v=null,y=200,w="OK")}catch{c.status===404&&_===""?(y=204,w="No Content"):v={message:_}}if(v&&this.isMaybeSingle&&(!((p=v==null?void 0:v.details)===null||p===void 0)&&p.includes("0 rows"))&&(v=null,y=200,w="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:g,count:m,status:y,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,p,v,g;let m="";const y=c==null?void 0:c.cause;if(y){const w=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",x=(d=y==null?void 0:y.code)!==null&&d!==void 0?d:"";m=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,m+=`

Caused by: ${(p=y==null?void 0:y.name)!==null&&p!==void 0?p:"Error"}: ${w}`,x&&(m+=` (${x})`),y!=null&&y.stack&&(m+=`
${y.stack}`)}else m=(v=c==null?void 0:c.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}};return mu.default=r,mu}var Hw;function UE(){if(Hw)return pu;Hw=1,Object.defineProperty(pu,"__esModule",{value:!0});const e=il.__importDefault(ME());let r=class extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return pu.default=r,pu}var Kw;function Py(){if(Kw)return fu;Kw=1,Object.defineProperty(fu,"__esModule",{value:!0});const e=il.__importDefault(UE()),r=new RegExp("[,()]");let n=class extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}};return fu.default=n,fu}var Gw;function VE(){if(Gw)return hu;Gw=1,Object.defineProperty(hu,"__esModule",{value:!0});const e=il.__importDefault(Py());let r=class{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(h.length>0){const p=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return hu.default=r,hu}var Qw;function P$(){if(Qw)return du;Qw=1,Object.defineProperty(du,"__esModule",{value:!0});const t=il,e=t.__importDefault(VE()),r=t.__importDefault(Py());let n=class BE{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new BE(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const p=new URL(`${this.url}/rpc/${i}`);let v;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{p.searchParams.append(m,y)})):(h="POST",v=a);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:h,url:p,headers:g,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return du.default=n,du}Object.defineProperty(dr,"__esModule",{value:!0});dr.PostgrestError=dr.PostgrestBuilder=dr.PostgrestTransformBuilder=dr.PostgrestFilterBuilder=dr.PostgrestQueryBuilder=dr.PostgrestClient=void 0;const ol=il,zE=ol.__importDefault(P$());dr.PostgrestClient=zE.default;const WE=ol.__importDefault(VE());dr.PostgrestQueryBuilder=WE.default;const qE=ol.__importDefault(Py());dr.PostgrestFilterBuilder=qE.default;const HE=ol.__importDefault(UE());dr.PostgrestTransformBuilder=HE.default;const KE=ol.__importDefault(ME());dr.PostgrestBuilder=KE.default;const GE=ol.__importDefault(FE());dr.PostgrestError=GE.default;dr.default={PostgrestClient:zE.default,PostgrestQueryBuilder:WE.default,PostgrestFilterBuilder:qE.default,PostgrestTransformBuilder:HE.default,PostgrestBuilder:KE.default,PostgrestError:GE.default};class QE{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const I$="2.86.2",D$=`realtime-js/${I$}`,JE="1.0.0",$$="2.0.0",Jw=JE,Mm=1e4,L$=1e3,F$=100;var Ui;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ui||(Ui={}));var Ft;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ft||(Ft={}));var jn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(jn||(jn={}));var Um;(function(t){t.websocket="websocket"})(Um||(Um={}));var Vi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vi||(Vi={}));class M${constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(v),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,l.length),g.setUint8(m++,a.length),g.setUint8(m++,u.length),g.setUint8(m++,h.length),g.setUint8(m++,r),Array.from(c,w=>g.setUint8(m++,w.charCodeAt(0))),Array.from(l,w=>g.setUint8(m++,w.charCodeAt(0))),Array.from(a,w=>g.setUint8(m++,w.charCodeAt(0))),Array.from(u,w=>g.setUint8(m++,w.charCodeAt(0))),Array.from(h,w=>g.setUint8(m++,w.charCodeAt(0)));var y=new Uint8Array(v.byteLength+n.byteLength);return y.set(new Uint8Array(v),0),y.set(new Uint8Array(n),v.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+a));c=c+a;const p=e.slice(c,e.byteLength),v=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,g={type:this.BROADCAST_EVENT,event:d,payload:v};return a>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class ZE{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ct||(ct={}));const Zw=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=U$(a,t,e,s),i),{}):{}},U$=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?YE(i,a):Vm(a)},YE=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return W$(e,r)}switch(t){case ct.bool:return V$(e);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return B$(e);case ct.json:case ct.jsonb:return z$(e);case ct.timestamp:return q$(e);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return Vm(e);default:return Vm(e)}},Vm=t=>t,V$=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},B$=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},z$=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},W$=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>YE(e,l))}return t},q$=t=>typeof t=="string"?t.replace(" ","T"):t,XE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bf{constructor(e,r,n={},s=Mm){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bm||(Bm={}));let eC=class Wu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wu.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Wu.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wu.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(y=>y.presence_ref),v=h.map(y=>y.presence_ref),g=d.filter(y=>v.indexOf(y.presence_ref)<0),m=h.filter(y=>p.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...p)}n(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var zm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zm||(zm={}));var ha;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ha||(ha={}));var Un;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));const H$=Ft;let tC=class rC{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bf(this,jn.join,this.params,this.timeout),this.rejoinTimer=new ZE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new eC(this),this.broadcastEndpointURL=XE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ha.PRESENCE]&&this.bindings[ha.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Un.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var g;if(this.socket.setAuth(),v===void 0){e==null||e(Un.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,w=[];for(let x=0;x<y;x++){const _=m[x],{filter:{event:b,schema:j,table:E,filter:S}}=_,R=v&&v[x];if(R&&R.event===b&&R.schema===j&&R.table===E&&R.filter===S)w.push(Object.assign(Object.assign({},_),{id:R.id}));else{this.unsubscribe(),this.state=Ft.errored,e==null||e(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Un.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ft.errored,e==null||e(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ft.joined&&e===ha.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Bf(this,jn.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ft.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bf(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>F$){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=jn;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var g,m,y;return((g=v.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=v.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(v=>v.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var g,m,y,w,x,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const b=v.id,j=(g=v.filter)===null||g===void 0?void 0:g.event;return b&&((m=r.ids)===null||m===void 0?void 0:m.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(x=(w=v==null?void 0:v.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return b==="*"||b===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:m,table:y,commit_timestamp:w,type:x,errors:_}=g;p=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:w,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(g))}v.callback(p,n)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&rC.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jn.close,{},e)}_onError(e){this._on(jn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Zw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Zw(e.columns,e.old_record)),r}};const zf=()=>{},yu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},K$=[1e3,2e3,5e3,1e4],G$=1e4,Q$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let J$=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mm,this.transport=null,this.heartbeatIntervalMs=yu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zf,this.ref=0,this.reconnectTimer=null,this.vsn=Jw,this.logger=zf,this.conn=null,this.sendBuffer=[],this.serializer=new M$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Um.websocket}`,this.httpEndpoint=XE(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=QE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return Vi.Connecting;case Ui.open:return Vi.Open;case Ui.closing:return Vi.Closing;default:return Vi.Closed}}isConnected(){return this.connectionState()===Vi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new tC(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(L$,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},yu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ui.open||this.conn.readyState===Ui.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Q$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:D$};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ZE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,c,u,d,h,p,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Mm,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:yu.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:zf,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Jw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>K$[g-1]||G$,this.vsn){case JE:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,m)=>m(JSON.parse(g));break;case $$:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const Z$=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:H$,get REALTIME_LISTEN_TYPES(){return ha},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return zm},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Bm},get REALTIME_SUBSCRIBE_STATES(){return Un},RealtimeChannel:tC,RealtimeClient:J$,RealtimePresence:eC,WebSocketFactory:QE},Symbol.toStringTag,{value:"Module"})),nC=_c(Z$);class Dc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function yt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sC extends Dc{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ud extends Dc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Iy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Y$=()=>Response,Wm=t=>{if(Array.isArray(t))return t.map(r=>Wm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Wm(n)}),e},X$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},eL=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Wf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},tL=(t,e,r)=>ye(void 0,void 0,void 0,function*(){const n=yield Y$();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new sC(Wf(s),i,a))}).catch(s=>{e(new Ud(Wf(s),s))}):e(new Ud(Wf(t),t))}),rL=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(X$(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function $c(t,e,r,n,s,i){return ye(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,rL(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>tL(c,l,n))})})}function hc(t,e,r,n){return ye(this,void 0,void 0,function*(){return $c(t,"GET",e,r,n)})}function xn(t,e,r,n,s){return ye(this,void 0,void 0,function*(){return $c(t,"POST",e,n,s,r)})}function qm(t,e,r,n,s){return ye(this,void 0,void 0,function*(){return $c(t,"PUT",e,n,s,r)})}function nL(t,e,r,n){return ye(this,void 0,void 0,function*(){return $c(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Dy(t,e,r,n,s){return ye(this,void 0,void 0,function*(){return $c(t,"DELETE",e,n,s,r)})}class sL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yt(e))return{data:null,error:e};throw e}})}}var iC;class iL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[iC]="BlobDownloadBuilder",this.promise=null}asStream(){return new sL(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yt(e))return{data:null,error:e};throw e}})}}iC=Symbol.toStringTag;const oL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aL{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Iy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return ye(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Yw),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?qm:xn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ye(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Yw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield qm(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield xn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Dc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}update(e,r,n){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ye(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield xn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ye(this,void 0,void 0,function*(){try{const s=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>hc(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new iL(c,this.shouldThrowOnError)}info(e){return ye(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield hc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Wm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}exists(e){return ye(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield nL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n)&&n instanceof Ud){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return ye(this,void 0,void 0,function*(){try{return{data:yield Dy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}list(e,r,n){return ye(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},oL),r),{prefix:e||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}listV2(e,r){return ye(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const oC="2.86.2",aC={"X-Client-Info":`storage-js/${oC}`};class lL{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aC),r),this.fetch=Iy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ye(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield hc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}getBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}createBucket(e){return ye(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return ye(this,void 0,void 0,function*(){try{return{data:yield qm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield Dy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var fc=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cL(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function uL(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function dL(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=cL(t.baseUrl,n,s),c=await uL(t.auth),u=await e(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const v=h?p:void 0,g=v==null?void 0:v.error;throw new fc((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:v})}return{status:u.status,headers:u.headers,data:p}}}}function vu(t){return t.join("")}var hL=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:vu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vu(t.namespace)}`}),!0}catch(e){if(e instanceof fc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof fc&&r.status===409)return;throw r}}};function Io(t){return t.join("")}var fL=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof fc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof fc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},pL=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=dL({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new hL(this.client,e),this.tableOps=new fL(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class lC{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aC),r),this.fetch=Iy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}listBuckets(e){return ye(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hc(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield Dy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}from(e){if(!eL(e))throw new Dc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new pL({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ye(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const $y={"X-Client-Info":`storage-js/${oC}`,"Content-Type":"application/json"};class Ly extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class qu extends Ly{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cC extends Ly{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Hm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hm||(Hm={}));const Ah=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mL=()=>Response,uC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gL=t=>Array.from(new Float32Array(t)),yL=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Xw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vL=(t,e,r)=>ye(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new qu(Xw(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new qu(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new qu(l,s,a))}}else e(new cC(Xw(t),t))}),xL=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(uC(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function wL(t,e,r,n,s,i){return ye(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,xL(e,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>vL(c,l,n))})})}function Br(t,e,r,n,s){return ye(this,void 0,void 0,function*(){return wL(t,"POST",e,n,s,r)})}class dC{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$y),r),this.fetch=Ah(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ye(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ye(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}listIndexes(e){return ye(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ye(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}}class hC{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$y),r),this.fetch=Ah(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ye(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Br(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}getVectors(e){return ye(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}listVectors(e){return ye(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Br(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}queryVectors(e){return ye(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ye(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Br(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}}class fC{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$y),r),this.fetch=Ah(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}getBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}listBuckets(){return ye(this,arguments,void 0,function*(e={}){try{return{data:yield Br(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}}class pC extends fC{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new mC(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ye(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ye(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ye(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ye(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class mC extends dC{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ye(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ye(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ye(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ye(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new gC(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class gC extends hC{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ye(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ye(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ye(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ye(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ye(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class _L extends lL{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new aL(this.url,this.headers,e,this.fetch)}get vectors(){return new pC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lC(this.url+"/iceberg",this.headers,this.fetch)}}const bL=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:lC,StorageApiError:sC,StorageClient:_L,StorageError:Dc,StorageUnknownError:Ud,StorageVectorsApiError:qu,StorageVectorsClient:pC,StorageVectorsError:Ly,get StorageVectorsErrorCode(){return Hm},StorageVectorsUnknownError:cC,VectorBucketApi:fC,VectorBucketScope:mC,VectorDataApi:hC,VectorIndexApi:dC,VectorIndexScope:gC,isPlainObject:uC,isStorageError:yt,isStorageVectorsError:Rr,normalizeToFloat32:gL,resolveFetch:Ah,resolveResponse:mL,validateVectorDimension:yL},Symbol.toStringTag,{value:"Module"})),jL=_c(bL);var yC={},Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.version=void 0;Ph.version="2.86.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=Ph;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(yC);var vC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(s,i,a)=>{const l=(0,t.resolveFetch)(a),c=(0,t.resolveHeadersConstructor)();return async(u,d)=>{var h;const p=(h=await i())!==null&&h!==void 0?h:s;let v=new c(d==null?void 0:d.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),l(u,Object.assign(Object.assign({},d),{headers:v}))}};t.fetchWithAuth=n})(vC);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.isBrowser=void 0;ji.uuid=SL;ji.ensureTrailingSlash=xC;ji.applySettingDefaults=CL;ji.validateSupabaseUrl=kL;function SL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function xC(t){return t.endsWith("/")?t:t+"/"}const EL=()=>typeof window<"u";ji.isBrowser=EL;function CL(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function kL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ih={};const wC="2.86.2",zo=30*1e3,Km=3,qf=Km*zo,NL="http://localhost:9999",TL="supabase.auth.token",RL={"X-Client-Info":`gotrue-js/${wC}`},Gm="X-Supabase-Api-Version",_C={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AL=10*60*1e3;let qa=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let bC=class extends qa{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function jC(t){return _e(t)&&t.name==="AuthApiError"}let Ms=class extends qa{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Ss=class extends qa{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}},Er=class extends Ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function SC(t){return _e(t)&&t.name==="AuthSessionMissingError"}let Li=class extends Ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Rl=class extends Ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Ol=class extends Ss{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function EC(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}let Qm=class extends Ss{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Vd=class extends Ss{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Hu(t){return _e(t)&&t.name==="AuthRetryableFetchError"}let Jm=class extends Ss{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function PL(t){return _e(t)&&t.name==="AuthWeakPasswordError"}let Bd=class extends Ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e_=` 	
\r=`.split(""),IL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<e_.length;e+=1)t[e_[e].charCodeAt(0)]=-2;for(let e=0;e<zd.length;e+=1)t[zd[e].charCodeAt(0)]=e;return t})();function t_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zd[n]),e.queuedBits-=6}}function CC(t,e,r){const n=IL[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function r_(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{LL(a,n,r)};for(let a=0;a<t.length;a+=1)CC(t.charCodeAt(a),s,i);return e.join("")}function DL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $L(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}DL(n,e)}}function LL(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function fa(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)CC(t.charCodeAt(s),r,n);return new Uint8Array(e)}function FL(t){const e=[];return $L(t,r=>e.push(r)),new Uint8Array(e)}function Qi(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>t_(s,r,n)),t_(null,r,n),e.join("")}function ML(t){return Math.round(Date.now()/1e3)+t}function UL(){return Symbol("auth-callback")}const Yt=()=>typeof window<"u"&&typeof document<"u",Pi={tested:!1,writable:!1},kC=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pi.tested)return Pi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pi.tested=!0,Pi.writable=!0}catch{Pi.tested=!0,Pi.writable=!1}return Pi.writable};function VL(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const NC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Wo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ii=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zt=async(t,e)=>{await t.removeItem(e)};class Dh{constructor(){this.promise=new Dh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Dh.promiseConstructor=Promise;function Hf(t){const e=t.split(".");if(e.length!==3)throw new Bd("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!OL.test(e[n]))throw new Bd("JWT not in base64url format");return{header:JSON.parse(r_(e[0])),payload:JSON.parse(r_(e[1])),signature:fa(e[2]),raw:{header:e[0],payload:e[1]}}}async function zL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function WL(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function qL(t){return("0"+t.toString(16)).substr(-2)}function HL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,qL).join("")}async function KL(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function GL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await KL(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Do(t,e,r=!1){const n=HL();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Wo(t,`${e}-code-verifier`,s);const i=await GL(n);return[i,n===i?"plain":"s256"]}const QL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JL(t){const e=t.headers.get(Gm);if(!e||!e.match(QL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ZL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function YL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $o(t){if(!XL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eF(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function n_(t){return JSON.parse(JSON.stringify(t))}const Fi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tF=[502,503,504];async function s_(t){var e;if(!BL(t))throw new Vd(Fi(t),0);if(tF.includes(t.status))throw new Vd(Fi(t),t.status);let r;try{r=await t.json()}catch(i){throw new Ms(Fi(i),i)}let n;const s=JL(t);if(s&&s.getTime()>=_C["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jm(Fi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Er}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Jm(Fi(r),t.status,r.weak_password.reasons);throw new bC(Fi(r),t.status||500,n)}const rF=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ee(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Gm]||(i[Gm]=_C["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await nF(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function nF(t,e,r,n,s,i){const a=rF(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Vd(Fi(c),0)}if(l.ok||await s_(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await s_(c)}}function gn(t){var e;let r=null;oF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ML(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function i_(t){const e=gn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Us(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sF(t){return{data:t,error:null}}function iF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=bi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function o_(t){return t}function oF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ku=["global","local","others"];let Fy=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=NC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Ku[0]){if(Ku.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ku.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Us})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=bi(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ee(this.fetch,"POST",`${this.url}/api/admin/generate_link`,{body:s,headers:this.headers,xform:iF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/api/admin/users`,{body:e,headers:this.headers,xform:Us})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/api/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:o_});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(_e(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){$o(e);try{return await Ee(this.fetch,"GET",`${this.url}/api/admin/users/${e}`,{headers:this.headers,xform:Us})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){$o(e);try{return await Ee(this.fetch,"PUT",`${this.url}/api/admin/users/${e}`,{body:r,headers:this.headers,xform:Us})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){$o(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/api/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Us})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){$o(e.userId);try{const{data:r,error:n}=await Ee(this.fetch,"GET",`${this.url}/api/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteFactor(e){$o(e.userId),$o(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/api/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/api/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:o_});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(_e(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/api/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/api/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ee(this.fetch,"PUT",`${this.url}/api/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/api/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/api/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}};function a_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Mi={debug:!!(globalThis&&kC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class My extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let TC=class extends My{};class aF extends My{}async function RC(t,e,r){Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new TC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Mi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const l_={};async function lF(t,e,r){var n;const s=(n=l_[t])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((a,l)=>{setTimeout(()=>{l(new aF(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(a=>a)).catch(a=>{if(a&&a.isAcquireTimeout)throw a;return null}).then(async()=>await r());return l_[t]=i.catch(async a=>{if(a&&a.isAcquireTimeout)return await s,null;throw a}),await i}function cF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function OC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function uF(t){return parseInt(t,16)}function dF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function hF(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=OC(t.address),g=d?`${d}://${n}`:n,m=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${v}

${m}`;let w=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}w+=x}return`${y}
${w}`}class Mt extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Wd extends Mt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function fF({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(AC(a)){if(i.rp.id!==a)return new Mt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function pF({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(AC(n)){if(r.rpId!==n)return new Mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class mF{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const gF=new mF;function yF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=bi(t,["challenge","user","excludeCredentials"]),i=fa(e).buffer,a=Object.assign(Object.assign({},r),{id:fa(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:fa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function vF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=bi(t,["challenge","allowCredentials"]),s=fa(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:fa(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function xF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qi(new Uint8Array(s.authenticatorData)),clientDataJSON:Qi(new Uint8Array(s.clientDataJSON)),signature:Qi(new Uint8Array(s.signature)),userHandle:s.userHandle?Qi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function AC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function c_(){var t,e;return!!(Yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _F(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",e)}:{data:null,error:new Wd("Empty credential response",e)}}catch(e){return{data:null,error:fF({error:e,options:t})}}}async function bF(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",e)}:{data:null,error:new Wd("Empty credential response",e)}}catch(e){return{data:null,error:pF({error:e,options:t})}}}const jF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},SF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qd(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const l=n[i];e(l)?n[i]=qd(l,a):n[i]=qd(a)}else n[i]=a}return n}function EF(t,e){return qd(jF,t,e||{})}function CF(t,e){return qd(SF,t,e||{})}class kF{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const c=s??gF.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=EF(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await _F({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=CF(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await bF(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return _e(a)?{data:null,error:a}:{data:null,error:new Ms("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new qa("rpId is required for WebAuthn authentication")};try{if(!c_())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return _e(a)?{data:null,error:a}:{data:null,error:new Ms("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new qa("rpId is required for WebAuthn registration")};try{if(!c_())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return _e(a)?{data:null,error:a}:{data:null,error:new Ms("Unexpected error in register",a)}}}}cF();const NF={url:NL,storageKey:TL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function u_(t,e,r){return await r()}const Lo={};let Uy=class Zm{get jwks(){var e,r;return(r=(e=Lo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Lo[this.storageKey]=Object.assign(Object.assign({},Lo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Lo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Lo[this.storageKey]=Object.assign(Object.assign({},Lo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},NF),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Zm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Zm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Yt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Fy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=NC(i.fetch),this.lock=i.lock||u_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Yt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=RC:this.lock=u_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:kC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=a_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=a_(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Yt()&&(r=VL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Yt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),EC(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _e(r)?this._returnResult({error:r}):this._returnResult({error:new Ms("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:gn}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let v=null,g=null;this.flowType==="pkce"&&([v,g]=await Do(this.storage,this.storageKey)),i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:g},xform:gn})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:gn})}else throw new Rl("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await Zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:i_})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:i_})}else throw new Rl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Li;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,l,c,u,d,h,p;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:m,wallet:y,statement:w,options:x}=e;let _;if(Yt())if(typeof y=="object")_=y;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")_=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const b=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),j=await _.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=OC(j[0]);let S=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const D=await _.request({method:"eth_chainId"});S=uF(D)}const R={domain:b.host,address:E,statement:w,uri:b.href,version:"1",chainId:S,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=hF(R),g=await _.request({method:"personal_sign",params:[dF(v),E]})}try{const{data:m,error:y}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gn});if(y)throw y;if(!m||!m.session||!m.user){const w=new Li;return this._returnResult({data:{user:null,session:null},error:w})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(_e(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,s,i,a,l,c,u,d,h,p,v;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:y,wallet:w,statement:x,options:_}=e;let b;if(Yt())if(typeof w=="object")b=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))b=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=w}const j=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const E=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let S;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")S=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)S=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const E=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:y,error:w}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Qi(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gn});if(w)throw w;if(!y||!y.session||!y.user){const x=new Li;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(_e(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await Ii(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gn});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Li;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Li;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Do(this.storage,this.storageKey));const{error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Rl("You must provide either an email or phone number.")}catch(l){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(_e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Do(this.storage,this.storageKey));const u=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:sF});return!((i=u.data)===null||i===void 0)&&i.url&&Yt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Er;const{error:s}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(_e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Rl("You must provide either an email or phone number and a type")}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<qf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Ii(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Kf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=eF(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Us}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Er}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Us})})}catch(r){if(_e(r))return SC(r)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Er;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Do(this.storage,this.storageKey));const{data:u,error:d}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Us});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),_e(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Er;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Hf(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(_e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Er;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Yt())throw new Ol("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ol(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ol("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qm("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new Ol("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const v=p-d;v*1e3<=zo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const g=p-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(_e(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ii(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(jC(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=UL(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Do(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Yt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(_e(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,h=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gn}),{data:p,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Li}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:v}))}catch(s){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),_e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await WL(async s=>(s>0&&await zL(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Hu(i)&&Date.now()+a-n<zo})}catch(n){if(this._debug(r,"error",n),_e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Yt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ii(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Wo(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Kf()}else if(s&&!s.user&&!s.user){const a=await Ii(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Zt(this.storage,this.storageKey+"-user"),await Wo(this.storage,this.storageKey,s)):s.user=Kf()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qf;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${qf}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Hu(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dh;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Er;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),_e(i)){const a={data:null,error:i};return Hu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Zt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Wo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=n_(s);await Wo(this.storage,this.storageKey,i)}else{const s=n_(r);await Wo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/zo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zo}ms, refresh threshold is ${Km} ticks`),s<=Km&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof My)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Do(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?xF(e.webauthn.credential_response):wF(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:yF(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:vF(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Hf(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Er})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Er});const a=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Yt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Er});const a=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Yt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Er})})}catch(e){if(_e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Er})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+AL>s)return n;const{data:i,error:a}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:g}=await this.getSession();if(g||!v.session)return this._returnResult({data:null,error:g});n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Hf(n);r!=null&&r.allowExpired||ZL(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=YL(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,FL(`${l}.${c}`)))throw new Bd("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}};Uy.nextInstanceID={};const TF=Fy,RF=Uy,OF=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:TF,AuthApiError:bC,AuthClient:RF,AuthError:qa,AuthImplicitGrantRedirectError:Ol,AuthInvalidCredentialsError:Rl,AuthInvalidJwtError:Bd,AuthInvalidTokenResponseError:Li,AuthPKCEGrantCodeExchangeError:Qm,AuthRetryableFetchError:Vd,AuthSessionMissingError:Er,AuthUnknownError:Ms,AuthWeakPasswordError:Jm,CustomAuthError:Ss,GoTrueAdminApi:Fy,GoTrueClient:Uy,NavigatorLockAcquireTimeoutError:TC,SIGN_OUT_SCOPES:Ku,isAuthApiError:jC,isAuthError:_e,isAuthImplicitGrantRedirectError:EC,isAuthRetryableFetchError:Hu,isAuthSessionMissingError:SC,isAuthWeakPasswordError:PL,lockInternals:Mi,navigatorLock:RC,processLock:lF},Symbol.toStringTag,{value:"Module"})),PC=_c(OF);Object.defineProperty(Ih,"__esModule",{value:!0});Ih.SupabaseAuthClient=void 0;const AF=PC;class PF extends AF.AuthClient{constructor(e){super(e)}}Ih.SupabaseAuthClient=PF;Object.defineProperty(Ld,"__esModule",{value:!0});const IF=LE,DF=dr,$F=nC,LF=jL,xu=yC,FF=vC,d_=ji,MF=Ih;let UF=class{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const l=(0,d_.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:xu.DEFAULT_DB_OPTIONS,realtime:xu.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},xu.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:xu.DEFAULT_GLOBAL_OPTIONS},d=(0,d_.applySettingDefaults)(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=(0,FF.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new DF.PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new LF.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new IF.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MF.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $F.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Ld.default=UF;(function(t){var e=Oo&&Oo.__createBinding||(Object.create?function(d,h,p,v){v===void 0&&(v=p);var g=Object.getOwnPropertyDescriptor(h,p);(!g||("get"in g?!h.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(d,v,g)}:function(d,h,p,v){v===void 0&&(v=p),d[v]=h[p]}),r=Oo&&Oo.__exportStar||function(d,h){for(var p in d)p!=="default"&&!Object.prototype.hasOwnProperty.call(h,p)&&e(h,d,p)},n=Oo&&Oo.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=n(Ld);r(PC,t);var i=dr;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var a=LE;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return a.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return a.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return a.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return a.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return a.FunctionRegion}}),r(nC,t);var l=Ld;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(l).default}});const c=(d,h,p)=>new s.default(d,h,p);t.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ry);const IC=lg(Ry),VF=Q_({__proto__:null,default:IC},[Ry]),{PostgrestError:B3,FunctionsHttpError:z3,FunctionsFetchError:W3,FunctionsRelayError:q3,FunctionsError:H3,FunctionRegion:K3,SupabaseClient:G3,createClient:BF,GoTrueAdminApi:Q3,GoTrueClient:J3,AuthAdminApi:Z3,AuthClient:Y3,navigatorLock:X3,NavigatorLockAcquireTimeoutError:e5,lockInternals:t5,processLock:r5,SIGN_OUT_SCOPES:n5,AuthError:s5,AuthApiError:i5,AuthUnknownError:o5,CustomAuthError:a5,AuthSessionMissingError:l5,AuthInvalidTokenResponseError:c5,AuthInvalidCredentialsError:u5,AuthImplicitGrantRedirectError:d5,AuthPKCEGrantCodeExchangeError:h5,AuthRetryableFetchError:f5,AuthWeakPasswordError:p5,AuthInvalidJwtError:m5,isAuthError:g5,isAuthApiError:y5,isAuthSessionMissingError:v5,isAuthImplicitGrantRedirectError:x5,isAuthRetryableFetchError:w5,isAuthWeakPasswordError:_5,RealtimePresence:b5,RealtimeChannel:j5,RealtimeClient:S5,REALTIME_LISTEN_TYPES:E5,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:C5,REALTIME_PRESENCE_LISTEN_EVENTS:k5,REALTIME_SUBSCRIBE_STATES:N5,REALTIME_CHANNEL_STATES:T5}=IC||VF,zF="https://xlrwvzwpecprhgzfcqxw.supabase.co",WF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhscnd2endwZWNwcmhnemZjcXh3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MTM0MDQsImV4cCI6MjA3NTQ4OTQwNH0.DMYh5ppj7B5ihblJzqrvOP9i8lrghStIPd1rXe6woWE",Ha=BF(zF,WF),qF="student-photos";async function HF(t,e=qF){const r=t.name.split(".").pop(),s=`students/${`${Date.now()}-${Math.random().toString(36).substring(2,9)}.${r}`}`,{data:i,error:a}=await Ha.storage.from(e).upload(s,t,{cacheControl:"3600",upsert:!1});if(a)throw new Error(`Upload failed: ${a.message}`);const{data:l}=Ha.storage.from(e).getPublicUrl(i.path);return l.publicUrl}const KF=Lt({email:ee().email(),password:ee().min(6)});function GF(){const[t,e]=f.useState(!1),r=No(),{toast:n}=pr(),s=nr({resolver:sr(KF),defaultValues:{email:"",password:""}});async function i(a){var l,c,u;e(!0);try{const d=await Re.post("/auth/login",{email:a.email,password:a.password});if(d.data.success){const{accessToken:h,refreshToken:p,user:v}=d.data.data;localStorage.setItem("token",h),localStorage.setItem("refreshToken",p),localStorage.setItem("user",JSON.stringify(v));const{error:g}=await Ha.auth.setSession({access_token:h,refresh_token:p});g&&console.error("Supabase Session Sync Error:",g),n({title:"Login Successful",description:"Welcome back!"}),r("/")}}catch(d){console.error(d);const h=((u=(c=(l=d.response)==null?void 0:l.data)==null?void 0:c.error)==null?void 0:u.message)||d.message||"Something went wrong";n({variant:"destructive",title:"Login Failed",description:h})}finally{e(!1)}}return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:o.jsxs(kt,{className:"w-[400px]",children:[o.jsxs(Pt,{children:[o.jsx(It,{children:"Admin Login"}),o.jsx(lo,{children:"Enter your credentials to access the admin panel."})]}),o.jsx(Nt,{children:o.jsx(ir,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[o.jsx(V,{control:s.control,name:"email",render:({field:a})=>o.jsxs(U,{children:[o.jsx(W,{children:"Email"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"admin@example.com",...a})}),o.jsx(G,{})]})}),o.jsx(V,{control:s.control,name:"password",render:({field:a})=>o.jsxs(U,{children:[o.jsx(W,{children:"Password"}),o.jsx(B,{children:o.jsx(Y,{type:"password",placeholder:"******",...a})}),o.jsx(G,{})]})}),o.jsx(re,{type:"submit",className:"w-full",disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(E$,{className:"mr-2 h-4 w-4"}),"Logging in..."]}):"Login"})]})})})]})})}const Fe={all:["data"],users:()=>[...Fe.all,"users"],students:()=>[...Fe.all,"students"],instructors:()=>[...Fe.all,"instructors"],courses:()=>[...Fe.all,"courses"],bookings:()=>[...Fe.all,"bookings"],rooms:()=>[...Fe.all,"rooms"],schedules:()=>[...Fe.all,"schedules"],dashboard:()=>[...Fe.all,"dashboard"]};function $h(){return Tn({queryKey:Fe.users(),queryFn:async()=>{let e=(await Re.get("/api/admin/users")).data.data||[];return Array.isArray(e)||(e=[]),e}})}function DC(t=1,e=10){return Tn({queryKey:[...Fe.students(),t,e],queryFn:async()=>(await Re.get(`/api/admin/students?page=${t}&limit=${e}`)).data.data})}function Lc(t=1,e=10){return Tn({queryKey:[...Fe.instructors(),t,e],queryFn:async()=>{const n=(await Re.get(`/api/admin/instructor?page=${t}&limit=${e}`)).data.data;return Array.isArray(n)?n:n&&Array.isArray(n.instructors)?n.instructors:[]}})}function al(){return Tn({queryKey:Fe.courses(),queryFn:async()=>{let e=(await Re.get("/api/admin/courses")).data.data||[];return Array.isArray(e)||(e=[]),e}})}function Vy(){return Tn({queryKey:Fe.bookings(),queryFn:async()=>(await Re.get("/api/admin/bookings")).data.data})}function Fc(){return Tn({queryKey:Fe.rooms(),queryFn:async()=>(await Re.get("/api/admin/rooms")).data.data})}function Lh(){return Tn({queryKey:Fe.schedules(),queryFn:async()=>(await Re.get("/api/admin/schedules")).data.data})}function QF(){return Tn({queryKey:Fe.dashboard(),queryFn:async()=>(await Re.get("/api/admin/dashboard")).data.data})}function mr({className:t,...e}){return o.jsx("div",{className:we("animate-pulse rounded-md bg-muted",t),...e})}function $C(){return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex items-center justify-between space-y-2",children:o.jsx(mr,{className:"h-8 w-[200px]"})}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((t,e)=>o.jsxs(kt,{children:[o.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(It,{className:"text-sm font-medium",children:o.jsx(mr,{className:"h-4 w-[100px]"})}),o.jsx(mr,{className:"h-4 w-4 rounded-full"})]}),o.jsxs(Nt,{children:[o.jsx("div",{className:"text-2xl font-bold",children:o.jsx(mr,{className:"h-8 w-[60px] mt-2"})}),o.jsx(mr,{className:"h-3 w-[120px] mt-2"})]})]},e))}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[o.jsxs(kt,{className:"col-span-4",children:[o.jsx(Pt,{children:o.jsx(It,{children:o.jsx(mr,{className:"h-6 w-[150px]"})})}),o.jsx(Nt,{className:"pl-2",children:o.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((t,e)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx(mr,{className:"h-12 w-12 rounded-full"}),o.jsxs("div",{className:"ml-4 space-y-1",children:[o.jsx(mr,{className:"h-4 w-[200px]"}),o.jsx(mr,{className:"h-3 w-[150px]"})]}),o.jsx("div",{className:"ml-auto font-medium",children:o.jsx(mr,{className:"h-4 w-[80px]"})})]},e))})})]}),o.jsxs(kt,{className:"col-span-3",children:[o.jsxs(Pt,{children:[o.jsx(It,{children:o.jsx(mr,{className:"h-6 w-[120px]"})}),o.jsx("div",{className:"space-y-1",children:o.jsx(mr,{className:"h-4 w-[250px]"})})]}),o.jsx(Nt,{children:o.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((t,e)=>o.jsx(mr,{className:"h-12 w-full"},e))})})]})]})]})}function JF(){var h,p,v;const{data:t,isLoading:e,error:r}=QF(),{data:n}=Vy(),{data:s=[]}=$h(),{data:i=[]}=al(),a=f.useMemo(()=>{const g={};return Array.isArray(s)&&s.forEach(m=>{m&&m.id&&(g[m.id]=m.full_name||m.name||m.email||m.id)}),g},[s]),l=f.useMemo(()=>{const g={};return Array.isArray(i)&&i.forEach(m=>{m&&m.id&&(g[m.id]=m.title||m.name||m.id)}),g},[i]),c=f.useMemo(()=>n?(Array.isArray(n)?n:n.bookings||[]).sort((m,y)=>new Date(y.created_at).getTime()-new Date(m.created_at).getTime()).slice(0,5).map(m=>{const y=m.applicant_full_name||a[m.user_id]||"Unknown Student",w=l[m.course_id]||"Course",x=new Date(m.created_at),b=Math.floor((new Date().getTime()-x.getTime())/1e3);let j="";return b<60?j="Just now":b<3600?j=`${Math.floor(b/60)} mins ago`:b<86400?j=`${Math.floor(b/3600)} hours ago`:j=x.toLocaleDateString(),{id:m.id,title:`New booking ${m.status}`,description:`Student ${y} booked ${w}`,time:j,status:m.status}}):[],[n,a,l]);if(e)return o.jsx($C,{});if(r)return o.jsx("div",{className:"p-6 bg-red-50 text-red-600 rounded-lg border border-red-100",children:"Error loading dashboard data. Please try again later."});const u=[{title:"Total Users",value:((h=t==null?void 0:t.userStats)==null?void 0:h.totalUsers)||0,icon:aS,description:"Active users in the system",color:"text-blue-600",bgColor:"bg-blue-100",trend:"+12% from last month"},{title:"Total Courses",value:((p=t==null?void 0:t.courseStats)==null?void 0:p.totalCourses)||0,icon:Sd,description:"Available courses",color:"text-purple-600",bgColor:"bg-purple-100",trend:"+4 new courses"},{title:"Total Bookings",value:((v=t==null?void 0:t.bookingStats)==null?void 0:v.totalBookings)||0,icon:Nl,description:"All time bookings",color:"text-green-600",bgColor:"bg-green-100",trend:"+8% increase"},{title:"Revenue",value:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format((t==null?void 0:t.revenue)||0),icon:oS,description:"Total revenue",color:"text-orange-600",bgColor:"bg-orange-100",trend:"+2.5% from last month"}],d=[{label:"Add New Student",href:"/students",icon:dn},{label:"Create Course",href:"/courses",icon:Sd},{label:"View Schedule",href:"/schedules",icon:Nl},{label:"Manage Booking",href:"/bookings",icon:Nl}];return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Dashboard Overview"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Welcome back, here's what's happening with your music school today."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(re,{variant:"outline",className:"gap-2",children:[o.jsx(Nl,{className:"h-4 w-4"}),new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),o.jsxs(re,{className:"gap-2",children:[o.jsx(Qx,{className:"h-4 w-4"}),"Generate Report"]})]})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:u.map((g,m)=>{const y=g.icon;return o.jsxs(kt,{className:"border-none shadow-md hover:shadow-lg transition-shadow duration-200",children:[o.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(It,{className:"text-sm font-medium text-muted-foreground",children:g.title}),o.jsx("div",{className:`p-2 rounded-full ${g.bgColor}`,children:o.jsx(y,{className:`h-4 w-4 ${g.color}`})})]}),o.jsxs(Nt,{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.value}),o.jsx("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:o.jsxs("span",{className:"text-green-600 font-medium flex items-center mr-1",children:[o.jsx(Qx,{className:"h-3 w-3 mr-0.5"}),g.trend]})}),o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:g.description})]})]},m)})}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-7",children:[o.jsxs(kt,{className:"md:col-span-4 border-none shadow-md",children:[o.jsxs(Pt,{children:[o.jsx(It,{children:"Quick Actions"}),o.jsx(lo,{children:"Frequently used actions for easy access."})]}),o.jsx(Nt,{className:"grid grid-cols-2 gap-4",children:d.map((g,m)=>o.jsx(em,{to:g.href,children:o.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-gray-50 hover:bg-primary/5 border border-gray-100 rounded-xl transition-colors cursor-pointer group text-center h-full",children:[o.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm mb-3 group-hover:scale-110 transition-transform",children:o.jsx(g.icon,{className:"h-6 w-6 text-primary"})}),o.jsx("span",{className:"font-medium text-gray-900 group-hover:text-primary transition-colors",children:g.label})]})},m))})]}),o.jsxs(kt,{className:"md:col-span-3 border-none shadow-md",children:[o.jsxs(Pt,{children:[o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(sS,{className:"h-5 w-5 text-primary"}),"Recent Activity"]}),o.jsx(lo,{children:"Latest system events and updates."})]}),o.jsxs(Nt,{children:[o.jsx("div",{className:"space-y-4",children:c.length>0?c.map((g,m)=>o.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b last:border-0 last:pb-0",children:[o.jsx("div",{className:"h-2 w-2 mt-2 rounded-full bg-primary"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:g.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:g.description}),o.jsx("p",{className:"text-xs text-gray-400",children:g.time})]})]},m)):o.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No recent activity"})}),o.jsx(re,{variant:"ghost",className:"w-full mt-4 text-primary hover:text-primary/80 hover:bg-primary/5",asChild:!0,children:o.jsxs(em,{to:"/bookings",children:["View All Activity ",o.jsx(LP,{className:"ml-2 h-4 w-4"})]})})]})]})]})]})}const ZF=()=>{const[t,e]=f.useState(!1),[r,n]=f.useState(null),[s,i]=f.useState([]),[a,l]=f.useState(0),c=f.useRef(null),u=Sr(),d=f.useCallback(m=>{console.log("Realtime event received:",m);const y=m.new,w=m.eventType;if(!y)return;let x="booking.updated";w==="INSERT"?x="booking.created":w==="UPDATE"&&(y.status==="cancelled"?x="booking.cancelled":x="booking.updated");const _={eventType:x,bookingId:y.id,userId:y.user_id||"unknown",courseId:y.course_id,status:y.status,timestamp:new Date().toISOString()};switch(n(_),i(b=>[_,...b]),l(b=>b+1),x){case"booking.created":Uu({title:" Booking Baru!",description:`Booking Status: ${_.status}`});break;case"booking.cancelled":Uu({title:" Booking Dibatalkan",description:`Booking ID: ${_.bookingId.slice(0,8)}...`,variant:"destructive"});break;case"booking.updated":Uu({title:" Booking Diupdate",description:`Status: ${_.status}`});break}u.invalidateQueries({queryKey:Fe.bookings()}),u.invalidateQueries({queryKey:Fe.dashboard()})},[u]),h=f.useCallback(()=>{l(0)},[]),p=f.useCallback(()=>{i([]),l(0)},[]),v=f.useCallback(()=>{if(c.current)return;console.log(" Connecting to Supabase Realtime...");const m=Ha.channel("admin-dashboard-changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},y=>{d(y)}).subscribe(y=>{y==="SUBSCRIBED"?(console.log(" Subscribed to Supabase Realtime"),e(!0)):y==="CLOSED"&&(console.log(" Disconnected from Supabase Realtime"),e(!1),c.current=null)});c.current=m},[d]),g=f.useCallback(()=>{c.current&&(Ha.removeChannel(c.current),c.current=null,e(!1))},[]);return f.useEffect(()=>(v(),()=>{g()}),[v,g]),{isConnected:t,lastNotification:r,notifications:s,unreadCount:a,markAllAsRead:h,clearNotifications:p,reconnect:v}};function YF(t,e){const r=f.createContext(e),n=i=>{const{children:a,...l}=i,c=f.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function s(i){const a=f.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function XF(t,e=[]){let r=[];function n(i,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var w;const{scope:p,children:v,...g}=h,m=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,y=f.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:v})};u.displayName=i+"Provider";function d(h,p){var m;const v=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=f.useContext(v);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,eM(s,...e)]}function eM(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var tM=Xd[" useId ".trim().toString()]||(()=>{}),rM=0;function pa(t){const[e,r]=f.useState(tM());return rr(()=>{r(n=>n??String(rM++))},[t]),e?`radix-${e}`:""}function nM(t){const e=sM(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(oM);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function sM(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=lM(s),l=aM(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iM=Symbol("radix.slottable");function oM(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iM}function aM(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function lM(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var cM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uM=cM.reduce((t,e)=>{const r=nM(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Gf="focusScope.autoFocusOnMount",Qf="focusScope.autoFocusOnUnmount",h_={bubbles:!1,cancelable:!0},dM="FocusScope",By=f.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=f.useState(null),u=On(s),d=On(i),h=f.useRef(null),p=ot(e,m=>c(m)),v=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let m=function(_){if(v.paused||!l)return;const b=_.target;l.contains(b)?h.current=b:Ps(h.current,{select:!0})},y=function(_){if(v.paused||!l)return;const b=_.relatedTarget;b!==null&&(l.contains(b)||Ps(h.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const j of _)j.removedNodes.length>0&&Ps(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),x.disconnect()}}},[n,l,v.paused]),f.useEffect(()=>{if(l){p_.add(v);const m=document.activeElement;if(!l.contains(m)){const w=new CustomEvent(Gf,h_);l.addEventListener(Gf,u),l.dispatchEvent(w),w.defaultPrevented||(hM(yM(LC(l)),{select:!0}),document.activeElement===m&&Ps(l))}return()=>{l.removeEventListener(Gf,u),setTimeout(()=>{const w=new CustomEvent(Qf,h_);l.addEventListener(Qf,d),l.dispatchEvent(w),w.defaultPrevented||Ps(m??document.body,{select:!0}),l.removeEventListener(Qf,d),p_.remove(v)},0)}}},[l,u,d,v]);const g=f.useCallback(m=>{if(!r&&!n||v.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(y&&w){const x=m.currentTarget,[_,b]=fM(x);_&&b?!m.shiftKey&&w===b?(m.preventDefault(),r&&Ps(_,{select:!0})):m.shiftKey&&w===_&&(m.preventDefault(),r&&Ps(b,{select:!0})):w===x&&m.preventDefault()}},[r,n,v.paused]);return o.jsx(uM.div,{tabIndex:-1,...a,ref:p,onKeyDown:g})});By.displayName=dM;function hM(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ps(n,{select:e}),document.activeElement!==r)return}function fM(t){const e=LC(t),r=f_(e,t),n=f_(e.reverse(),t);return[r,n]}function LC(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function f_(t,e){for(const r of t)if(!pM(r,{upTo:e}))return r}function pM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mM(t){return t instanceof HTMLInputElement&&"select"in t}function Ps(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&mM(t)&&e&&t.select()}}var p_=gM();function gM(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=m_(t,e),t.unshift(e)},remove(e){var r;t=m_(t,e),(r=t[0])==null||r.resume()}}}function m_(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function yM(t){return t.filter(e=>e.tagName!=="A")}function FC(t){const e=vM(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(wM);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function vM(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=bM(s),l=_M(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xM=Symbol("radix.slottable");function wM(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xM}function _M(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function bM(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var jM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mc=jM.reduce((t,e)=>{const r=FC(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Jf=0;function MC(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??g_()),document.body.insertAdjacentElement("beforeend",t[1]??g_()),Jf++,()=>{Jf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jf--}},[])}function g_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gu="right-scroll-bar-position",Qu="width-before-scroll-bar",SM="with-scroll-bars-hidden",EM="--removed-body-scroll-bar-size";function Zf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function CM(t,e){var r=f.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var kM=typeof window<"u"?f.useLayoutEffect:f.useEffect,y_=new WeakMap;function NM(t,e){var r=CM(null,function(n){return t.forEach(function(s){return Zf(s,n)})});return kM(function(){var n=y_.get(r);if(n){var s=new Set(n),i=new Set(t),a=r.current;s.forEach(function(l){i.has(l)||Zf(l,null)}),i.forEach(function(l){s.has(l)||Zf(l,a)})}y_.set(r,t)},[t]),r}function TM(t){return t}function RM(t,e){e===void 0&&(e=TM);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var a=e(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function OM(t){t===void 0&&(t={});var e=RM(null);return e.options=ln({async:!0,ssr:!1},t),e}var UC=function(t){var e=t.sideCar,r=bi(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,ln({},r))};UC.isSideCarExport=!0;function AM(t,e){return t.useMedium(e),UC}var VC=OM(),Yf=function(){},Fh=f.forwardRef(function(t,e){var r=f.useRef(null),n=f.useState({onScrollCapture:Yf,onWheelCapture:Yf,onTouchMoveCapture:Yf}),s=n[0],i=n[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,v=t.noRelative,g=t.noIsolation,m=t.inert,y=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,_=t.gapMode,b=bi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,E=NM([r,e]),S=ln(ln({},b),s);return f.createElement(f.Fragment,null,d&&f.createElement(j,{sideCar:VC,removeScrollBar:u,shards:h,noRelative:v,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:_}),a?f.cloneElement(f.Children.only(l),ln(ln({},S),{ref:E})):f.createElement(x,ln({},S,{className:c,ref:E}),l))});Fh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fh.classNames={fullWidth:Qu,zeroRight:Gu};var PM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=PM();return e&&t.setAttribute("nonce",e),t}function DM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $M(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LM=function(){var t=0,e=null;return{add:function(r){t==0&&(e=IM())&&(DM(e,r),$M(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},FM=function(){var t=LM();return function(e,r){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},BC=function(){var t=FM(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},MM={left:0,top:0,right:0,gap:0},Xf=function(t){return parseInt(t||"",10)||0},UM=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Xf(r),Xf(n),Xf(s)]},VM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return MM;var e=UM(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},BM=BC(),ma="data-scroll-locked",zM=function(t,e,r,n){var s=t.left,i=t.top,a=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(SM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ma,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gu," .").concat(Gu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qu," .").concat(Qu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ma,`] {
    `).concat(EM,": ").concat(l,`px;
  }
`)},v_=function(){var t=parseInt(document.body.getAttribute(ma)||"0",10);return isFinite(t)?t:0},WM=function(){f.useEffect(function(){return document.body.setAttribute(ma,(v_()+1).toString()),function(){var t=v_()-1;t<=0?document.body.removeAttribute(ma):document.body.setAttribute(ma,t.toString())}},[])},qM=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;WM();var i=f.useMemo(function(){return VM(s)},[s]);return f.createElement(BM,{styles:zM(i,!e,s,r?"":"!important")})},Ym=!1;if(typeof window<"u")try{var wu=Object.defineProperty({},"passive",{get:function(){return Ym=!0,!0}});window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{Ym=!1}var Fo=Ym?{passive:!1}:!1,HM=function(t){return t.tagName==="TEXTAREA"},zC=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!HM(t)&&r[e]==="visible")},KM=function(t){return zC(t,"overflowY")},GM=function(t){return zC(t,"overflowX")},x_=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=WC(t,n);if(s){var i=qC(t,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},QM=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},JM=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},WC=function(t,e){return t==="v"?KM(e):GM(e)},qC=function(t,e){return t==="v"?QM(e):JM(e)},ZM=function(t,e){return t==="h"&&e==="rtl"?-1:1},YM=function(t,e,r,n,s){var i=ZM(t,window.getComputedStyle(e).direction),a=i*n,l=r.target,c=e.contains(l),u=!1,d=a>0,h=0,p=0;do{if(!l)break;var v=qC(t,l),g=v[0],m=v[1],y=v[2],w=m-y-i*g;(g||w)&&WC(t,l)&&(h+=w,p+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},_u=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},w_=function(t){return[t.deltaX,t.deltaY]},__=function(t){return t&&"current"in t?t.current:t},XM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t4=0,Mo=[];function r4(t){var e=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(t4++)[0],i=f.useState(BC)[0],a=f.useRef(t);f.useEffect(function(){a.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Ay([t.lockRef.current],(t.shards||[]).map(__),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=f.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var w=_u(m),x=r.current,_="deltaX"in m?m.deltaX:x[0]-w[0],b="deltaY"in m?m.deltaY:x[1]-w[1],j,E=m.target,S=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in m&&S==="h"&&E.type==="range")return!1;var R=window.getSelection(),D=R&&R.anchorNode,T=D?D===E||D.contains(E):!1;if(T)return!1;var C=x_(S,E);if(!C)return!0;if(C?j=S:(j=S==="v"?"h":"v",C=x_(S,E)),!C)return!1;if(!n.current&&"changedTouches"in m&&(_||b)&&(n.current=j),!j)return!0;var A=n.current||j;return YM(A,y,m,A==="h"?_:b)},[]),c=f.useCallback(function(m){var y=m;if(!(!Mo.length||Mo[Mo.length-1]!==i)){var w="deltaY"in y?w_(y):_u(y),x=e.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&XM(j.delta,w)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var _=(a.current.shards||[]).map(__).filter(Boolean).filter(function(j){return j.contains(y.target)}),b=_.length>0?l(y,_[0]):!a.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),u=f.useCallback(function(m,y,w,x){var _={name:m,delta:y,target:w,should:x,shadowParent:n4(w)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(b){return b!==_})},1)},[]),d=f.useCallback(function(m){r.current=_u(m),n.current=void 0},[]),h=f.useCallback(function(m){u(m.type,w_(m),m.target,l(m,t.lockRef.current))},[]),p=f.useCallback(function(m){u(m.type,_u(m),m.target,l(m,t.lockRef.current))},[]);f.useEffect(function(){return Mo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Fo),document.addEventListener("touchmove",c,Fo),document.addEventListener("touchstart",d,Fo),function(){Mo=Mo.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Fo),document.removeEventListener("touchmove",c,Fo),document.removeEventListener("touchstart",d,Fo)}},[]);var v=t.removeScrollBar,g=t.inert;return f.createElement(f.Fragment,null,g?f.createElement(i,{styles:e4(s)}):null,v?f.createElement(qM,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function n4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const s4=AM(VC,r4);var zy=f.forwardRef(function(t,e){return f.createElement(Fh,ln({},t,{ref:e,sideCar:s4}))});zy.classNames=Fh.classNames;var i4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Uo=new WeakMap,bu=new WeakMap,ju={},ep=0,HC=function(t){return t&&(t.host||HC(t.parentNode))},o4=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=HC(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},a4=function(t,e,r,n){var s=o4(e,Array.isArray(t)?t:[t]);ju[r]||(ju[r]=new WeakMap);var i=ju[r],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var v=p.getAttribute(n),g=v!==null&&v!=="false",m=(Uo.get(p)||0)+1,y=(i.get(p)||0)+1;Uo.set(p,m),i.set(p,y),a.push(p),m===1&&g&&bu.set(p,!0),y===1&&p.setAttribute(r,"true"),g||p.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),l.clear(),ep++,function(){a.forEach(function(h){var p=Uo.get(h)-1,v=i.get(h)-1;Uo.set(h,p),i.set(h,v),p||(bu.has(h)||h.removeAttribute(n),bu.delete(h)),v||h.removeAttribute(r)}),ep--,ep||(Uo=new WeakMap,Uo=new WeakMap,bu=new WeakMap,ju={})}},KC=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=i4(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),a4(n,s,r,"aria-hidden")):function(){return null}},Mh="Dialog",[GC,QC]=XF(Mh),[l4,$n]=GC(Mh),JC=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=f.useRef(null),c=f.useRef(null),[u,d]=cc({prop:n,defaultProp:s??!1,onChange:i,caller:Mh});return o.jsx(l4,{scope:e,triggerRef:l,contentRef:c,contentId:pa(),titleId:pa(),descriptionId:pa(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};JC.displayName=Mh;var ZC="DialogTrigger",YC=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$n(ZC,r),i=ot(e,s.triggerRef);return o.jsx(Mc.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hy(s.open),...n,ref:i,onClick:Ve(t.onClick,s.onOpenToggle)})});YC.displayName=ZC;var Wy="DialogPortal",[c4,XC]=GC(Wy,{forceMount:void 0}),ek=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=$n(Wy,e);return o.jsx(c4,{scope:e,forceMount:r,children:f.Children.map(n,a=>o.jsx(el,{present:r||i.open,children:o.jsx(yh,{asChild:!0,container:s,children:a})}))})};ek.displayName=Wy;var Hd="DialogOverlay",tk=f.forwardRef((t,e)=>{const r=XC(Hd,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=$n(Hd,t.__scopeDialog);return i.modal?o.jsx(el,{present:n||i.open,children:o.jsx(d4,{...s,ref:e})}):null});tk.displayName=Hd;var u4=FC("DialogOverlay.RemoveScroll"),d4=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$n(Hd,r);return o.jsx(zy,{as:u4,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Mc.div,{"data-state":Hy(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),_o="DialogContent",rk=f.forwardRef((t,e)=>{const r=XC(_o,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=$n(_o,t.__scopeDialog);return o.jsx(el,{present:n||i.open,children:i.modal?o.jsx(h4,{...s,ref:e}):o.jsx(f4,{...s,ref:e})})});rk.displayName=_o;var h4=f.forwardRef((t,e)=>{const r=$n(_o,t.__scopeDialog),n=f.useRef(null),s=ot(e,r.contentRef,n);return f.useEffect(()=>{const i=n.current;if(i)return KC(i)},[]),o.jsx(nk,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ve(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:Ve(t.onFocusOutside,i=>i.preventDefault())})}),f4=f.forwardRef((t,e)=>{const r=$n(_o,t.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return o.jsx(nk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nk=f.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=$n(_o,r),c=f.useRef(null),u=ot(e,c);return MC(),o.jsxs(o.Fragment,{children:[o.jsx(By,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(gh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Hy(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(m4,{titleId:l.titleId}),o.jsx(y4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qy="DialogTitle",sk=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$n(qy,r);return o.jsx(Mc.h2,{id:s.titleId,...n,ref:e})});sk.displayName=qy;var ik="DialogDescription",ok=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$n(ik,r);return o.jsx(Mc.p,{id:s.descriptionId,...n,ref:e})});ok.displayName=ik;var ak="DialogClose",lk=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$n(ak,r);return o.jsx(Mc.button,{type:"button",...n,ref:e,onClick:Ve(t.onClick,()=>s.onOpenChange(!1))})});lk.displayName=ak;function Hy(t){return t?"open":"closed"}var ck="DialogTitleWarning",[p4,uk]=YF(ck,{contentName:_o,titleName:qy,docsSlug:"dialog"}),m4=({titleId:t})=>{const e=uk(ck),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},g4="DialogDescriptionWarning",y4=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uk(g4).contentName}}.`;return f.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},dk=JC,hk=YC,fk=ek,Ky=tk,Gy=rk,Qy=sk,Jy=ok,Zy=lk;const Rt=dk,Es=hk,v4=fk,pk=f.forwardRef(({className:t,...e},r)=>o.jsx(Ky,{ref:r,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));pk.displayName=Ky.displayName;const _t=f.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(v4,{children:[o.jsx(pk,{}),o.jsxs(Gy,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,o.jsxs(Zy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ed,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_t.displayName=Gy.displayName;const bt=({className:t,...e})=>o.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});bt.displayName="DialogHeader";const Ht=({className:t,...e})=>o.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ht.displayName="DialogFooter";const jt=f.forwardRef(({className:t,...e},r)=>o.jsx(Qy,{ref:r,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));jt.displayName=Qy.displayName;const Jt=f.forwardRef(({className:t,...e},r)=>o.jsx(Jy,{ref:r,className:we("text-sm text-muted-foreground",t),...e}));Jt.displayName=Jy.displayName;function x4(){const t=ko(),e=No(),{toast:r}=pr(),[n,s]=f.useState(!0),{isConnected:i,notifications:a,unreadCount:l,markAllAsRead:c,clearNotifications:u}=ZF(),[d,h]=f.useState(!1),[p,v]=f.useState(!1),[g,m]=f.useState(!1),[y,w]=f.useState(null),[x,_]=f.useState({name:"",email:""});f.useEffect(()=>{const R=localStorage.getItem("user");if(R)try{const D=JSON.parse(R);w(D),_({name:D.name||"",email:D.email||""})}catch(D){console.error("Failed to parse user from local storage",D)}},[]);const b=async()=>{try{const R={...y,...x};localStorage.setItem("user",JSON.stringify(R)),w(R),m(!1),r({title:"Profile Updated",description:"Your profile has been successfully updated."})}catch{r({variant:"destructive",title:"Update Failed",description:"Failed to update profile."})}},j=async()=>{try{await Re.post("/auth/logout"),await Ha.auth.signOut(),localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login")}catch(R){console.error("Logout failed",R),localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login")}},E=[{href:"/",label:"Dashboard",icon:HP},{href:"/instructors",label:"Instructors",icon:ew},{href:"/rooms",label:"Rooms",icon:WP},{href:"/courses",label:"Courses",icon:Sd},{href:"/schedules",label:"Schedules",icon:zP},{href:"/bookings",label:"Bookings",icon:Nl},{href:"/students",label:"Students",icon:Jx},{href:"/students-fe",label:"Students (FE)",icon:Jx},{href:"/reports",label:"Reports",icon:FP}],S=()=>{const R=E.find(D=>D.href===t.pathname);return R?R.label:"Dashboard"};return o.jsxs("div",{className:"flex h-screen bg-gray-50/50 font-sans",children:[o.jsxs("aside",{className:we("bg-white border-r border-gray-200 shadow-sm flex flex-col transition-all duration-300 ease-in-out z-20",n?"w-64":"w-20"),children:[o.jsx("div",{className:"h-16 flex items-center px-6 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-xl tracking-tight",children:[o.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-white",children:"S"}),n&&o.jsx("span",{className:"transition-opacity duration-300",children:"Shema Music"})]})}),o.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:E.map(R=>{const D=R.icon,T=t.pathname===R.href;return o.jsx(em,{to:R.href,children:o.jsxs(re,{variant:"ghost",className:we("w-full justify-start mb-1 transition-all duration-200",T?"bg-primary/10 text-primary hover:bg-primary/15 hover:text-primary font-medium":"text-gray-500 hover:text-gray-900 hover:bg-gray-100",!n&&"justify-center px-2"),children:[o.jsx(D,{className:we("h-5 w-5",n&&"mr-3",T?"text-primary":"text-gray-400 group-hover:text-gray-600")}),n&&o.jsx("span",{children:R.label})]})},R.href)})}),o.jsx("div",{className:"p-4 border-t border-gray-100",children:o.jsxs(re,{variant:"ghost",className:we("w-full justify-start text-red-500 hover:text-red-600 hover:bg-red-50",!n&&"justify-center px-2"),onClick:j,children:[o.jsx(Yx,{className:we("h-5 w-5",n&&"mr-3")}),n&&"Logout"]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 shadow-sm z-10",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>s(!n),className:"text-gray-500 hover:bg-gray-100",children:o.jsx(GP,{className:"h-5 w-5"})}),o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:S()})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative hidden md:block",children:[o.jsx(JP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary w-64 transition-all"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs(re,{variant:"ghost",size:"icon",className:"relative text-gray-500 hover:bg-gray-100 rounded-full group",onClick:()=>{h(!d),d||c()},children:[o.jsx(MP,{className:"h-5 w-5"}),l>0&&o.jsx("span",{className:"absolute top-1 right-1 h-4 w-4 bg-red-500 rounded-full border-2 border-white text-[10px] text-white flex items-center justify-center",children:l>9?"9+":l}),o.jsx("span",{className:we("absolute -bottom-1 -right-1 h-3 w-3 rounded-full border-2 border-white flex items-center justify-center",i?"bg-green-500":"bg-gray-400"),title:i?"Realtime Connected":"Reconnecting...",children:i?o.jsx(XP,{className:"h-2 w-2 text-white"}):o.jsx(YP,{className:"h-2 w-2 text-white"})})]}),d&&o.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:[o.jsxs("div",{className:"p-3 border-b border-gray-100 flex justify-between items-center",children:[o.jsx("h3",{className:"font-semibold text-sm",children:"Notifications"}),a.length>0&&o.jsx(re,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-gray-500",onClick:u,children:"Clear all"})]}),o.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:a.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No notifications"}):a.map((R,D)=>o.jsxs("div",{className:"p-3 border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("span",{className:we("text-xs font-medium px-2 py-0.5 rounded-full",R.eventType==="booking.created"?"bg-green-100 text-green-700":R.eventType==="booking.cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:R.eventType.split(".")[1]}),o.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(R.timestamp).toLocaleTimeString()})]}),o.jsxs("p",{className:"text-sm text-gray-700",children:["Booking ID: ",R.bookingId.slice(0,8),"..."]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",R.status]})]},D))})]})]}),o.jsx("div",{className:"h-8 w-px bg-gray-200 mx-1"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center gap-3 pl-2 cursor-pointer hover:bg-gray-50 p-1 rounded-lg transition-colors",onClick:()=>v(!p),children:[o.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/10 flex items-center justify-center text-primary font-medium border border-primary/20",children:y!=null&&y.name?y.name.charAt(0).toUpperCase():"A"}),o.jsxs("div",{className:"hidden md:block",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:(y==null?void 0:y.name)||"Admin User"}),o.jsx("p",{className:"text-xs text-gray-500",children:(y==null?void 0:y.role)||"Administrator"})]}),o.jsx(gy,{className:"h-4 w-4 text-gray-400 hidden md:block"})]}),p&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:o.jsxs("div",{className:"p-1",children:[o.jsxs(re,{variant:"ghost",className:"w-full justify-start text-sm font-normal",onClick:()=>{m(!0),v(!1)},children:[o.jsx(ew,{className:"mr-2 h-4 w-4"}),"Edit Profile"]}),o.jsxs(re,{variant:"ghost",className:"w-full justify-start text-sm font-normal text-red-600 hover:text-red-700 hover:bg-red-50",onClick:j,children:[o.jsx(Yx,{className:"mr-2 h-4 w-4"}),"Logout"]})]})})]})]})]}),o.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50/50 p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in duration-500",children:o.jsx(vj,{})})})]}),o.jsx(Rt,{open:g,onOpenChange:m,children:o.jsxs(_t,{className:"sm:max-w-[425px]",children:[o.jsx(bt,{children:o.jsx(jt,{children:"Edit Profile"})}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(qn,{htmlFor:"name",className:"text-right",children:"Name"}),o.jsx(Y,{id:"name",value:x.name,onChange:R=>_({...x,name:R.target.value}),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(qn,{htmlFor:"email",className:"text-right",children:"Email"}),o.jsx(Y,{id:"email",value:x.email,onChange:R=>_({...x,email:R.target.value}),className:"col-span-3"})]})]}),o.jsx(Ht,{children:o.jsx(re,{type:"submit",onClick:b,children:"Save changes"})})]})})]})}function w4(){return localStorage.getItem("token")?o.jsx(vj,{}):o.jsx(yj,{to:"/login",replace:!0})}const Gr=f.forwardRef(({className:t,...e},r)=>o.jsx("div",{className:"relative w-full overflow-auto bg-card text-card-foreground rounded-md",children:o.jsx("table",{ref:r,className:we("w-full caption-bottom text-sm",t),...e})}));Gr.displayName="Table";const Qr=f.forwardRef(({className:t,...e},r)=>o.jsx("thead",{ref:r,className:we("[&_tr]:border-b",t),...e}));Qr.displayName="TableHeader";const Jr=f.forwardRef(({className:t,...e},r)=>o.jsx("tbody",{ref:r,className:we("[&_tr:last-child]:border-0",t),...e}));Jr.displayName="TableBody";const _4=f.forwardRef(({className:t,...e},r)=>o.jsx("tfoot",{ref:r,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));_4.displayName="TableFooter";const Ye=f.forwardRef(({className:t,...e},r)=>o.jsx("tr",{ref:r,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ye.displayName="TableRow";const xe=f.forwardRef(({className:t,...e},r)=>o.jsx("th",{ref:r,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));xe.displayName="TableHead";const pe=f.forwardRef(({className:t,...e},r)=>o.jsx("td",{ref:r,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));pe.displayName="TableCell";const b4=f.forwardRef(({className:t,...e},r)=>o.jsx("caption",{ref:r,className:we("mt-4 text-sm text-muted-foreground",t),...e}));b4.displayName="TableCaption";function j4(t,e=[]){let r=[];function n(i,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var w;const{scope:p,children:v,...g}=h,m=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,y=f.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:v})};u.displayName=i+"Provider";function d(h,p){var m;const v=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=f.useContext(v);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,S4(s,...e)]}function S4(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var E4=Symbol("radix.slottable");function C4(t){const e=({children:r})=>o.jsx(o.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=E4,e}var mk="AlertDialog",[k4]=j4(mk,[QC]),Cs=QC(),gk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Cs(e);return o.jsx(dk,{...n,...r,modal:!0})};gk.displayName=mk;var N4="AlertDialogTrigger",T4=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Cs(r);return o.jsx(hk,{...s,...n,ref:e})});T4.displayName=N4;var R4="AlertDialogPortal",yk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Cs(e);return o.jsx(fk,{...n,...r})};yk.displayName=R4;var O4="AlertDialogOverlay",vk=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Cs(r);return o.jsx(Ky,{...s,...n,ref:e})});vk.displayName=O4;var ga="AlertDialogContent",[A4,P4]=k4(ga),I4=C4("AlertDialogContent"),xk=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=Cs(r),a=f.useRef(null),l=ot(e,a),c=f.useRef(null);return o.jsx(p4,{contentName:ga,titleName:wk,docsSlug:"alert-dialog",children:o.jsx(A4,{scope:r,cancelRef:c,children:o.jsxs(Gy,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:Ve(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(I4,{children:n}),o.jsx($4,{contentRef:a})]})})})});xk.displayName=ga;var wk="AlertDialogTitle",_k=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Cs(r);return o.jsx(Qy,{...s,...n,ref:e})});_k.displayName=wk;var bk="AlertDialogDescription",jk=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Cs(r);return o.jsx(Jy,{...s,...n,ref:e})});jk.displayName=bk;var D4="AlertDialogAction",Sk=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Cs(r);return o.jsx(Zy,{...s,...n,ref:e})});Sk.displayName=D4;var Ek="AlertDialogCancel",Ck=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=P4(Ek,r),i=Cs(r),a=ot(e,s);return o.jsx(Zy,{...i,...n,ref:a})});Ck.displayName=Ek;var $4=({contentRef:t})=>{const e=`\`${ga}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ga}\` by passing a \`${bk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ga}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},L4=gk,F4=yk,kk=vk,Nk=xk,Tk=Sk,Rk=Ck,Ok=_k,Ak=jk;const Ro=L4,M4=F4,Pk=f.forwardRef(({className:t,...e},r)=>o.jsx(kk,{className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Pk.displayName=kk.displayName;const Si=f.forwardRef(({className:t,...e},r)=>o.jsxs(M4,{children:[o.jsx(Pk,{}),o.jsx(Nk,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Si.displayName=Nk.displayName;const Ei=({className:t,...e})=>o.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",t),...e});Ei.displayName="AlertDialogHeader";const Ci=({className:t,...e})=>o.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ci.displayName="AlertDialogFooter";const ki=f.forwardRef(({className:t,...e},r)=>o.jsx(Ok,{ref:r,className:we("text-lg font-semibold",t),...e}));ki.displayName=Ok.displayName;const Ni=f.forwardRef(({className:t,...e},r)=>o.jsx(Ak,{ref:r,className:we("text-sm text-muted-foreground",t),...e}));Ni.displayName=Ak.displayName;const Ti=f.forwardRef(({className:t,...e},r)=>o.jsx(Tk,{ref:r,className:we(Ty(),t),...e}));Ti.displayName=Tk.displayName;const Ri=f.forwardRef(({className:t,...e},r)=>o.jsx(Rk,{ref:r,className:we(Ty({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Ri.displayName=Rk.displayName;function b_(t,[e,r]){return Math.min(r,Math.max(e,t))}function U4(t,e=[]){let r=[];function n(i,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var w;const{scope:p,children:v,...g}=h,m=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,y=f.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:v})};u.displayName=i+"Provider";function d(h,p){var m;const v=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=f.useContext(v);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,V4(s,...e)]}function V4(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var B4=f.createContext(void 0);function z4(t){const e=f.useContext(B4);return t||e||"ltr"}const W4=["top","right","bottom","left"],mi=Math.min,Ur=Math.max,Kd=Math.round,Su=Math.floor,Jn=t=>({x:t,y:t}),q4={left:"right",right:"left",bottom:"top",top:"bottom"},H4={start:"end",end:"start"};function Xm(t,e,r){return Ur(t,mi(e,r))}function ws(t,e){return typeof t=="function"?t(e):t}function _s(t){return t.split("-")[0]}function ll(t){return t.split("-")[1]}function Yy(t){return t==="x"?"y":"x"}function Xy(t){return t==="y"?"height":"width"}const K4=new Set(["top","bottom"]);function Hn(t){return K4.has(_s(t))?"y":"x"}function ev(t){return Yy(Hn(t))}function G4(t,e,r){r===void 0&&(r=!1);const n=ll(t),s=ev(t),i=Xy(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Gd(a)),[a,Gd(a)]}function Q4(t){const e=Gd(t);return[eg(t),e,eg(e)]}function eg(t){return t.replace(/start|end/g,e=>H4[e])}const j_=["left","right"],S_=["right","left"],J4=["top","bottom"],Z4=["bottom","top"];function Y4(t,e,r){switch(t){case"top":case"bottom":return r?e?S_:j_:e?j_:S_;case"left":case"right":return e?J4:Z4;default:return[]}}function X4(t,e,r,n){const s=ll(t);let i=Y4(_s(t),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(eg)))),i}function Gd(t){return t.replace(/left|right|bottom|top/g,e=>q4[e])}function eU(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ik(t){return typeof t!="number"?eU(t):{top:t,right:t,bottom:t,left:t}}function Qd(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function E_(t,e,r){let{reference:n,floating:s}=t;const i=Hn(e),a=ev(e),l=Xy(a),c=_s(e),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let v;switch(c){case"top":v={x:d,y:n.y-s.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:h};break;case"left":v={x:n.x-s.width,y:h};break;default:v={x:n.x,y:n.y}}switch(ll(e)){case"start":v[a]-=p*(r&&u?-1:1);break;case"end":v[a]+=p*(r&&u?-1:1);break}return v}const tU=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=E_(u,n,c),p=n,v={},g=0;for(let m=0;m<l.length;m++){const{name:y,fn:w}=l[m],{x,y:_,data:b,reset:j}=await w({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:v,rects:u,platform:a,elements:{reference:t,floating:e}});d=x??d,h=_??h,v={...v,[y]:{...v[y],...b}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:d,y:h}=E_(u,p,c)),m=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:v}};async function pc(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=ws(e,t),g=Ik(v),y=l[p?h==="floating"?"reference":"floating":h],w=Qd(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},j=Qd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:_,strategy:c}):x);return{top:(w.top-j.top+g.top)/b.y,bottom:(j.bottom-w.bottom+g.bottom)/b.y,left:(w.left-j.left+g.left)/b.x,right:(j.right-w.right+g.right)/b.x}}const rU=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ws(t,e)||{};if(u==null)return{};const h=Ik(d),p={x:r,y:n},v=ev(s),g=Xy(v),m=await a.getDimensions(u),y=v==="y",w=y?"top":"left",x=y?"bottom":"right",_=y?"clientHeight":"clientWidth",b=i.reference[g]+i.reference[v]-p[v]-i.floating[g],j=p[v]-i.reference[v],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=E?E[_]:0;(!S||!await(a.isElement==null?void 0:a.isElement(E)))&&(S=l.floating[_]||i.floating[g]);const R=b/2-j/2,D=S/2-m[g]/2-1,T=mi(h[w],D),C=mi(h[x],D),A=T,F=S-m[g]-C,z=S/2-m[g]/2+R,H=Xm(A,z,F),J=!c.arrow&&ll(s)!=null&&z!==H&&i.reference[g]/2-(z<A?T:C)-m[g]/2<0,ce=J?z<A?z-A:z-F:0;return{[v]:p[v]+ce,data:{[v]:H,centerOffset:z-H-ce,...J&&{alignmentOffset:ce}},reset:J}}}),nU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=ws(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=_s(s),x=Hn(l),_=_s(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=p||(_||!m?[Gd(l)]:Q4(l)),E=g!=="none";!p&&E&&j.push(...X4(l,m,g,b));const S=[l,...j],R=await pc(e,y),D=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&D.push(R[w]),h){const z=G4(s,a,b);D.push(R[z[0]],R[z[1]])}if(T=[...T,{placement:s,overflows:D}],!D.every(z=>z<=0)){var C,A;const z=(((C=i.flip)==null?void 0:C.index)||0)+1,H=S[z];if(H&&(!(h==="alignment"?x!==Hn(H):!1)||T.every(P=>Hn(P.placement)===x?P.overflows[0]>0:!0)))return{data:{index:z,overflows:T},reset:{placement:H}};let J=(A=T.filter(ce=>ce.overflows[0]<=0).sort((ce,P)=>ce.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!J)switch(v){case"bestFit":{var F;const ce=(F=T.filter(P=>{if(E){const Q=Hn(P.placement);return Q===x||Q==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(Q=>Q>0).reduce((Q,ie)=>Q+ie,0)]).sort((P,Q)=>P[1]-Q[1])[0])==null?void 0:F[0];ce&&(J=ce);break}case"initialPlacement":J=l;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function C_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function k_(t){return W4.some(e=>t[e]>=0)}const sU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=ws(t,e);switch(n){case"referenceHidden":{const i=await pc(e,{...s,elementContext:"reference"}),a=C_(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:k_(a)}}}case"escaped":{const i=await pc(e,{...s,altBoundary:!0}),a=C_(i,r.floating);return{data:{escapedOffsets:a,escaped:k_(a)}}}default:return{}}}}},Dk=new Set(["left","top"]);async function iU(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=_s(r),l=ll(r),c=Hn(r)==="y",u=Dk.has(a)?-1:1,d=i&&c?-1:1,h=ws(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(v=l==="end"?g*-1:g),c?{x:v*d,y:p*u}:{x:p*u,y:v*d}}const oU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await iU(e,t);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},aU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:w,y:x}=y;return{x:w,y:x}}},...c}=ws(t,e),u={x:r,y:n},d=await pc(e,c),h=Hn(_s(s)),p=Yy(h);let v=u[p],g=u[h];if(i){const y=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=v+d[y],_=v-d[w];v=Xm(x,v,_)}if(a){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",x=g+d[y],_=g-d[w];g=Xm(x,g,_)}const m=l.fn({...e,[p]:v,[h]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[h]:a}}}}}},lU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ws(t,e),d={x:r,y:n},h=Hn(s),p=Yy(h);let v=d[p],g=d[h];const m=ws(l,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const _=p==="y"?"height":"width",b=i.reference[p]-i.floating[_]+y.mainAxis,j=i.reference[p]+i.reference[_]-y.mainAxis;v<b?v=b:v>j&&(v=j)}if(u){var w,x;const _=p==="y"?"width":"height",b=Dk.has(_s(s)),j=i.reference[h]-i.floating[_]+(b&&((w=a.offset)==null?void 0:w[h])||0)+(b?0:y.crossAxis),E=i.reference[h]+i.reference[_]+(b?0:((x=a.offset)==null?void 0:x[h])||0)-(b?y.crossAxis:0);g<j?g=j:g>E&&(g=E)}return{[p]:v,[h]:g}}}},cU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=ws(t,e),d=await pc(e,u),h=_s(s),p=ll(s),v=Hn(s)==="y",{width:g,height:m}=i.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,y=p==="end"?"top":"bottom");const x=m-d.top-d.bottom,_=g-d.left-d.right,b=mi(m-d[y],x),j=mi(g-d[w],_),E=!e.middlewareData.shift;let S=b,R=j;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(S=x),E&&!p){const T=Ur(d.left,0),C=Ur(d.right,0),A=Ur(d.top,0),F=Ur(d.bottom,0);v?R=g-2*(T!==0||C!==0?T+C:Ur(d.left,d.right)):S=m-2*(A!==0||F!==0?A+F:Ur(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:S});const D=await a.getDimensions(l.floating);return g!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function Uh(){return typeof window<"u"}function cl(t){return $k(t)?(t.nodeName||"").toLowerCase():"#document"}function qr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function es(t){var e;return(e=($k(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $k(t){return Uh()?t instanceof Node||t instanceof qr(t).Node:!1}function An(t){return Uh()?t instanceof Element||t instanceof qr(t).Element:!1}function Yn(t){return Uh()?t instanceof HTMLElement||t instanceof qr(t).HTMLElement:!1}function N_(t){return!Uh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qr(t).ShadowRoot}const uU=new Set(["inline","contents"]);function Uc(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Pn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!uU.has(s)}const dU=new Set(["table","td","th"]);function hU(t){return dU.has(cl(t))}const fU=[":popover-open",":modal"];function Vh(t){return fU.some(e=>{try{return t.matches(e)}catch{return!1}})}const pU=["transform","translate","scale","rotate","perspective"],mU=["transform","translate","scale","rotate","perspective","filter"],gU=["paint","layout","strict","content"];function tv(t){const e=rv(),r=An(t)?Pn(t):t;return pU.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||mU.some(n=>(r.willChange||"").includes(n))||gU.some(n=>(r.contain||"").includes(n))}function yU(t){let e=gi(t);for(;Yn(e)&&!Ka(e);){if(tv(e))return e;if(Vh(e))return null;e=gi(e)}return null}function rv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vU=new Set(["html","body","#document"]);function Ka(t){return vU.has(cl(t))}function Pn(t){return qr(t).getComputedStyle(t)}function Bh(t){return An(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gi(t){if(cl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N_(t)&&t.host||es(t);return N_(e)?e.host:e}function Lk(t){const e=gi(t);return Ka(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yn(e)&&Uc(e)?e:Lk(e)}function mc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Lk(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),a=qr(s);if(i){const l=tg(a);return e.concat(a,a.visualViewport||[],Uc(s)?s:[],l&&r?mc(l):[])}return e.concat(s,mc(s,[],r))}function tg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Fk(t){const e=Pn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Yn(t),i=s?t.offsetWidth:r,a=s?t.offsetHeight:n,l=Kd(r)!==i||Kd(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function nv(t){return An(t)?t:t.contextElement}function ya(t){const e=nv(t);if(!Yn(e))return Jn(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=Fk(e);let a=(i?Kd(r.width):r.width)/n,l=(i?Kd(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const xU=Jn(0);function Mk(t){const e=qr(t);return!rv()||!e.visualViewport?xU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wU(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==qr(t)?!1:e}function bo(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=nv(t);let a=Jn(1);e&&(n?An(n)&&(a=ya(n)):a=ya(t));const l=wU(i,r,n)?Mk(i):Jn(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const p=qr(i),v=n&&An(n)?qr(n):n;let g=p,m=tg(g);for(;m&&n&&v!==g;){const y=ya(m),w=m.getBoundingClientRect(),x=Pn(m),_=w.left+(m.clientLeft+parseFloat(x.paddingLeft))*y.x,b=w.top+(m.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=_,u+=b,g=qr(m),m=tg(g)}}return Qd({width:d,height:h,x:c,y:u})}function zh(t,e){const r=Bh(t).scrollLeft;return e?e.left+r:bo(es(t)).left+r}function Uk(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-zh(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function _U(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",a=es(n),l=e?Vh(e.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Jn(1);const d=Jn(0),h=Yn(n);if((h||!h&&!i)&&((cl(n)!=="body"||Uc(a))&&(c=Bh(n)),Yn(n))){const v=bo(n);u=ya(n),d.x=v.x+n.clientLeft,d.y=v.y+n.clientTop}const p=a&&!h&&!i?Uk(a,c):Jn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function bU(t){return Array.from(t.getClientRects())}function jU(t){const e=es(t),r=Bh(t),n=t.ownerDocument.body,s=Ur(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Ur(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+zh(t);const l=-r.scrollTop;return Pn(n).direction==="rtl"&&(a+=Ur(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}const T_=25;function SU(t,e){const r=qr(t),n=es(t),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const d=rv();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=zh(n);if(u<=0){const d=n.ownerDocument,h=d.body,p=getComputedStyle(h),v=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-v);g<=T_&&(i-=g)}else u<=T_&&(i+=u);return{width:i,height:a,x:l,y:c}}const EU=new Set(["absolute","fixed"]);function CU(t,e){const r=bo(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=Yn(t)?ya(t):Jn(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function R_(t,e,r){let n;if(e==="viewport")n=SU(t,r);else if(e==="document")n=jU(es(t));else if(An(e))n=CU(e,r);else{const s=Mk(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Qd(n)}function Vk(t,e){const r=gi(t);return r===e||!An(r)||Ka(r)?!1:Pn(r).position==="fixed"||Vk(r,e)}function kU(t,e){const r=e.get(t);if(r)return r;let n=mc(t,[],!1).filter(l=>An(l)&&cl(l)!=="body"),s=null;const i=Pn(t).position==="fixed";let a=i?gi(t):t;for(;An(a)&&!Ka(a);){const l=Pn(a),c=tv(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&EU.has(s.position)||Uc(a)&&!c&&Vk(t,a))?n=n.filter(d=>d!==a):s=l,a=gi(a)}return e.set(t,n),n}function NU(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const a=[...r==="clippingAncestors"?Vh(e)?[]:kU(e,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const h=R_(e,d,s);return u.top=Ur(h.top,u.top),u.right=mi(h.right,u.right),u.bottom=mi(h.bottom,u.bottom),u.left=Ur(h.left,u.left),u},R_(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TU(t){const{width:e,height:r}=Fk(t);return{width:e,height:r}}function RU(t,e,r){const n=Yn(e),s=es(e),i=r==="fixed",a=bo(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Jn(0);function u(){c.x=zh(s)}if(n||!n&&!i)if((cl(e)!=="body"||Uc(s))&&(l=Bh(e)),n){const v=bo(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?Uk(s,l):Jn(0),h=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:a.width,height:a.height}}function tp(t){return Pn(t).position==="static"}function O_(t,e){if(!Yn(t)||Pn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return es(t)===r&&(r=r.ownerDocument.body),r}function Bk(t,e){const r=qr(t);if(Vh(t))return r;if(!Yn(t)){let s=gi(t);for(;s&&!Ka(s);){if(An(s)&&!tp(s))return s;s=gi(s)}return r}let n=O_(t,e);for(;n&&hU(n)&&tp(n);)n=O_(n,e);return n&&Ka(n)&&tp(n)&&!tv(n)?r:n||yU(t)||r}const OU=async function(t){const e=this.getOffsetParent||Bk,r=this.getDimensions,n=await r(t.floating);return{reference:RU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function AU(t){return Pn(t).direction==="rtl"}const PU={convertOffsetParentRelativeRectToViewportRelativeRect:_U,getDocumentElement:es,getClippingRect:NU,getOffsetParent:Bk,getElementRects:OU,getClientRects:bU,getDimensions:TU,getScale:ya,isElement:An,isRTL:AU};function zk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function IU(t,e){let r=null,n;const s=es(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:v}=u;if(l||e(),!p||!v)return;const g=Su(h),m=Su(s.clientWidth-(d+p)),y=Su(s.clientHeight-(h+v)),w=Su(d),_={rootMargin:-g+"px "+-m+"px "+-y+"px "+-w+"px",threshold:Ur(0,mi(1,c))||1};let b=!0;function j(E){const S=E[0].intersectionRatio;if(S!==c){if(!b)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!zk(u,t.getBoundingClientRect())&&a(),b=!1}try{r=new IntersectionObserver(j,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,_)}r.observe(t)}return a(!0),i}function DU(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=nv(t),d=s||i?[...u?mc(u):[],...mc(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const h=u&&l?IU(u,r):null;let p=-1,v=null;a&&(v=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=v)==null||_.observe(e)})),r()}),u&&!c&&v.observe(u),v.observe(e));let g,m=c?bo(t):null;c&&y();function y(){const w=bo(t);m&&!zk(m,w)&&r(),m=w,g=requestAnimationFrame(y)}return r(),()=>{var w;d.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),h==null||h(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(g)}}const $U=oU,LU=aU,FU=nU,MU=cU,UU=sU,A_=rU,VU=lU,BU=(t,e,r)=>{const n=new Map,s={platform:PU,...r},i={...s.platform,_c:n};return tU(t,e,{...s,platform:i})};var zU=typeof document<"u",WU=function(){},Ju=zU?f.useLayoutEffect:WU;function Jd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Jd(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Jd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Wk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P_(t,e){const r=Wk(t);return Math.round(e*r)/r}function rp(t){const e=f.useRef(t);return Ju(()=>{e.current=t}),e}function qU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=f.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=f.useState(n);Jd(p,n)||v(n);const[g,m]=f.useState(null),[y,w]=f.useState(null),x=f.useCallback(P=>{P!==E.current&&(E.current=P,m(P))},[]),_=f.useCallback(P=>{P!==S.current&&(S.current=P,w(P))},[]),b=i||g,j=a||y,E=f.useRef(null),S=f.useRef(null),R=f.useRef(d),D=c!=null,T=rp(c),C=rp(s),A=rp(u),F=f.useCallback(()=>{if(!E.current||!S.current)return;const P={placement:e,strategy:r,middleware:p};C.current&&(P.platform=C.current),BU(E.current,S.current,P).then(Q=>{const ie={...Q,isPositioned:A.current!==!1};z.current&&!Jd(R.current,ie)&&(R.current=ie,wi.flushSync(()=>{h(ie)}))})},[p,e,r,C,A]);Ju(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[u]);const z=f.useRef(!1);Ju(()=>(z.current=!0,()=>{z.current=!1}),[]),Ju(()=>{if(b&&(E.current=b),j&&(S.current=j),b&&j){if(T.current)return T.current(b,j,F);F()}},[b,j,F,T,D]);const H=f.useMemo(()=>({reference:E,floating:S,setReference:x,setFloating:_}),[x,_]),J=f.useMemo(()=>({reference:b,floating:j}),[b,j]),ce=f.useMemo(()=>{const P={position:r,left:0,top:0};if(!J.floating)return P;const Q=P_(J.floating,d.x),ie=P_(J.floating,d.y);return l?{...P,transform:"translate("+Q+"px, "+ie+"px)",...Wk(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:ie}},[r,l,J.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:F,refs:H,elements:J,floatingStyles:ce}),[d,F,H,J,ce])}const HU=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?A_({element:n.current,padding:s}).fn(r):{}:n?A_({element:n,padding:s}).fn(r):{}}}},KU=(t,e)=>({...$U(t),options:[t,e]}),GU=(t,e)=>({...LU(t),options:[t,e]}),QU=(t,e)=>({...VU(t),options:[t,e]}),JU=(t,e)=>({...FU(t),options:[t,e]}),ZU=(t,e)=>({...MU(t),options:[t,e]}),YU=(t,e)=>({...UU(t),options:[t,e]}),XU=(t,e)=>({...HU(t),options:[t,e]});function eV(t){const e=tV(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(nV);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function tV(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=iV(s),l=sV(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rV=Symbol("radix.slottable");function nV(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rV}function sV(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function iV(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var oV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aV=oV.reduce((t,e)=>{const r=eV(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),lV="Arrow",qk=f.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return o.jsx(aV.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});qk.displayName=lV;var cV=qk;function uV(t,e=[]){let r=[];function n(i,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var w;const{scope:p,children:v,...g}=h,m=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,y=f.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:v})};u.displayName=i+"Provider";function d(h,p){var m;const v=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=f.useContext(v);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,dV(s,...e)]}function dV(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function hV(t){const e=fV(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(mV);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function fV(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=yV(s),l=gV(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pV=Symbol("radix.slottable");function mV(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pV}function gV(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function yV(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var vV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hk=vV.reduce((t,e)=>{const r=hV(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Kk(t){const[e,r]=f.useState(void 0);return rr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;r({width:a,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var sv="Popper",[Gk,Qk]=uV(sv),[xV,Jk]=Gk(sv),Zk=t=>{const{__scopePopper:e,children:r}=t,[n,s]=f.useState(null);return o.jsx(xV,{scope:e,anchor:n,onAnchorChange:s,children:r})};Zk.displayName=sv;var Yk="PopperAnchor",Xk=f.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=Jk(Yk,r),a=f.useRef(null),l=ot(e,a),c=f.useRef(null);return f.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||a.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(Hk.div,{...s,ref:l})});Xk.displayName=Yk;var iv="PopperContent",[wV,_V]=Gk(iv),eN=f.forwardRef((t,e)=>{var ne,Ae,Et,He,Ke,O;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:g,...m}=t,y=Jk(iv,r),[w,x]=f.useState(null),_=ot(e,Z=>x(Z)),[b,j]=f.useState(null),E=Kk(b),S=(E==null?void 0:E.width)??0,R=(E==null?void 0:E.height)??0,D=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],A=C.length>0,F={padding:T,boundary:C.filter(jV),altBoundary:A},{refs:z,floatingStyles:H,placement:J,isPositioned:ce,middlewareData:P}=qU({strategy:"fixed",placement:D,whileElementsMounted:(...Z)=>DU(...Z,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[KU({mainAxis:s+R,alignmentAxis:a}),c&&GU({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?QU():void 0,...F}),c&&JU({...F}),ZU({...F,apply:({elements:Z,rects:Ce,availableWidth:Pe,availableHeight:Ie})=>{const{width:$e,height:at}=Ce.reference,ke=Z.floating.style;ke.setProperty("--radix-popper-available-width",`${Pe}px`),ke.setProperty("--radix-popper-available-height",`${Ie}px`),ke.setProperty("--radix-popper-anchor-width",`${$e}px`),ke.setProperty("--radix-popper-anchor-height",`${at}px`)}}),b&&XU({element:b,padding:l}),SV({arrowWidth:S,arrowHeight:R}),p&&YU({strategy:"referenceHidden",...F})]}),[Q,ie]=nN(J),$=On(g);rr(()=>{ce&&($==null||$())},[ce,$]);const K=(ne=P.arrow)==null?void 0:ne.x,he=(Ae=P.arrow)==null?void 0:Ae.y,Oe=((Et=P.arrow)==null?void 0:Et.centerOffset)!==0,[q,X]=f.useState();return rr(()=>{w&&X(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:ce?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(He=P.transformOrigin)==null?void 0:He.x,(Ke=P.transformOrigin)==null?void 0:Ke.y].join(" "),...((O=P.hide)==null?void 0:O.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(wV,{scope:r,placedSide:Q,onArrowChange:j,arrowX:K,arrowY:he,shouldHideArrow:Oe,children:o.jsx(Hk.div,{"data-side":Q,"data-align":ie,...m,ref:_,style:{...m.style,animation:ce?void 0:"none"}})})})});eN.displayName=iv;var tN="PopperArrow",bV={top:"bottom",right:"left",bottom:"top",left:"right"},rN=f.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=_V(tN,n),a=bV[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(cV,{...s,ref:r,style:{...s.style,display:"block"}})})});rN.displayName=tN;function jV(t){return t!==null}var SV=t=>({name:"transformOrigin",options:t,fn(e){var y,w,x;const{placement:r,rects:n,middlewareData:s}=e,a=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=nN(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,v=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=a?h:`${p}px`,m=`${-c}px`):u==="top"?(g=a?h:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=a?h:`${v}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=a?h:`${v}px`),{data:{x:g,y:m}}}});function nN(t){const[e,r="center"]=t.split("-");return[e,r]}var EV=Zk,CV=Xk,kV=eN,NV=rN;function sN(t){const e=TV(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(OV);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function TV(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=PV(s),l=AV(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RV=Symbol("radix.slottable");function OV(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RV}function AV(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function PV(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var IV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],en=IV.reduce((t,e)=>{const r=sN(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function iN(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var DV=[" ","Enter","ArrowUp","ArrowDown"],$V=[" ","Enter"],jo="Select",[Wh,qh,LV]=Oj(jo),[ul]=U4(jo,[LV,Qk]),Hh=Qk(),[FV,Oi]=ul(jo),[MV,UV]=ul(jo),oN=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:v,form:g}=t,m=Hh(e),[y,w]=f.useState(null),[x,_]=f.useState(null),[b,j]=f.useState(!1),E=z4(u),[S,R]=cc({prop:n,defaultProp:s??!1,onChange:i,caller:jo}),[D,T]=cc({prop:a,defaultProp:l,onChange:c,caller:jo}),C=f.useRef(null),A=y?g||!!y.closest("form"):!0,[F,z]=f.useState(new Set),H=Array.from(F).map(J=>J.props.value).join(";");return o.jsx(EV,{...m,children:o.jsxs(FV,{required:v,scope:e,trigger:y,onTriggerChange:w,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:j,contentId:pa(),value:D,onValueChange:T,open:S,onOpenChange:R,dir:E,triggerPointerDownPosRef:C,disabled:p,children:[o.jsx(Wh.Provider,{scope:e,children:o.jsx(MV,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(J=>{z(ce=>new Set(ce).add(J))},[]),onNativeOptionRemove:f.useCallback(J=>{z(ce=>{const P=new Set(ce);return P.delete(J),P})},[]),children:r})}),A?o.jsxs(RN,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:h,value:D,onChange:J=>T(J.target.value),disabled:p,form:g,children:[D===void 0?o.jsx("option",{value:""}):null,Array.from(F)]},H):null]})})};oN.displayName=jo;var aN="SelectTrigger",lN=f.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Hh(r),a=Oi(aN,r),l=a.disabled||n,c=ot(e,a.onTriggerChange),u=qh(r),d=f.useRef("touch"),[h,p,v]=AN(m=>{const y=u().filter(_=>!_.disabled),w=y.find(_=>_.value===a.value),x=PN(y,m,w);x!==void 0&&a.onValueChange(x.value)}),g=m=>{l||(a.onOpenChange(!0),v()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(CV,{asChild:!0,...i,children:o.jsx(en.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ON(a.value)?"":void 0,...s,ref:c,onClick:Ve(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:Ve(s.onPointerDown,m=>{d.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Ve(s.onKeyDown,m=>{const y=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(y&&m.key===" ")&&DV.includes(m.key)&&(g(),m.preventDefault())})})})});lN.displayName=aN;var cN="SelectValue",uN=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=t,c=Oi(cN,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=ot(e,c.onValueNodeChange);return rr(()=>{u(d)},[u,d]),o.jsx(en.span,{...l,ref:h,style:{pointerEvents:"none"},children:ON(c.value)?o.jsx(o.Fragment,{children:a}):i})});uN.displayName=cN;var VV="SelectIcon",dN=f.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return o.jsx(en.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});dN.displayName=VV;var BV="SelectPortal",hN=t=>o.jsx(yh,{asChild:!0,...t});hN.displayName=BV;var So="SelectContent",fN=f.forwardRef((t,e)=>{const r=Oi(So,t.__scopeSelect),[n,s]=f.useState();if(rr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?wi.createPortal(o.jsx(pN,{scope:t.__scopeSelect,children:o.jsx(Wh.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(mN,{...t,ref:e})});fN.displayName=So;var yn=10,[pN,Ai]=ul(So),zV="SelectContentImpl",WV=sN("SelectContent.RemoveScroll"),mN=f.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:g,hideWhenDetached:m,avoidCollisions:y,...w}=t,x=Oi(So,r),[_,b]=f.useState(null),[j,E]=f.useState(null),S=ot(e,ne=>b(ne)),[R,D]=f.useState(null),[T,C]=f.useState(null),A=qh(r),[F,z]=f.useState(!1),H=f.useRef(!1);f.useEffect(()=>{if(_)return KC(_)},[_]),MC();const J=f.useCallback(ne=>{const[Ae,...Et]=A().map(O=>O.ref.current),[He]=Et.slice(-1),Ke=document.activeElement;for(const O of ne)if(O===Ke||(O==null||O.scrollIntoView({block:"nearest"}),O===Ae&&j&&(j.scrollTop=0),O===He&&j&&(j.scrollTop=j.scrollHeight),O==null||O.focus(),document.activeElement!==Ke))return},[A,j]),ce=f.useCallback(()=>J([R,_]),[J,R,_]);f.useEffect(()=>{F&&ce()},[F,ce]);const{onOpenChange:P,triggerPointerDownPosRef:Q}=x;f.useEffect(()=>{if(_){let ne={x:0,y:0};const Ae=He=>{var Ke,O;ne={x:Math.abs(Math.round(He.pageX)-(((Ke=Q.current)==null?void 0:Ke.x)??0)),y:Math.abs(Math.round(He.pageY)-(((O=Q.current)==null?void 0:O.y)??0))}},Et=He=>{ne.x<=10&&ne.y<=10?He.preventDefault():_.contains(He.target)||P(!1),document.removeEventListener("pointermove",Ae),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",Et,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",Et,{capture:!0})}}},[_,P,Q]),f.useEffect(()=>{const ne=()=>P(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[P]);const[ie,$]=AN(ne=>{const Ae=A().filter(Ke=>!Ke.disabled),Et=Ae.find(Ke=>Ke.ref.current===document.activeElement),He=PN(Ae,ne,Et);He&&setTimeout(()=>He.ref.current.focus())}),K=f.useCallback((ne,Ae,Et)=>{const He=!H.current&&!Et;(x.value!==void 0&&x.value===Ae||He)&&(D(ne),He&&(H.current=!0))},[x.value]),he=f.useCallback(()=>_==null?void 0:_.focus(),[_]),Oe=f.useCallback((ne,Ae,Et)=>{const He=!H.current&&!Et;(x.value!==void 0&&x.value===Ae||He)&&C(ne)},[x.value]),q=n==="popper"?rg:gN,X=q===rg?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:g,hideWhenDetached:m,avoidCollisions:y}:{};return o.jsx(pN,{scope:r,content:_,viewport:j,onViewportChange:E,itemRefCallback:K,selectedItem:R,onItemLeave:he,itemTextRefCallback:Oe,focusSelectedItem:ce,selectedItemText:T,position:n,isPositioned:F,searchRef:ie,children:o.jsx(zy,{as:WV,allowPinchZoom:!0,children:o.jsx(By,{asChild:!0,trapped:x.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ve(s,ne=>{var Ae;(Ae=x.trigger)==null||Ae.focus({preventScroll:!0}),ne.preventDefault()}),children:o.jsx(gh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(q,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ne=>ne.preventDefault(),...w,...X,onPlaced:()=>z(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Ve(w.onKeyDown,ne=>{const Ae=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!Ae&&ne.key.length===1&&$(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let He=A().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Ke=ne.target,O=He.indexOf(Ke);He=He.slice(O+1)}setTimeout(()=>J(He)),ne.preventDefault()}})})})})})})});mN.displayName=zV;var qV="SelectItemAlignedPosition",gN=f.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=Oi(So,r),a=Ai(So,r),[l,c]=f.useState(null),[u,d]=f.useState(null),h=ot(e,S=>d(S)),p=qh(r),v=f.useRef(!1),g=f.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:w,focusSelectedItem:x}=a,_=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&y&&w){const S=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(i.dir!=="rtl"){const Ke=T.left-R.left,O=D.left-Ke,Z=S.left-O,Ce=S.width+Z,Pe=Math.max(Ce,R.width),Ie=window.innerWidth-yn,$e=b_(O,[yn,Math.max(yn,Ie-Pe)]);l.style.minWidth=Ce+"px",l.style.left=$e+"px"}else{const Ke=R.right-T.right,O=window.innerWidth-D.right-Ke,Z=window.innerWidth-S.right-O,Ce=S.width+Z,Pe=Math.max(Ce,R.width),Ie=window.innerWidth-yn,$e=b_(O,[yn,Math.max(yn,Ie-Pe)]);l.style.minWidth=Ce+"px",l.style.right=$e+"px"}const C=p(),A=window.innerHeight-yn*2,F=m.scrollHeight,z=window.getComputedStyle(u),H=parseInt(z.borderTopWidth,10),J=parseInt(z.paddingTop,10),ce=parseInt(z.borderBottomWidth,10),P=parseInt(z.paddingBottom,10),Q=H+J+F+P+ce,ie=Math.min(y.offsetHeight*5,Q),$=window.getComputedStyle(m),K=parseInt($.paddingTop,10),he=parseInt($.paddingBottom,10),Oe=S.top+S.height/2-yn,q=A-Oe,X=y.offsetHeight/2,ne=y.offsetTop+X,Ae=H+J+ne,Et=Q-Ae;if(Ae<=Oe){const Ke=C.length>0&&y===C[C.length-1].ref.current;l.style.bottom="0px";const O=u.clientHeight-m.offsetTop-m.offsetHeight,Z=Math.max(q,X+(Ke?he:0)+O+ce),Ce=Ae+Z;l.style.height=Ce+"px"}else{const Ke=C.length>0&&y===C[0].ref.current;l.style.top="0px";const Z=Math.max(Oe,H+m.offsetTop+(Ke?K:0)+X)+Et;l.style.height=Z+"px",m.scrollTop=Ae-Oe+m.offsetTop}l.style.margin=`${yn}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,l,u,m,y,w,i.dir,n]);rr(()=>_(),[_]);const[b,j]=f.useState();rr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const E=f.useCallback(S=>{S&&g.current===!0&&(_(),x==null||x(),g.current=!1)},[_,x]);return o.jsx(KV,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:E,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:o.jsx(en.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gN.displayName=qV;var HV="SelectPopperPosition",rg=f.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=yn,...i}=t,a=Hh(r);return o.jsx(kV,{...a,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rg.displayName=HV;var[KV,ov]=ul(So,{}),ng="SelectViewport",yN=f.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Ai(ng,r),a=ov(ng,r),l=ot(e,i.onViewportChange),c=f.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Wh.Slot,{scope:r,children:o.jsx(en.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ve(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&h){const v=Math.abs(c.current-d.scrollTop);if(v>0){const g=window.innerHeight-yn*2,m=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),w=Math.max(m,y);if(w<g){const x=w+v,_=Math.min(g,x),b=x-_;h.style.height=_+"px",h.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});yN.displayName=ng;var vN="SelectGroup",[GV,QV]=ul(vN),JV=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=pa();return o.jsx(GV,{scope:r,id:s,children:o.jsx(en.div,{role:"group","aria-labelledby":s,...n,ref:e})})});JV.displayName=vN;var xN="SelectLabel",wN=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=QV(xN,r);return o.jsx(en.div,{id:s.id,...n,ref:e})});wN.displayName=xN;var Zd="SelectItem",[ZV,_N]=ul(Zd),bN=f.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=t,l=Oi(Zd,r),c=Ai(Zd,r),u=l.value===n,[d,h]=f.useState(i??""),[p,v]=f.useState(!1),g=ot(e,x=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,x,n,s)}),m=pa(),y=f.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(ZV,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:f.useCallback(x=>{h(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(Wh.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(en.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:g,onFocus:Ve(a.onFocus,()=>v(!0)),onBlur:Ve(a.onBlur,()=>v(!1)),onClick:Ve(a.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Ve(a.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Ve(a.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:Ve(a.onPointerMove,x=>{var _;y.current=x.pointerType,s?(_=c.onItemLeave)==null||_.call(c):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(a.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Ve(a.onKeyDown,x=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&x.key===" "||($V.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});bN.displayName=Zd;var Al="SelectItemText",jN=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,a=Oi(Al,r),l=Ai(Al,r),c=_N(Al,r),u=UV(Al,r),[d,h]=f.useState(null),p=ot(e,w=>h(w),c.onItemTextChange,w=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,w,c.value,c.disabled)}),v=d==null?void 0:d.textContent,g=f.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=u;return rr(()=>(m(g),()=>y(g)),[m,y,g]),o.jsxs(o.Fragment,{children:[o.jsx(en.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?wi.createPortal(i.children,a.valueNode):null]})});jN.displayName=Al;var SN="SelectItemIndicator",EN=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return _N(SN,r).isSelected?o.jsx(en.span,{"aria-hidden":!0,...n,ref:e}):null});EN.displayName=SN;var sg="SelectScrollUpButton",CN=f.forwardRef((t,e)=>{const r=Ai(sg,t.__scopeSelect),n=ov(sg,t.__scopeSelect),[s,i]=f.useState(!1),a=ot(e,n.onScrollButtonChange);return rr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(NN,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});CN.displayName=sg;var ig="SelectScrollDownButton",kN=f.forwardRef((t,e)=>{const r=Ai(ig,t.__scopeSelect),n=ov(ig,t.__scopeSelect),[s,i]=f.useState(!1),a=ot(e,n.onScrollButtonChange);return rr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(NN,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});kN.displayName=ig;var NN=f.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Ai("SelectScrollButton",r),a=f.useRef(null),l=qh(r),c=f.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),rr(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(en.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ve(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Ve(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Ve(s.onPointerLeave,()=>{c()})})}),YV="SelectSeparator",TN=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(en.div,{"aria-hidden":!0,...n,ref:e})});TN.displayName=YV;var og="SelectArrow",XV=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Hh(r),i=Oi(og,r),a=Ai(og,r);return i.open&&a.position==="popper"?o.jsx(NV,{...s,...n,ref:e}):null});XV.displayName=og;var eB="SelectBubbleInput",RN=f.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=f.useRef(null),i=ot(n,s),a=iN(e);return f.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[a,e]),o.jsx(en.select,{...r,style:{...$j,...r.style},ref:i,defaultValue:e})});RN.displayName=eB;function ON(t){return t===""||t===void 0}function AN(t){const e=On(t),r=f.useRef(""),n=f.useRef(0),s=f.useCallback(a=>{const l=r.current+a;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function PN(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let a=tB(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function tB(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rB=oN,IN=lN,nB=uN,sB=dN,iB=hN,DN=fN,oB=yN,$N=wN,LN=bN,aB=jN,lB=EN,FN=CN,MN=kN,UN=TN;const nt=rB,st=nB,Xe=f.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(IN,{ref:n,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,o.jsx(sB,{asChild:!0,children:o.jsx(gy,{className:"h-4 w-4 opacity-50"})})]}));Xe.displayName=IN.displayName;const VN=f.forwardRef(({className:t,...e},r)=>o.jsx(FN,{ref:r,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(VP,{className:"h-4 w-4"})}));VN.displayName=FN.displayName;const BN=f.forwardRef(({className:t,...e},r)=>o.jsx(MN,{ref:r,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(gy,{className:"h-4 w-4"})}));BN.displayName=MN.displayName;const et=f.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>o.jsx(iB,{children:o.jsxs(DN,{ref:s,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(VN,{}),o.jsx(oB,{className:we("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(BN,{})]})}));et.displayName=DN.displayName;const cB=f.forwardRef(({className:t,...e},r)=>o.jsx($N,{ref:r,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));cB.displayName=$N.displayName;const Ue=f.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(LN,{ref:n,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(lB,{children:o.jsx(iS,{className:"h-4 w-4"})})}),o.jsx(aB,{children:e})]}));Ue.displayName=LN.displayName;const uB=f.forwardRef(({className:t,...e},r)=>o.jsx(UN,{ref:r,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));uB.displayName=UN.displayName;function dB(t,e=[]){let r=[];function n(i,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var w;const{scope:p,children:v,...g}=h,m=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,y=f.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:v})};u.displayName=i+"Provider";function d(h,p){var m;const v=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=f.useContext(v);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,hB(s,...e)]}function hB(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function fB(t){const e=pB(t),r=f.forwardRef((n,s)=>{const{children:i,...a}=n,l=f.Children.toArray(i),c=l.find(gB);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function pB(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const a=vB(s),l=yB(i,s.props);return s.type!==f.Fragment&&(l.ref=n?Xr(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mB=Symbol("radix.slottable");function gB(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mB}function yB(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function vB(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var xB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],av=xB.reduce((t,e)=>{const r=fB(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Kh="Checkbox",[wB]=dB(Kh),[_B,lv]=wB(Kh);function bB(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[p,v]=cc({prop:r,defaultProp:s??!1,onChange:c,caller:Kh}),[g,m]=f.useState(null),[y,w]=f.useState(null),x=f.useRef(!1),_=g?!!a||!!g.closest("form"):!0,b={checked:p,disabled:i,setChecked:v,control:g,setControl:m,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:ui(s)?!1:s,isFormControl:_,bubbleInput:y,setBubbleInput:w};return o.jsx(_B,{scope:e,...b,children:jB(h)?h(b):n})}var zN="CheckboxTrigger",WN=f.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:g}=lv(zN,t),m=ot(s,d),y=f.useRef(c);return f.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const x=()=>h(y.current);return w.addEventListener("reset",x),()=>w.removeEventListener("reset",x)}},[i,h]),o.jsx(av.button,{type:"button",role:"checkbox","aria-checked":ui(c)?"mixed":c,"aria-required":u,"data-state":QN(c),"data-disabled":l?"":void 0,disabled:l,value:a,...n,ref:m,onKeyDown:Ve(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ve(r,w=>{h(x=>ui(x)?!0:!x),g&&v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});WN.displayName=zN;var cv=f.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return o.jsx(bB,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(WN,{...h,ref:e,__scopeCheckbox:r}),p&&o.jsx(GN,{__scopeCheckbox:r})]})})});cv.displayName=Kh;var qN="CheckboxIndicator",HN=f.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,i=lv(qN,r);return o.jsx(el,{present:n||ui(i.checked)||i.checked===!0,children:o.jsx(av.span,{"data-state":QN(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});HN.displayName=qN;var KN="CheckboxBubbleInput",GN=f.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:p,setBubbleInput:v}=lv(KN,t),g=ot(r,v),m=iN(i),y=Kk(n);f.useEffect(()=>{const x=p;if(!x)return;const _=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(_,"checked").set,E=!s.current;if(m!==i&&j){const S=new Event("click",{bubbles:E});x.indeterminate=ui(i),j.call(x,ui(i)?!1:i),x.dispatchEvent(S)}},[p,m,i,s]);const w=f.useRef(ui(i)?!1:i);return o.jsx(av.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:g,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});GN.displayName=KN;function jB(t){return typeof t=="function"}function ui(t){return t==="indeterminate"}function QN(t){return ui(t)?"indeterminate":t?"checked":"unchecked"}const Bi=f.forwardRef(({className:t,...e},r)=>o.jsx(cv,{ref:r,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(HN,{className:we("flex items-center justify-center text-current"),children:o.jsx(iS,{className:"h-4 w-4"})})}));Bi.displayName=cv.displayName;function In({columnCount:t=5,rowCount:e=5}){return o.jsx("div",{className:"rounded-md border",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsx(Ye,{children:Array.from({length:t}).map((r,n)=>o.jsx(xe,{children:o.jsx(mr,{className:"h-4 w-[100px]"})},n))})}),o.jsx(Jr,{children:Array.from({length:e}).map((r,n)=>o.jsx(Ye,{children:Array.from({length:t}).map((s,i)=>o.jsx(pe,{children:o.jsx(mr,{className:"h-4 w-full"})},i))},n))})]})})}const SB=[{value:"monday",label:"Senin"},{value:"tuesday",label:"Selasa"},{value:"wednesday",label:"Rabu"},{value:"thursday",label:"Kamis"},{value:"friday",label:"Jumat"},{value:"saturday",label:"Sabtu"},{value:"sunday",label:"Minggu"}],I_=[{value:"beginner",label:"Pemula"},{value:"intermediate",label:"Menengah"},{value:"advanced",label:"Mahir"}],EB=Lt({display_name:ee().min(2,"Nama minimal 2 karakter"),email:ee().email("Format email tidak valid"),course_id:ee().uuid("Pilih kursus"),first_choice_slot_id:ee().uuid("Pilih jadwal pilihan pertama"),second_choice_slot_id:ee().uuid("Pilih jadwal pilihan kedua"),preferred_days:To(ee()).min(1,"Pilih minimal satu hari"),preferred_time_range:Lt({start:ee().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,"Format waktu HH:MM"),end:ee().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,"Format waktu HH:MM")}),guardian_name:ee().min(2,"Nama wali wajib diisi"),guardian_wa_number:ee().min(10,"Nomor WhatsApp wajib diisi"),applicant_address:ee().min(5,"Alamat wajib diisi"),applicant_birth_place:ee().min(2,"Tempat lahir wajib diisi"),applicant_birth_date:ee().min(1,"Tanggal lahir wajib diisi"),applicant_school:ee().min(2,"Nama sekolah wajib diisi"),applicant_class:ee().min(1,"Kelas wajib diisi"),experience_level:Sy(["beginner","intermediate","advanced"]).default("beginner"),notes:ee().optional(),instrument:ee().optional(),level:ee().optional(),has_instrument:Ba().default(!1),photo_url:ee().url().optional().or(IS("")),highlight_quote:ee().optional(),can_publish:Ba().default(!1)}),CB=Lt({display_name:ee().min(2,"Nama minimal 2 karakter").optional(),email:ee().email("Format email tidak valid").optional(),course_id:ee().uuid().optional(),first_choice_slot_id:ee().uuid().optional(),second_choice_slot_id:ee().uuid().optional(),preferred_days:To(ee()).optional(),preferred_time_range:Lt({start:ee().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,"Format waktu HH:MM"),end:ee().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,"Format waktu HH:MM")}).optional(),guardian_name:ee().optional(),guardian_wa_number:ee().optional(),applicant_address:ee().optional(),applicant_birth_place:ee().optional(),applicant_birth_date:ee().optional(),applicant_school:ee().optional(),applicant_class:ee().optional(),experience_level:Sy(["beginner","intermediate","advanced"]).optional(),notes:ee().optional(),instrument:ee().optional(),level:ee().optional(),has_instrument:Ba().optional(),photo_url:ee().url().optional().or(IS("")),highlight_quote:ee().optional(),can_publish:Ba().optional()});function kB(){const[t,e]=f.useState(!1),[r,n]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),[c,u]=f.useState(null),[d,h]=f.useState(""),[p,v]=f.useState(null),[g,m]=f.useState(!1),[y,w]=f.useState(null),[x,_]=f.useState(!1),b=f.useRef(null),j=f.useRef(null),{toast:E}=pr(),S=Sr(),{isLoading:R,error:D}=DC(),{data:T=[]}=al(),{data:C=[]}=Lh(),{data:A,isLoading:F,error:z}=Vy(),{data:H=[]}=$h(),J=f.useMemo(()=>{const O={};return H.forEach(Z=>{Z&&Z.id&&(O[Z.id]=Z)}),O},[H]),ce=f.useMemo(()=>{const O={};return T.forEach(Z=>{Z&&Z.id&&(O[Z.id]=Z.title||Z.name||Z.id)}),O},[T]),P=f.useMemo(()=>{const O={},Z=Pe=>{try{return new Date(Pe).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return Pe}},Ce=Pe=>{try{return new Date(Pe).toLocaleDateString("en-US",{weekday:"long"})}catch{return"TBD"}};return Array.isArray(C)&&C.forEach(Pe=>{const Ie=Pe.slots||Pe.schedule||Pe.timings;if(Array.isArray(Ie)&&Ie.forEach($e=>{if($e.id){let at;if($e.start_time&&$e.start_time.includes("T")){const ke=Ce($e.start_time),k=Z($e.start_time),I=Z($e.end_time);at=`${ke} ${k} - ${I}`}else at=`${$e.day_of_week||$e.day||"TBD"} ${$e.start_time||$e.start||""} - ${$e.end_time||$e.end||""}`;O[$e.id]=at}}),Pe.id&&Pe.start_time&&Pe.end_time){let $e;if(Pe.start_time.includes("T")){const at=Ce(Pe.start_time),ke=Z(Pe.start_time),k=Z(Pe.end_time);$e=`${at} ${ke} - ${k}`}else $e=`${Pe.day_of_week||"TBD"} ${Pe.start_time} - ${Pe.end_time}`;O[Pe.id]=$e}}),O},[C]),Q=f.useMemo(()=>(Array.isArray(A)?A:(A==null?void 0:A.bookings)||[]).filter(Z=>Z.status==="confirmed"),[A]),ie=(O,Z)=>O&&P[O]?P[O]:Z||"-",$=f.useMemo(()=>{if(!d||!C||C.length===0)return[];const O=Ie=>{try{return new Date(Ie).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return Ie}},Z=Ie=>{try{return new Date(Ie).toLocaleDateString("id-ID",{weekday:"long"})}catch{return"TBD"}},Ce=Array.isArray(C)?C.filter(Ie=>Ie.course_id===d):[],Pe=[];return Ce.forEach(Ie=>{const $e=Ie.slots||Ie.schedule||Ie.timings;let at=[];Array.isArray($e)?at=$e:Ie.start_time&&Ie.end_time&&(at=[Ie]),at.forEach(ke=>{try{let k,I,M,ue;ke.day_of_week?(k=ke.id||`${Ie.id}-${ke.day_of_week}-${ke.start_time}`,I=ke.day_of_week||ke.day||"TBD",M=ke.start_time||ke.start||"00:00",ue=ke.end_time||ke.end||"00:00"):ke.start_time&&ke.end_time&&(ke.start_time.includes("T")||ke.start_time.includes(":"))?(k=ke.id||`${Ie.id}-${ke.start_time}-${ke.end_time}`,I=Z(ke.start_time),M=O(ke.start_time),ue=O(ke.end_time)):(k=ke.id||`${Ie.id}-slot`,I="TBD",M=ke.start_time||ke.start||"00:00",ue=ke.end_time||ke.end||"00:00"),Pe.push({id:k,schedule_id:Ie.id,label:`${I} ${M} - ${ue}`})}catch(k){console.error("Error processing slot:",ke,k)}})}),Pe},[d,C]),K=nr({resolver:sr(EB),defaultValues:{display_name:"",email:"",course_id:"",first_choice_slot_id:"",second_choice_slot_id:"",preferred_days:[],preferred_time_range:{start:"09:00",end:"17:00"},guardian_name:"",guardian_wa_number:"",applicant_address:"",applicant_birth_place:"",applicant_birth_date:"",applicant_school:"",applicant_class:"",experience_level:"beginner",notes:"",instrument:"",level:"",has_instrument:!1,photo_url:"",highlight_quote:"",can_publish:!1}}),he=nr({resolver:sr(CB),defaultValues:{display_name:"",email:""}});f.useEffect(()=>{var O;c&&(he.reset({display_name:c.display_name||c.full_name||"",email:c.email||"",course_id:c.course_id||"",first_choice_slot_id:c.first_choice_slot_id||"",second_choice_slot_id:c.second_choice_slot_id||"",preferred_days:c.preferred_days||[],preferred_time_range:c.preferred_time_range||{start:"09:00",end:"17:00"},guardian_name:c.guardian_name||"",guardian_wa_number:c.guardian_wa_number||"",applicant_address:c.applicant_address||"",applicant_birth_place:c.applicant_birth_place||"",applicant_birth_date:c.applicant_birth_date||"",applicant_school:c.applicant_school||"",applicant_class:((O=c.applicant_class)==null?void 0:O.toString())||"",experience_level:c.experience_level||"beginner",notes:c.notes||"",instrument:c.instrument||"",level:c.level||"",has_instrument:c.has_instrument||!1,photo_url:c.photo_url||"",highlight_quote:c.highlight_quote||"",can_publish:c.can_publish||!1}),c.course_id&&h(c.course_id),w(null))},[c,he]);const Oe=K.watch("course_id");f.useEffect(()=>{Oe&&(h(Oe),K.setValue("first_choice_slot_id",""),K.setValue("second_choice_slot_id",""))},[Oe,K]);const q=ht({mutationFn:O=>Re.post("/api/admin/students",O),onSuccess:O=>{var Ce,Pe;S.invalidateQueries({queryKey:Fe.students()}),S.invalidateQueries({queryKey:Fe.bookings()}),e(!1),K.reset(),h(""),v(null);const Z=((Pe=(Ce=O.data)==null?void 0:Ce.meta)==null?void 0:Pe.message)||"Student and booking created successfully";E({title:"Success",description:Z})},onError:O=>{var Ce,Pe,Ie,$e,at;const Z=((Ie=(Pe=(Ce=O.response)==null?void 0:Ce.data)==null?void 0:Pe.error)==null?void 0:Ie.message)||((at=($e=O.response)==null?void 0:$e.data)==null?void 0:at.message)||"Failed to create student";E({variant:"destructive",title:"Error",description:Z})}}),X=ht({mutationFn:({id:O,data:Z})=>Re.put(`/api/admin/students/${O}`,Z),onSuccess:()=>{S.invalidateQueries({queryKey:Fe.students()}),i(!1),u(null),he.reset(),w(null),E({title:"Success",description:"Student updated successfully"})},onError:O=>{var Z,Ce;E({variant:"destructive",title:"Error",description:((Ce=(Z=O.response)==null?void 0:Z.data)==null?void 0:Ce.message)||"Failed to update student"})}}),ne=ht({mutationFn:O=>Re.delete(`/api/admin/students/${O}`),onSuccess:()=>{S.invalidateQueries({queryKey:Fe.students()}),l(!1),u(null),E({title:"Success",description:"Student deleted successfully"})},onError:O=>{var Z,Ce;E({variant:"destructive",title:"Error",description:((Ce=(Z=O.response)==null?void 0:Z.data)==null?void 0:Ce.message)||"Failed to delete student"})}});function Ae(O){q.mutate(O)}function Et(O){if(c){const Z=Object.fromEntries(Object.entries(O).filter(([,Ce])=>Ce!==""&&Ce!==void 0));X.mutate({id:c.id,data:Z})}}const He=async(O,Z=!1)=>{var $e;const Ce=($e=O.target.files)==null?void 0:$e[0];if(!Ce)return;if(!["image/jpeg","image/png","image/webp","image/gif"].includes(Ce.type)){E({variant:"destructive",title:"Error",description:"Format file tidak didukung. Gunakan JPEG, PNG, WebP, atau GIF."});return}if(Ce.size>5*1024*1024){E({variant:"destructive",title:"Error",description:"Ukuran file maksimal 5MB."});return}const Ie=new FileReader;Ie.onload=at=>{var ke,k;Z?w((ke=at.target)==null?void 0:ke.result):v((k=at.target)==null?void 0:k.result)},Ie.readAsDataURL(Ce);try{Z?_(!0):m(!0);const at=await HF(Ce);Z?he.setValue("photo_url",at):K.setValue("photo_url",at),E({title:"Berhasil",description:"Foto berhasil diupload."})}catch(at){E({variant:"destructive",title:"Error",description:at.message||"Gagal mengupload foto."}),Z?w(null):v(null)}finally{Z?_(!1):m(!1)}},Ke=(O=!1)=>{O?(w(null),he.setValue("photo_url",""),j.current&&(j.current.value="")):(v(null),K.setValue("photo_url",""),b.current&&(b.current.value=""))};return R||F?o.jsx(In,{columnCount:6,rowCount:10}):D||z?o.jsx("div",{className:"p-4 text-red-500",children:"Error loading data"}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Students"}),o.jsxs(Rt,{open:t,onOpenChange:O=>{e(O),O||(K.reset(),h(""),v(null),b.current&&(b.current.value=""))},children:[o.jsx(Es,{asChild:!0,children:o.jsxs(re,{children:[o.jsx(dn,{className:"mr-2 h-4 w-4"})," Add Student"]})}),o.jsxs(_t,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Add Student"}),o.jsx(Jt,{children:"Tambah siswa baru dengan booking otomatis."})]}),o.jsx(ir,{...K,children:o.jsxs("form",{onSubmit:K.handleSubmit(Ae),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Data Dasar Siswa"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:K.control,name:"display_name",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Nama Lengkap *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"John Doe",...O})}),o.jsx(G,{})]})}),o.jsx(V,{control:K.control,name:"email",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Email *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"student@example.com",...O})}),o.jsx(G,{})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Pilihan Kursus & Jadwal"}),o.jsx(V,{control:K.control,name:"course_id",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Kursus *"}),o.jsxs(nt,{onValueChange:O.onChange,value:O.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Pilih kursus"})})}),o.jsx(et,{children:Array.isArray(T)&&T.map(Z=>o.jsx(Ue,{value:Z.id,children:Z.title||Z.name},Z.id))})]}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:K.control,name:"first_choice_slot_id",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Pilihan Jadwal 1 *"}),o.jsxs(nt,{onValueChange:O.onChange,value:O.value,disabled:!d,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:d?"Pilih jadwal":"Pilih kursus dulu"})})}),o.jsx(et,{children:$.map(Z=>o.jsx(Ue,{value:Z.id,children:Z.label},Z.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:K.control,name:"second_choice_slot_id",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Pilihan Jadwal 2 *"}),o.jsxs(nt,{onValueChange:O.onChange,value:O.value,disabled:!d,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:d?"Pilih jadwal":"Pilih kursus dulu"})})}),o.jsx(et,{children:$.map(Z=>o.jsx(Ue,{value:Z.id,children:Z.label},Z.id))})]}),o.jsx(G,{})]})})]}),o.jsx(V,{control:K.control,name:"preferred_days",render:()=>o.jsxs(U,{children:[o.jsx(W,{children:"Hari yang Diinginkan *"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:SB.map(O=>o.jsx(V,{control:K.control,name:"preferred_days",render:({field:Z})=>{var Ce;return o.jsxs(U,{className:"flex items-center space-x-2 space-y-0",children:[o.jsx(B,{children:o.jsx(Bi,{checked:(Ce=Z.value)==null?void 0:Ce.includes(O.value),onCheckedChange:Pe=>{const Ie=Z.value||[];Pe?Z.onChange([...Ie,O.value]):Z.onChange(Ie.filter($e=>$e!==O.value))}})}),o.jsx(qn,{className:"text-sm font-normal",children:O.label})]})}},O.value))}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:K.control,name:"preferred_time_range.start",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Waktu Mulai *"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...O})}),o.jsx(G,{})]})}),o.jsx(V,{control:K.control,name:"preferred_time_range.end",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Waktu Selesai *"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...O})}),o.jsx(G,{})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Data Wali/Orang Tua"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:K.control,name:"guardian_name",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Nama Wali *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Nama orang tua/wali",...O})}),o.jsx(G,{})]})}),o.jsx(V,{control:K.control,name:"guardian_wa_number",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"No. WhatsApp Wali *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"08123456789",...O})}),o.jsx(G,{})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Data Pribadi Siswa"}),o.jsx(V,{control:K.control,name:"applicant_address",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Alamat *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Alamat lengkap",...O})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:K.control,name:"applicant_birth_place",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Tempat Lahir *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Jakarta",...O})}),o.jsx(G,{})]})}),o.jsx(V,{control:K.control,name:"applicant_birth_date",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Tanggal Lahir *"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...O})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:K.control,name:"applicant_school",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Nama Sekolah *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"SMA Negeri 1",...O})}),o.jsx(G,{})]})}),o.jsx(V,{control:K.control,name:"applicant_class",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Kelas *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"X IPA 1",...O})}),o.jsx(G,{})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Data Tambahan (Opsional)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:K.control,name:"experience_level",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Level Pengalaman"}),o.jsxs(nt,{onValueChange:O.onChange,value:O.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Pilih level"})})}),o.jsx(et,{children:I_.map(Z=>o.jsx(Ue,{value:Z.value,children:Z.label},Z.value))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:K.control,name:"instrument",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Instrumen"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Piano, Gitar, dll",...O})}),o.jsx(G,{})]})})]}),o.jsx(V,{control:K.control,name:"notes",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Catatan"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Catatan tambahan...",...O})}),o.jsx(G,{})]})}),o.jsx(V,{control:K.control,name:"photo_url",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Foto Siswa"}),o.jsx(B,{children:o.jsxs("div",{className:"space-y-3",children:[(p||O.value)&&o.jsxs("div",{className:"relative w-32 h-32",children:[o.jsx("img",{src:p||O.value,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border"}),o.jsx("button",{type:"button",onClick:()=>Ke(!1),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Ed,{className:"h-4 w-4"})})]}),!p&&!O.value&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{ref:b,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:Z=>He(Z,!1),className:"hidden",id:"photo-upload"}),o.jsx(re,{type:"button",variant:"outline",onClick:()=>{var Z;return(Z=b.current)==null?void 0:Z.click()},disabled:g,className:"w-full",children:g?o.jsxs(o.Fragment,{children:[o.jsx(Zx,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengupload..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Xx,{className:"mr-2 h-4 w-4"}),"Pilih Foto"]})})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Format: JPEG, PNG, WebP, GIF. Maksimal 5MB."})]})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx(V,{control:K.control,name:"has_instrument",render:({field:O})=>o.jsxs(U,{className:"flex items-center space-x-2 space-y-0",children:[o.jsx(B,{children:o.jsx(Bi,{checked:O.value,onCheckedChange:O.onChange})}),o.jsx(qn,{className:"text-sm font-normal",children:"Memiliki instrumen sendiri"})]})}),o.jsx(V,{control:K.control,name:"can_publish",render:({field:O})=>o.jsxs(U,{className:"flex items-center space-x-2 space-y-0",children:[o.jsx(B,{children:o.jsx(Bi,{checked:O.value,onCheckedChange:O.onChange})}),o.jsx(qn,{className:"text-sm font-normal",children:"Boleh dipublikasikan"})]})})]})]}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Batal"}),o.jsx(re,{type:"submit",disabled:q.isPending,children:q.isPending?"Menyimpan...":"Simpan"})]})]})})]})]})]}),o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Name"}),o.jsx(xe,{children:"Email"}),o.jsx(xe,{children:"School"}),o.jsx(xe,{children:"Course"}),o.jsx(xe,{children:"First Choice"}),o.jsx(xe,{children:"Second Choice"})]})}),o.jsx(Jr,{children:Q.length>0?Q.map(O=>{var Z,Ce,Pe,Ie,$e,at,ke,k,I,M,ue,le;return o.jsxs(Ye,{children:[o.jsx(pe,{className:"font-medium",children:O.applicant_full_name||((Z=J[O.user_id])==null?void 0:Z.full_name)||((Ce=J[O.user_id])==null?void 0:Ce.name)||O.user_id||"-"}),o.jsx(pe,{children:O.applicant_email||((Pe=J[O.user_id])==null?void 0:Pe.email)||"-"}),o.jsx(pe,{children:O.applicant_school||((Ie=J[O.user_id])==null?void 0:Ie.school)||"-"}),o.jsx(pe,{children:ce[O.course_id]||O.course_id}),o.jsx(pe,{children:ie(O.first_choice_slot_id||((at=($e=O.slot_preferences)==null?void 0:$e[0])==null?void 0:at.slot_id),O.first_preference||((k=(ke=O.slot_preferences)==null?void 0:ke[0])==null?void 0:k.display_text))}),o.jsx(pe,{children:ie(O.second_choice_slot_id||((M=(I=O.slot_preferences)==null?void 0:I[1])==null?void 0:M.slot_id),O.second_preference||((le=(ue=O.slot_preferences)==null?void 0:ue[1])==null?void 0:le.display_text))})]},O.id)}):o.jsx(Ye,{children:o.jsx(pe,{colSpan:6,className:"text-center py-4 text-gray-500",children:"No confirmed students found"})})})]})}),o.jsx(Rt,{open:r,onOpenChange:n,children:o.jsxs(_t,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[o.jsx(bt,{children:o.jsx(jt,{children:"Detail Siswa"})}),c&&o.jsxs("div",{className:"space-y-6",children:[c.photo_url&&o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:c.photo_url,alt:c.display_name||c.full_name||"Student",className:"w-32 h-32 object-cover rounded-lg border"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-3",children:"Data Dasar"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nama Lengkap"}),o.jsx("p",{className:"text-sm",children:c.display_name||c.full_name||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),o.jsx("p",{className:"text-sm",children:c.email||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID Siswa"}),o.jsx("p",{className:"text-xs font-mono",children:c.id||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID Booking"}),o.jsx("p",{className:"text-xs font-mono",children:c.booking_id||"-"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-3",children:"Data Wali/Orang Tua"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nama Wali"}),o.jsx("p",{className:"text-sm",children:c.guardian_name||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"No. WhatsApp Wali"}),o.jsx("p",{className:"text-sm",children:c.guardian_wa_number||"-"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-3",children:"Data Pribadi"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Alamat"}),o.jsx("p",{className:"text-sm",children:c.applicant_address||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tempat Lahir"}),o.jsx("p",{className:"text-sm",children:c.applicant_birth_place||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tanggal Lahir"}),o.jsx("p",{className:"text-sm",children:c.applicant_birth_date||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Sekolah"}),o.jsx("p",{className:"text-sm",children:c.applicant_school||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Kelas"}),o.jsx("p",{className:"text-sm",children:c.applicant_class||"-"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-3",children:"Data Musik"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Instrumen"}),o.jsx("p",{className:"text-sm",children:c.instrument||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Level"}),o.jsx("p",{className:"text-sm",children:c.level||c.experience_level||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Memiliki Instrumen"}),o.jsx("p",{className:"text-sm",children:c.has_instrument?"Ya":"Tidak"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Boleh Dipublikasikan"}),o.jsx("p",{className:"text-sm",children:c.can_publish?"Ya":"Tidak"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-3",children:"Info Sistem"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Dibuat"}),o.jsx("p",{className:"text-sm",children:c.created_at?new Date(c.created_at).toLocaleString("id-ID"):"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Diperbarui"}),o.jsx("p",{className:"text-sm",children:c.updated_at?new Date(c.updated_at).toLocaleString("id-ID"):"-"})]})]})]}),c.notes&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-3",children:"Catatan"}),o.jsx("p",{className:"text-sm",children:c.notes})]})]}),o.jsx(Ht,{children:o.jsx(re,{variant:"outline",onClick:()=>n(!1),children:"Tutup"})})]})}),o.jsx(Rt,{open:s,onOpenChange:O=>{i(O),O||(he.reset(),h(""),w(null),j.current&&(j.current.value=""))},children:o.jsxs(_t,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Edit Siswa"}),o.jsx(Jt,{children:"Perbarui informasi siswa. Field yang dikosongkan tidak akan diubah."})]}),o.jsx(ir,{...he,children:o.jsxs("form",{onSubmit:he.handleSubmit(Et),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Data Dasar Siswa"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:he.control,name:"display_name",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Nama Lengkap"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"John Doe",...O,value:O.value||""})}),o.jsx(G,{})]})}),o.jsx(V,{control:he.control,name:"email",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Email"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"student@example.com",...O,value:O.value||""})}),o.jsx(G,{})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Data Wali/Orang Tua"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:he.control,name:"guardian_name",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Nama Wali"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Nama orang tua/wali",...O,value:O.value||""})}),o.jsx(G,{})]})}),o.jsx(V,{control:he.control,name:"guardian_wa_number",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"No. WhatsApp Wali"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"08123456789",...O,value:O.value||""})}),o.jsx(G,{})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Data Pribadi Siswa"}),o.jsx(V,{control:he.control,name:"applicant_address",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Alamat"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Alamat lengkap",...O,value:O.value||""})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:he.control,name:"applicant_birth_place",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Tempat Lahir"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Jakarta",...O,value:O.value||""})}),o.jsx(G,{})]})}),o.jsx(V,{control:he.control,name:"applicant_birth_date",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Tanggal Lahir"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...O,value:O.value||""})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:he.control,name:"applicant_school",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Nama Sekolah"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"SMA Negeri 1",...O,value:O.value||""})}),o.jsx(G,{})]})}),o.jsx(V,{control:he.control,name:"applicant_class",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Kelas"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"X IPA 1",...O,value:O.value||""})}),o.jsx(G,{})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Data Musik (Opsional)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:he.control,name:"experience_level",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Level Pengalaman"}),o.jsxs(nt,{onValueChange:O.onChange,value:O.value||"",children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Pilih level"})})}),o.jsx(et,{children:I_.map(Z=>o.jsx(Ue,{value:Z.value,children:Z.label},Z.value))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:he.control,name:"instrument",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Instrumen"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Piano, Gitar, dll",...O,value:O.value||""})}),o.jsx(G,{})]})})]}),o.jsx(V,{control:he.control,name:"notes",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Catatan"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Catatan tambahan...",...O,value:O.value||""})}),o.jsx(G,{})]})}),o.jsx(V,{control:he.control,name:"photo_url",render:({field:O})=>o.jsxs(U,{children:[o.jsx(W,{children:"Foto Siswa"}),o.jsx(B,{children:o.jsxs("div",{className:"space-y-3",children:[(y||O.value)&&o.jsxs("div",{className:"relative w-32 h-32",children:[o.jsx("img",{src:y||O.value,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border"}),o.jsx("button",{type:"button",onClick:()=>Ke(!0),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Ed,{className:"h-4 w-4"})})]}),!y&&!O.value&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{ref:j,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:Z=>He(Z,!0),className:"hidden",id:"edit-photo-upload"}),o.jsx(re,{type:"button",variant:"outline",onClick:()=>{var Z;return(Z=j.current)==null?void 0:Z.click()},disabled:x,className:"w-full",children:x?o.jsxs(o.Fragment,{children:[o.jsx(Zx,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengupload..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Xx,{className:"mr-2 h-4 w-4"}),"Pilih Foto"]})})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Format: JPEG, PNG, WebP, GIF. Maksimal 5MB."})]})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx(V,{control:he.control,name:"has_instrument",render:({field:O})=>o.jsxs(U,{className:"flex items-center space-x-2 space-y-0",children:[o.jsx(B,{children:o.jsx(Bi,{checked:O.value||!1,onCheckedChange:O.onChange})}),o.jsx(qn,{className:"text-sm font-normal",children:"Memiliki instrumen sendiri"})]})}),o.jsx(V,{control:he.control,name:"can_publish",render:({field:O})=>o.jsxs(U,{className:"flex items-center space-x-2 space-y-0",children:[o.jsx(B,{children:o.jsx(Bi,{checked:O.value||!1,onCheckedChange:O.onChange})}),o.jsx(qn,{className:"text-sm font-normal",children:"Boleh dipublikasikan"})]})})]})]}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Batal"}),o.jsx(re,{type:"submit",disabled:X.isPending,children:X.isPending?"Menyimpan...":"Simpan Perubahan"})]})]})})]})}),o.jsx(Ro,{open:a,onOpenChange:l,children:o.jsxs(Si,{children:[o.jsxs(Ei,{children:[o.jsx(ki,{children:"Apakah Anda yakin?"}),o.jsxs(Ni,{children:['Tindakan ini akan menghapus siswa "',(c==null?void 0:c.display_name)||(c==null?void 0:c.full_name),'" secara permanen. Tindakan ini tidak dapat dibatalkan.']})]}),o.jsxs(Ci,{children:[o.jsx(Ri,{children:"Batal"}),o.jsx(Ti,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{c&&ne.mutate(c.id)},children:ne.isPending?"Menghapus...":"Hapus"})]})]})})]})}const NB=xh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xn({className:t,variant:e,...r}){return o.jsx("div",{className:we(NB({variant:e}),t),...r})}function TB(){const{data:t,isLoading:e,error:r}=DC();if(e)return o.jsx(In,{columnCount:4,rowCount:10});if(r)return o.jsx("div",{className:"p-4 text-red-500",children:"Error loading students"});const n=Array.isArray(t)?t:(t==null?void 0:t.students)||[];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Students (FE)"})}),o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Name"}),o.jsx(xe,{children:"Email"}),o.jsx(xe,{children:"Photo URL"}),o.jsx(xe,{children:"Can Publish"})]})}),o.jsx(Jr,{children:n.length>0?n.map(s=>o.jsxs(Ye,{children:[o.jsx(pe,{className:"font-medium",children:s.display_name||s.full_name||s.name||"-"}),o.jsx(pe,{children:s.email||"-"}),o.jsx(pe,{children:s.photo_url?o.jsx("img",{src:s.photo_url,alt:s.display_name||"Student",className:"h-10 w-10 rounded-full object-cover"}):"-"}),o.jsx(pe,{children:s.can_publish?o.jsx(Xn,{variant:"default",className:"bg-green-600 hover:bg-green-700",children:"Yes"}):o.jsx(Xn,{variant:"secondary",children:"No"})})]},s.id)):o.jsx(Ye,{children:o.jsx(pe,{colSpan:4,className:"text-center py-4 text-gray-500",children:"No students found"})})})]})})]})}const RB=Lt({course_id:ee().min(1,"Course is required"),instructor_id:ee().min(1,"Instructor is required"),room_id:ee().min(1,"Room is required"),start_date:ee().min(1,"Start date is required"),end_date:ee().min(1,"End date is required"),max_students:wr.number().min(1,"Max students must be at least 1"),schedule:To(Lt({day_of_week:ee().min(1,"Day is required"),start_time:ee().min(1,"Start time is required"),end_time:ee().min(1,"End time is required"),duration:wr.number().min(1,"Duration is required")})).min(1,"At least one schedule slot is required")});function OB({courseId:t,courseTitle:e,trigger:r}){const[n,s]=f.useState(!1),{toast:i}=pr(),a=Sr(),{data:l=[]}=Lc(),{data:c=[]}=Fc(),u=nr({resolver:sr(RB),defaultValues:{course_id:t||"",instructor_id:"",room_id:"",start_date:"",end_date:"",max_students:5,schedule:[{day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}]}}),{fields:d,append:h,remove:p}=uc({control:u.control,name:"schedule"}),v=ht({mutationFn:async y=>(await Re.post("/api/admin/schedules",y)).data,onSuccess:()=>{i({title:"Success",description:"Schedule created successfully"}),a.invalidateQueries({queryKey:["schedules"]}),s(!1),u.reset()},onError:y=>{var w,x;i({variant:"destructive",title:"Error",description:((x=(w=y.response)==null?void 0:w.data)==null?void 0:x.message)||"Failed to create schedule"})}}),g=y=>{v.mutate(y)},m=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return o.jsxs(Rt,{open:n,onOpenChange:s,children:[o.jsx(Es,{asChild:!0,children:r||o.jsx(re,{variant:"outline",children:"Create Schedule"})}),o.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(bt,{children:[o.jsxs(jt,{children:["Create Schedule ",e?`for ${e}`:""]}),o.jsx(Jt,{children:"Set up a new schedule for this course."})]}),o.jsx(ir,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(g),className:"space-y-4",children:[!t&&o.jsx(V,{control:u.control,name:"course_id",render:({field:y})=>o.jsxs(U,{children:[o.jsx(W,{children:"Course ID"}),o.jsx(B,{children:o.jsx(Y,{...y,placeholder:"Course UUID"})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:u.control,name:"instructor_id",render:({field:y})=>o.jsxs(U,{children:[o.jsx(W,{children:"Instructor"}),o.jsxs(nt,{onValueChange:y.onChange,defaultValue:y.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select instructor"})})}),o.jsx(et,{children:l.map(w=>o.jsx(Ue,{value:w.id,children:w.name},w.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:u.control,name:"room_id",render:({field:y})=>o.jsxs(U,{children:[o.jsx(W,{children:"Room"}),o.jsxs(nt,{onValueChange:y.onChange,defaultValue:y.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select room"})})}),o.jsx(et,{children:c.map(w=>o.jsxs(Ue,{value:w.id,children:[w.name," (",w.capacity,")"]},w.id))})]}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:u.control,name:"start_date",render:({field:y})=>o.jsxs(U,{children:[o.jsx(W,{children:"Start Date"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...y})}),o.jsx(G,{})]})}),o.jsx(V,{control:u.control,name:"end_date",render:({field:y})=>o.jsxs(U,{children:[o.jsx(W,{children:"End Date"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...y})}),o.jsx(G,{})]})})]}),o.jsx(V,{control:u.control,name:"max_students",render:({field:y})=>o.jsxs(U,{children:[o.jsx(W,{children:"Max Students"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...y})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Weekly Schedule"}),o.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>h({day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}),children:[o.jsx(dn,{className:"h-4 w-4 mr-2"}),"Add Slot"]})]}),d.map((y,w)=>o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end border p-2 rounded",children:[o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:u.control,name:`schedule.${w}.day_of_week`,render:({field:x})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Day"}),o.jsxs(nt,{onValueChange:x.onChange,defaultValue:x.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{})})}),o.jsx(et,{children:m.map(_=>o.jsx(Ue,{value:_,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})]})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:u.control,name:`schedule.${w}.start_time`,render:({field:x})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Start"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...x})})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:u.control,name:`schedule.${w}.end_time`,render:({field:x})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"End"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...x})})]})})}),o.jsx("div",{className:"col-span-2",children:o.jsx(V,{control:u.control,name:`schedule.${w}.duration`,render:({field:x})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Dur (min)"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...x})})]})})}),o.jsx("div",{className:"col-span-1",children:o.jsx(re,{type:"button",variant:"ghost",size:"icon",onClick:()=>p(w),disabled:d.length===1,children:o.jsx(Zn,{className:"h-4 w-4 text-red-500"})})})]},y.id))]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:v.isPending,children:v.isPending?"Creating...":"Create Schedule"})]})]})})]})]})}const AB=Lt({course_id:ee().min(1,"Course is required"),room_id:ee().min(1,"Room is required"),schedule:Lt({days:To(ee()).min(1,"Select at least one day"),time:ee().min(1,"Time is required"),duration:wr.number().min(1,"Duration is required")})});function PB({courseId:t,courseTitle:e,trigger:r}){const[n,s]=f.useState(!1),{toast:i}=pr(),a=Sr(),{data:l=[]}=Fc(),c=nr({resolver:sr(AB),defaultValues:{course_id:t||"",room_id:"",schedule:{days:[],time:"09:00",duration:60}}}),u=ht({mutationFn:async p=>(await Re.post("/booking/api/admin/assign-room",p)).data,onSuccess:()=>{i({title:"Success",description:"Room assigned successfully"}),a.invalidateQueries({queryKey:["schedules"]}),s(!1),c.reset()},onError:p=>{var v,g;i({variant:"destructive",title:"Error",description:((g=(v=p.response)==null?void 0:v.data)==null?void 0:g.message)||"Failed to assign room"})}}),d=p=>{u.mutate(p)},h=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return o.jsxs(Rt,{open:n,onOpenChange:s,children:[o.jsx(Es,{asChild:!0,children:r||o.jsx(re,{variant:"secondary",size:"sm",children:"Assign Room"})}),o.jsxs(_t,{className:"max-w-md",children:[o.jsxs(bt,{children:[o.jsxs(jt,{children:["Assign Room ",e?`to ${e}`:""]}),o.jsx(Jt,{children:"Assign a room and time slots for this course."})]}),o.jsx(ir,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[!t&&o.jsx(V,{control:c.control,name:"course_id",render:({field:p})=>o.jsxs(U,{children:[o.jsx(W,{children:"Course ID"}),o.jsx(B,{children:o.jsx(Y,{...p,placeholder:"Course UUID"})}),o.jsx(G,{})]})}),o.jsx(V,{control:c.control,name:"room_id",render:({field:p})=>o.jsxs(U,{children:[o.jsx(W,{children:"Room"}),o.jsxs(nt,{onValueChange:p.onChange,defaultValue:p.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select room"})})}),o.jsx(et,{children:l.map(v=>o.jsxs(Ue,{value:v.id,children:[v.name," (",v.capacity,")"]},v.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:c.control,name:"schedule.days",render:()=>o.jsxs(U,{children:[o.jsx("div",{className:"mb-4",children:o.jsx(W,{className:"text-base",children:"Days"})}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(p=>o.jsx(V,{control:c.control,name:"schedule.days",render:({field:v})=>{var g;return o.jsxs(U,{className:"flex flex-row items-start space-x-3 space-y-0",children:[o.jsx(B,{children:o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",checked:(g=v.value)==null?void 0:g.includes(p),onChange:m=>{var y;return m.target.checked?v.onChange([...v.value||[],p]):v.onChange((y=v.value)==null?void 0:y.filter(w=>w!==p))}})}),o.jsx(W,{className:"font-normal capitalize",children:p})]},p)}},p))}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:c.control,name:"schedule.time",render:({field:p})=>o.jsxs(U,{children:[o.jsx(W,{children:"Time"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...p})}),o.jsx(G,{})]})}),o.jsx(V,{control:c.control,name:"schedule.duration",render:({field:p})=>o.jsxs(U,{children:[o.jsx(W,{children:"Duration (min)"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...p})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:u.isPending,children:u.isPending?"Assigning...":"Assign Room"})]})]})})]})]})}const IB=Lt({title:ee().min(2,"Title is required"),description:ee().optional(),level:ee().min(1,"Level is required"),price_per_session:wr.number().min(0),duration_minutes:wr.number().min(1),max_students:wr.number().min(1),instrument:ee().min(1,"Instrument is required")});function DB(){const[t,e]=f.useState(!1),{toast:r}=pr(),n=Sr(),s=nr({resolver:sr(IB),defaultValues:{title:"",description:"",level:"beginner",price_per_session:0,duration_minutes:90,max_students:5,instrument:""}}),i=ht({mutationFn:async l=>(await Re.post("/courses",l)).data,onSuccess:()=>{r({title:"Success",description:"Course created successfully"}),n.invalidateQueries({queryKey:["courses"]}),e(!1),s.reset()},onError:l=>{var c,u;r({variant:"destructive",title:"Error",description:((u=(c=l.response)==null?void 0:c.data)==null?void 0:u.message)||"Failed to create course"})}}),a=l=>{i.mutate(l)};return o.jsxs(Rt,{open:t,onOpenChange:e,children:[o.jsx(Es,{asChild:!0,children:o.jsxs(re,{children:[o.jsx(dn,{className:"mr-2 h-4 w-4"})," Create Course"]})}),o.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Create New Course"}),o.jsx(Jt,{children:"Add a new course to the catalog."})]}),o.jsx(ir,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-4",children:[o.jsx(V,{control:s.control,name:"title",render:({field:l})=>o.jsxs(U,{children:[o.jsx(W,{children:"Title"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Piano Basics",...l})}),o.jsx(G,{})]})}),o.jsx(V,{control:s.control,name:"description",render:({field:l})=>o.jsxs(U,{children:[o.jsx(W,{children:"Description"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Course description...",...l})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:s.control,name:"level",render:({field:l})=>o.jsxs(U,{children:[o.jsx(W,{children:"Level"}),o.jsxs(nt,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select level"})})}),o.jsxs(et,{children:[o.jsx(Ue,{value:"beginner",children:"Beginner"}),o.jsx(Ue,{value:"intermediate",children:"Intermediate"}),o.jsx(Ue,{value:"advanced",children:"Advanced"})]})]}),o.jsx(G,{})]})}),o.jsx(V,{control:s.control,name:"max_students",render:({field:l})=>o.jsxs(U,{children:[o.jsx(W,{children:"Max Students"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...l})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:s.control,name:"price_per_session",render:({field:l})=>o.jsxs(U,{children:[o.jsx(W,{children:"Price per Session"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...l})}),o.jsx(G,{})]})}),o.jsx(V,{control:s.control,name:"duration_minutes",render:({field:l})=>o.jsxs(U,{children:[o.jsx(W,{children:"Duration (Minutes)"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...l})}),o.jsx(G,{})]})})]}),o.jsx(V,{control:s.control,name:"instrument",render:({field:l})=>o.jsxs(U,{children:[o.jsx(W,{children:"Instrument"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Piano",...l})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:i.isPending,children:i.isPending?"Creating...":"Create Course"})]})]})})]})]})}const $B=Lt({title:ee().min(2,"Title is required"),description:ee().optional(),instrument:ee().min(1,"Instrument is required"),level:ee().min(1,"Level is required"),duration_weeks:wr.number().min(1),sessions_per_week:wr.number().min(1),price:wr.number().min(0),instructor_id:ee().optional(),max_students:wr.number().min(1),is_active:Ba()});function LB(){const[t,e]=f.useState(!1),[r,n]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(null),{toast:c}=pr(),u=Sr(),{data:d,isLoading:h,error:p}=al(),{data:v}=Lc(),g=nr({resolver:sr($B),defaultValues:{title:"",description:"",instrument:"",level:"Beginner",duration_weeks:4,sessions_per_week:1,price:0,instructor_id:"",max_students:5,is_active:!0}});f.useEffect(()=>{a&&g.reset({title:a.title||"",description:a.description||"",instrument:a.instrument||"",level:a.level||"Beginner",duration_weeks:a.duration_weeks||4,sessions_per_week:a.sessions_per_week||1,price:a.price||a.price_per_session||0,instructor_id:a.instructor_id||"",max_students:a.max_students||5,is_active:a.is_active!==void 0?a.is_active:!0})},[a,g]);const m=ht({mutationFn:({id:S,data:R})=>Re.put(`/courses/${S}`,R),onSuccess:()=>{u.invalidateQueries({queryKey:Fe.courses()}),n(!1),l(null),g.reset(),c({title:"Success",description:"Course updated successfully"})},onError:S=>{var R,D;c({variant:"destructive",title:"Error",description:((D=(R=S.response)==null?void 0:R.data)==null?void 0:D.message)||"Failed to update course"})}}),y=ht({mutationFn:S=>Re.delete(`/courses/${S}`),onSuccess:()=>{u.invalidateQueries({queryKey:Fe.courses()}),i(!1),l(null),c({title:"Success",description:"Course deleted successfully"})},onError:S=>{var R,D;c({variant:"destructive",title:"Error",description:((D=(R=S.response)==null?void 0:R.data)==null?void 0:D.message)||"Failed to delete course"})}}),w=S=>{l(S),e(!0)},x=S=>{l(S),n(!0)},_=S=>{l(S),i(!0)};function b(S){a&&m.mutate({id:a.id,data:S})}const j=(v==null?void 0:v.instructors)||v||[];if(h)return o.jsx(In,{columnCount:7,rowCount:10});if(p)return o.jsx("div",{children:"Error loading courses"});const E=d||[];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Courses"}),o.jsx(DB,{})]}),o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Title"}),o.jsx(xe,{children:"Instructor"}),o.jsx(xe,{children:"Instrument"}),o.jsx(xe,{children:"Level"}),o.jsx(xe,{children:"Status"}),o.jsx(xe,{children:"Students"}),o.jsx(xe,{children:"Actions"})]})}),o.jsx(Jr,{children:E.map(S=>o.jsxs(Ye,{children:[o.jsx(pe,{className:"font-medium",children:S.title}),o.jsx(pe,{children:S.instructor_name||"-"}),o.jsx(pe,{children:S.instrument||"-"}),o.jsx(pe,{children:S.level}),o.jsx(pe,{children:o.jsx(Xn,{variant:S.is_active?"default":"secondary",children:S.is_active?"active":"inactive"})}),o.jsx(pe,{children:S.total_students||0}),o.jsx(pe,{children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>w(S),title:"View Details",children:o.jsx(wh,{className:"h-4 w-4"})}),o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>x(S),title:"Edit",children:o.jsx(Nc,{className:"h-4 w-4"})}),o.jsx(re,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>_(S),title:"Delete",children:o.jsx(Zn,{className:"h-4 w-4"})}),o.jsx(OB,{courseId:S.id,courseTitle:S.title}),o.jsx(PB,{courseId:S.id,courseTitle:S.title})]})})]},S.id))})]})}),o.jsx(Rt,{open:t,onOpenChange:e,children:o.jsxs(_t,{className:"sm:max-w-[600px]",children:[o.jsx(bt,{children:o.jsx(jt,{children:"Course Details"})}),a&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Title"}),o.jsx("p",{className:"text-sm font-semibold",children:a.title||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),o.jsx("p",{className:"text-sm",children:o.jsx(Xn,{variant:a.is_active?"default":"secondary",children:a.is_active?"Active":"Inactive"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Instructor"}),o.jsx("p",{className:"text-sm",children:a.instructor_name||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Instrument"}),o.jsx("p",{className:"text-sm",children:a.instrument||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Level"}),o.jsx("p",{className:"text-sm",children:a.level||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Max Students"}),o.jsx("p",{className:"text-sm",children:a.max_students||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Duration (Weeks)"}),o.jsx("p",{className:"text-sm",children:a.duration_weeks||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Sessions/Week"}),o.jsx("p",{className:"text-sm",children:a.sessions_per_week||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Price"}),o.jsx("p",{className:"text-sm",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(a.price||a.price_per_session||0)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Students"}),o.jsx("p",{className:"text-sm",children:a.total_students||0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Description"}),o.jsx("p",{className:"text-sm",children:a.description||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),o.jsx("p",{className:"text-sm",children:a.created_at?new Date(a.created_at).toLocaleDateString():"-"})]})]}),o.jsx(Ht,{children:o.jsx(re,{variant:"outline",onClick:()=>e(!1),children:"Close"})})]})}),o.jsx(Rt,{open:r,onOpenChange:n,children:o.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Edit Course"}),o.jsx(Jt,{children:"Update course information."})]}),o.jsx(ir,{...g,children:o.jsxs("form",{onSubmit:g.handleSubmit(b),className:"space-y-4",children:[o.jsx(V,{control:g.control,name:"title",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Title"}),o.jsx(B,{children:o.jsx(Y,{...S})}),o.jsx(G,{})]})}),o.jsx(V,{control:g.control,name:"description",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Description"}),o.jsx(B,{children:o.jsx(Y,{...S})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:g.control,name:"instrument",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Instrument"}),o.jsx(B,{children:o.jsx(Y,{...S})}),o.jsx(G,{})]})}),o.jsx(V,{control:g.control,name:"level",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Level"}),o.jsxs(nt,{onValueChange:S.onChange,value:S.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select level"})})}),o.jsxs(et,{children:[o.jsx(Ue,{value:"Beginner",children:"Beginner"}),o.jsx(Ue,{value:"Intermediate",children:"Intermediate"}),o.jsx(Ue,{value:"Advanced",children:"Advanced"})]})]}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:g.control,name:"instructor_id",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Instructor"}),o.jsxs(nt,{onValueChange:S.onChange,value:S.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select instructor"})})}),o.jsx(et,{children:j.map(R=>o.jsx(Ue,{value:R.user_id||R.id,children:R.full_name||R.name},R.user_id||R.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:g.control,name:"max_students",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Max Students"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...S})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(V,{control:g.control,name:"duration_weeks",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Duration (Weeks)"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...S})}),o.jsx(G,{})]})}),o.jsx(V,{control:g.control,name:"sessions_per_week",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Sessions/Week"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...S})}),o.jsx(G,{})]})}),o.jsx(V,{control:g.control,name:"price",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Price"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...S})}),o.jsx(G,{})]})})]}),o.jsx(V,{control:g.control,name:"is_active",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Status"}),o.jsxs(nt,{onValueChange:R=>S.onChange(R==="true"),value:S.value?"true":"false",children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{})})}),o.jsxs(et,{children:[o.jsx(Ue,{value:"true",children:"Active"}),o.jsx(Ue,{value:"false",children:"Inactive"})]})]}),o.jsx(G,{})]})}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:m.isPending,children:m.isPending?"Saving...":"Save Changes"})]})]})})]})}),o.jsx(Ro,{open:s,onOpenChange:i,children:o.jsxs(Si,{children:[o.jsxs(Ei,{children:[o.jsx(ki,{children:"Are you sure?"}),o.jsxs(Ni,{children:['This will permanently delete the course "',a==null?void 0:a.title,'". This action cannot be undone.']})]}),o.jsxs(Ci,{children:[o.jsx(Ri,{children:"Cancel"}),o.jsx(Ti,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{a&&y.mutate(a.id)},children:y.isPending?"Deleting...":"Delete"})]})]})})]})}function FB(){const{toast:t}=pr(),e=Sr(),[r,n]=f.useState(null),[s,i]=f.useState(""),[a,l]=f.useState(!1),{data:c,isLoading:u,error:d}=Vy(),{data:h=[]}=$h(),{data:p=[]}=al(),{data:v=[]}=Lh(),g=f.useMemo(()=>{const T={};return h.forEach(C=>{C&&C.id&&(T[C.id]=C.full_name||C.name||C.email||C.id)}),T},[h]),m=f.useMemo(()=>{const T={};return h.forEach(C=>{C&&C.id&&(T[C.id]=C.school||"-")}),T},[h]),y=f.useMemo(()=>{const T={},C=F=>{try{return new Date(F).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return F}},A=F=>{try{return new Date(F).toLocaleDateString("en-US",{weekday:"long"})}catch{return"TBD"}};return Array.isArray(v)&&v.forEach(F=>{const z=F.slots||F.schedule||F.timings;if(Array.isArray(z)&&z.forEach(H=>{if(H.id){let J;if(H.start_time&&H.start_time.includes("T")){const ce=A(H.start_time),P=C(H.start_time),Q=C(H.end_time);J=`${ce} ${P} - ${Q}`}else J=`${H.day_of_week||H.day||"TBD"} ${H.start_time||H.start||""} - ${H.end_time||H.end||""}`;T[H.id]=J}}),F.id&&F.start_time&&F.end_time){let H;if(F.start_time.includes("T")){const J=A(F.start_time),ce=C(F.start_time),P=C(F.end_time);H=`${J} ${ce} - ${P}`}else H=`${F.day_of_week||"TBD"} ${F.start_time} - ${F.end_time}`;T[F.id]=H}}),console.log("Slots map:",T),T},[v]),w=f.useMemo(()=>{const T={};return p.forEach(C=>{C&&C.id&&(T[C.id]=C.title||C.name||C.id)}),T},[p]),x=f.useMemo(()=>{if(!r||!v||v.length===0)return[];console.log("Selected Booking:",r),console.log("All Schedules Data:",v);const T=Array.isArray(v)?v.filter(A=>A.course_id===r.course_id):[];console.log("Filtered Course Schedules:",T);const C=[];return T.forEach(A=>{console.log("Processing Schedule:",A);let F=[];const z=A.slots||A.schedule||A.timings;Array.isArray(z)?(F=z,console.log("Found nested slots:",z)):A.start_time&&A.end_time&&(F=[A],console.log("Found flat schedule structure with ISO datetime, treating as slot")),F.forEach(H=>{try{const J=K=>new Date(K).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),ce=K=>new Date(K).toLocaleDateString("en-US",{weekday:"long"});let P,Q,ie,$;H.day_of_week?(P=H.id||`${A.id}-${H.day_of_week}-${H.start_time}`,Q=H.day_of_week||H.day||"TBD",ie=H.start_time||H.start||"00:00",$=H.end_time||H.end||"00:00"):H.start_time&&H.end_time&&(H.start_time.includes("T")||H.start_time.includes(":"))?(P=H.id||`${A.id}-${H.start_time}-${H.end_time}`,Q=ce(H.start_time),ie=J(H.start_time),$=J(H.end_time)):(P=H.id||`${A.id}-slot`,Q="TBD",ie=H.start_time||H.start||"00:00",$=H.end_time||H.end||"00:00"),C.push({id:P,schedule_id:A.id,time:`${Q} ${ie} - ${$}`,day_of_week:Q,start_time:ie,end_time:$})}catch(J){console.error("Error processing slot:",H,J)}})}),console.log("Final Available Slots:",C),C},[r,v]),_=ht({mutationFn:T=>Re.post(`/booking/${T}/confirm`),onSuccess:()=>{e.invalidateQueries({queryKey:Fe.bookings()}),t({title:"Success",description:"Booking confirmed successfully"})},onError:T=>{var C,A;t({variant:"destructive",title:"Error",description:((A=(C=T.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to confirm booking"})}}),b=ht({mutationFn:T=>Re.post(`/booking/${T}/cancel`),onSuccess:()=>{e.invalidateQueries({queryKey:Fe.bookings()}),t({title:"Success",description:"Booking cancelled successfully"})},onError:T=>{var C,A;t({variant:"destructive",title:"Error",description:((A=(C=T.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to cancel booking"})}}),j=ht({mutationFn:({bookingId:T,slotId:C,scheduleId:A})=>Re.post(`/booking/api/admin/bookings/${T}/assign-slot`,{slot_id:C,schedule_id:A}),onSuccess:()=>{e.invalidateQueries({queryKey:Fe.bookings()}),l(!1),n(null),i(""),t({title:"Success",description:"Slot assigned successfully"})},onError:T=>{var C,A;t({variant:"destructive",title:"Error",description:((A=(C=T.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to assign slot"})}}),E=()=>{if(r&&s){const T=x.find(C=>C.id===s);T&&T.schedule_id?j.mutate({bookingId:r.id,slotId:s,scheduleId:T.schedule_id}):t({variant:"destructive",title:"Error",description:"Could not find schedule information for selected slot"})}};if(u)return o.jsx(In,{columnCount:8,rowCount:10});if(d)return o.jsx("div",{children:"Error loading bookings"});const S=Array.isArray(c)?c:(c==null?void 0:c.bookings)||[];console.log("Bookings data:",S),console.log("Student map:",g),console.log("Course map:",w),console.log("Schedules data:",v);const R=T=>{var F,z,H,J,ce,P,Q,ie,$,K;const C=T.first_choice_slot_id||T.first_preference_slot_id||((z=(F=T.slot_preferences)==null?void 0:F[0])==null?void 0:z.slot_id)||((J=(H=T.slot_preferences)==null?void 0:H[0])==null?void 0:J.id)||((ce=T.preferences)==null?void 0:ce.first_slot_id)||T.first_slot_id||T.schedule_id;if(C&&y[C])return y[C];const A=T.first_preference||((Q=(P=T.slot_preferences)==null?void 0:P[0])==null?void 0:Q.day_time)||(($=(ie=T.slot_preferences)==null?void 0:ie[0])==null?void 0:$.display_text)||((K=T.preferences)==null?void 0:K.first);return A||"-"},D=T=>{var F,z,H,J,ce,P,Q,ie,$,K;const C=T.second_choice_slot_id||T.second_preference_slot_id||((z=(F=T.slot_preferences)==null?void 0:F[1])==null?void 0:z.slot_id)||((J=(H=T.slot_preferences)==null?void 0:H[1])==null?void 0:J.id)||((ce=T.preferences)==null?void 0:ce.second_slot_id)||T.second_slot_id;if(C&&y[C])return y[C];const A=T.second_preference||((Q=(P=T.slot_preferences)==null?void 0:P[1])==null?void 0:Q.day_time)||(($=(ie=T.slot_preferences)==null?void 0:ie[1])==null?void 0:$.display_text)||((K=T.preferences)==null?void 0:K.second);return A||"-"};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Bookings"})}),o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Name"}),o.jsx(xe,{children:"School"}),o.jsx(xe,{children:"Course"}),o.jsx(xe,{children:"First Choice"}),o.jsx(xe,{children:"Second Choice"}),o.jsx(xe,{children:"Date"}),o.jsx(xe,{children:"Status"}),o.jsx(xe,{className:"text-right",children:"Actions"})]})}),o.jsx(Jr,{children:S.map(T=>o.jsxs(Ye,{children:[o.jsx(pe,{className:"font-medium",children:T.applicant_full_name||g[T.user_id]||T.user_id||"-"}),o.jsx(pe,{children:T.applicant_school||m[T.user_id]||"-"}),o.jsx(pe,{children:w[T.course_id]||T.course_id}),o.jsx(pe,{children:R(T)}),o.jsx(pe,{children:D(T)}),o.jsx(pe,{children:new Date(T.created_at).toLocaleDateString()}),o.jsx(pe,{children:o.jsx(Xn,{variant:T.status==="confirmed"?"default":"secondary",children:T.status})}),o.jsx(pe,{children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[T.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(re,{variant:"outline",size:"sm",className:"text-green-600 hover:text-green-700",onClick:()=>_.mutate(T.id),disabled:_.isPending,children:[o.jsx(BP,{className:"h-4 w-4 mr-1"})," Confirm"]}),o.jsx(re,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>{confirm("Are you sure you want to cancel this booking?")&&b.mutate(T.id)},disabled:b.isPending,children:"Cancel"})]}),T.status==="confirmed"&&o.jsx(re,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>{confirm("Are you sure you want to cancel this confirmed booking?")&&b.mutate(T.id)},disabled:b.isPending,children:"Cancel"})]})})]},T.id))})]})}),o.jsx(Rt,{open:a,onOpenChange:l,children:o.jsxs(_t,{children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Assign Slot"}),o.jsxs(Jt,{children:["Assign a time slot for ",(r==null?void 0:r.applicant_full_name)||g[r==null?void 0:r.user_id]||(r==null?void 0:r.user_id),"'s booking."]})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[x.length===0&&o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded text-sm text-yellow-800",children:[o.jsx("p",{className:"font-semibold mb-2",children:"No slots available"}),o.jsxs("p",{className:"text-xs",children:["Available schedules: ",Array.isArray(v)?v.length:0]}),o.jsxs("p",{className:"text-xs",children:["Booking course_id: ",r==null?void 0:r.course_id]}),o.jsxs("p",{className:"text-xs",children:["Debug - Slots count: ",x.length]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsxs(qn,{htmlFor:"slot",className:"text-right",children:["Slot ",x.length>0&&`(${x.length})`]}),o.jsxs(nt,{onValueChange:i,value:s,children:[o.jsx(Xe,{className:"col-span-3",children:o.jsx(st,{placeholder:x.length===0?"No slots available":"Select a slot"})}),o.jsx(et,{children:x.length>0?x.map(T=>o.jsx(Ue,{value:T.id,children:T.time},T.id)):o.jsx("div",{className:"p-2 text-sm text-gray-500",children:"No slots available for this course"})})]})]})]}),o.jsx(Ht,{children:o.jsx(re,{onClick:E,disabled:j.isPending||x.length===0,children:j.isPending?"Assigning...":"Assign Slot"})})]})})]})}const D_=Lt({email:ee().email("Invalid email address"),full_name:ee().min(2,"Full name is required"),phone_number:ee().optional(),wa_number:ee().optional(),bio:ee().optional(),specialization:ee().optional()});function MB(){const[t,e]=f.useState(!1),[r,n]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),[c,u]=f.useState(null),{toast:d}=pr(),h=Sr(),{data:p,isLoading:v,error:g}=Lc(),m=nr({resolver:sr(D_),defaultValues:{email:"",full_name:"",phone_number:"",wa_number:"",bio:"",specialization:""}}),y=nr({resolver:sr(D_.omit({email:!0})),defaultValues:{full_name:"",phone_number:"",wa_number:"",bio:"",specialization:""}}),w=ht({mutationFn:C=>Re.post("/api/admin/instructor",C),onSuccess:()=>{h.invalidateQueries({queryKey:Fe.instructors()}),e(!1),m.reset(),d({title:"Success",description:"Instructor created successfully"})},onError:C=>{var A,F;d({variant:"destructive",title:"Error",description:((F=(A=C.response)==null?void 0:A.data)==null?void 0:F.message)||"Failed to create instructor"})}}),x=ht({mutationFn:({id:C,data:A})=>Re.put(`/api/admin/instructor/${C}`,A),onSuccess:()=>{h.invalidateQueries({queryKey:Fe.instructors()}),n(!1),u(null),y.reset(),d({title:"Success",description:"Instructor updated successfully"})},onError:C=>{var A,F;d({variant:"destructive",title:"Error",description:((F=(A=C.response)==null?void 0:A.data)==null?void 0:F.message)||"Failed to update instructor"})}}),_=ht({mutationFn:C=>Re.delete(`/api/admin/instructor/${C}`),onSuccess:()=>{h.invalidateQueries({queryKey:Fe.instructors()}),l(!1),u(null),d({title:"Success",description:"Instructor deleted successfully"})},onError:C=>{var A,F;d({variant:"destructive",title:"Error",description:((F=(A=C.response)==null?void 0:A.data)==null?void 0:F.message)||"Failed to delete instructor"})}}),b=C=>{u(C),y.reset({full_name:C.full_name||"",phone_number:C.phone_number||"",wa_number:C.wa_number||"",bio:C.bio||"",specialization:C.specialization||""}),n(!0)},j=C=>{u(C),i(!0)},E=C=>{u(C),l(!0)};function S(C){w.mutate(C)}function R(C){c&&x.mutate({id:c.user_id||c.id,data:C})}if(v)return o.jsx(In,{columnCount:6,rowCount:10});if(g)return o.jsx("div",{className:"p-4 text-red-500",children:"Error loading instructors"});const D=(p==null?void 0:p.instructors)||p||[],T=Array.isArray(D)?D.map((C,A)=>typeof C=="string"?{id:`instructor-${A}`,user_id:`instructor-${A}`,full_name:C,email:"-",phone_number:"-",wa_number:"-",bio:"-",specialization:"-"}:C):[];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Instructors"}),o.jsxs(Rt,{open:t,onOpenChange:e,children:[o.jsx(Es,{asChild:!0,children:o.jsxs(re,{children:[o.jsx(dn,{className:"mr-2 h-4 w-4"})," Create Instructor"]})}),o.jsxs(_t,{className:"sm:max-w-[500px]",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Create Instructor"}),o.jsx(Jt,{children:"Add a new instructor to the system. An account will be created for them."})]}),o.jsx(ir,{...m,children:o.jsxs("form",{onSubmit:m.handleSubmit(S),className:"space-y-4",children:[o.jsx(V,{control:m.control,name:"email",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Email *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"instructor@example.com",...C})}),o.jsx(G,{})]})}),o.jsx(V,{control:m.control,name:"full_name",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Full Name *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Jane Smith",...C})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:m.control,name:"phone_number",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Phone Number"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"+628123456789",...C})}),o.jsx(G,{})]})}),o.jsx(V,{control:m.control,name:"wa_number",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"WhatsApp Number"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"+628123456789",...C})}),o.jsx(G,{})]})})]}),o.jsx(V,{control:m.control,name:"specialization",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Specialization"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Guitar, Piano, Violin",...C})}),o.jsx(G,{})]})}),o.jsx(V,{control:m.control,name:"bio",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Bio"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Experienced music instructor...",...C})}),o.jsx(G,{})]})}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:w.isPending,children:w.isPending?"Creating...":"Create Instructor"})]})]})})]})]})]}),o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Name"}),o.jsx(xe,{children:"Email"}),o.jsx(xe,{children:"Phone"}),o.jsx(xe,{children:"Specialization"}),o.jsx(xe,{className:"text-right",children:"Actions"})]})}),o.jsx(Jr,{children:T.length>0?T.map(C=>o.jsxs(Ye,{children:[o.jsx(pe,{className:"font-medium",children:C.full_name}),o.jsx(pe,{children:C.email||"-"}),o.jsx(pe,{children:C.phone_number||C.wa_number||"-"}),o.jsx(pe,{children:C.specialization||"-"}),o.jsxs(pe,{className:"text-right space-x-1",children:[o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>j(C),title:"View Details",children:o.jsx(wh,{className:"h-4 w-4"})}),o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>b(C),title:"Edit",children:o.jsx(Nc,{className:"h-4 w-4"})}),o.jsx(re,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>E(C),title:"Delete",children:o.jsx(Zn,{className:"h-4 w-4"})})]})]},C.user_id||C.id)):o.jsx(Ye,{children:o.jsx(pe,{colSpan:5,className:"text-center py-4 text-gray-500",children:"No instructors found"})})})]})}),o.jsx(Rt,{open:s,onOpenChange:i,children:o.jsxs(_t,{className:"sm:max-w-[500px]",children:[o.jsx(bt,{children:o.jsx(jt,{children:"Instructor Details"})}),c&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),o.jsx("p",{className:"text-sm",children:c.full_name||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),o.jsx("p",{className:"text-sm",children:c.email||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),o.jsx("p",{className:"text-sm",children:c.phone_number||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"WhatsApp"}),o.jsx("p",{className:"text-sm",children:c.wa_number||"-"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Specialization"}),o.jsx("p",{className:"text-sm",children:c.specialization||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Bio"}),o.jsx("p",{className:"text-sm",children:c.bio||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),o.jsx("p",{className:"text-sm",children:c.created_at?new Date(c.created_at).toLocaleDateString():"-"})]})]}),o.jsx(Ht,{children:o.jsx(re,{variant:"outline",onClick:()=>i(!1),children:"Close"})})]})}),o.jsx(Rt,{open:r,onOpenChange:n,children:o.jsxs(_t,{className:"sm:max-w-[500px]",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Edit Instructor"}),o.jsx(Jt,{children:"Update instructor information."})]}),o.jsx(ir,{...y,children:o.jsxs("form",{onSubmit:y.handleSubmit(R),className:"space-y-4",children:[o.jsx(V,{control:y.control,name:"full_name",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Full Name *"}),o.jsx(B,{children:o.jsx(Y,{...C})}),o.jsx(G,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:y.control,name:"phone_number",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Phone Number"}),o.jsx(B,{children:o.jsx(Y,{...C})}),o.jsx(G,{})]})}),o.jsx(V,{control:y.control,name:"wa_number",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"WhatsApp Number"}),o.jsx(B,{children:o.jsx(Y,{...C})}),o.jsx(G,{})]})})]}),o.jsx(V,{control:y.control,name:"specialization",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Specialization"}),o.jsx(B,{children:o.jsx(Y,{...C})}),o.jsx(G,{})]})}),o.jsx(V,{control:y.control,name:"bio",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Bio"}),o.jsx(B,{children:o.jsx(Y,{...C})}),o.jsx(G,{})]})}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:x.isPending,children:x.isPending?"Saving...":"Save Changes"})]})]})})]})}),o.jsx(Ro,{open:a,onOpenChange:l,children:o.jsxs(Si,{children:[o.jsxs(Ei,{children:[o.jsx(ki,{children:"Are you sure?"}),o.jsxs(Ni,{children:['This will permanently delete the instructor "',c==null?void 0:c.full_name,'". This action cannot be undone.']})]}),o.jsxs(Ci,{children:[o.jsx(Ri,{children:"Cancel"}),o.jsx(Ti,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{c&&_.mutate(c.user_id||c.id)},children:_.isPending?"Deleting...":"Delete"})]})]})})]})}const UB=Lt({schedule:To(Lt({day_of_week:ee().min(1,"Day is required"),start_time:ee().min(1,"Start time is required"),end_time:ee().min(1,"End time is required"),is_available:Ba().default(!0)})).min(1,"At least one schedule block is required")});function VB({roomId:t,roomName:e,trigger:r}){const[n,s]=f.useState(!1),{toast:i}=pr(),a=Sr(),l=nr({resolver:sr(UB),defaultValues:{schedule:[{day_of_week:"monday",start_time:"09:00",end_time:"17:00",is_available:!0}]}}),{fields:c,append:u,remove:d}=uc({control:l.control,name:"schedule"}),h=ht({mutationFn:async g=>(await Re.post(`/api/admin/rooms/${t}/availability`,g)).data,onSuccess:()=>{i({title:"Success",description:"Room availability updated successfully"}),a.invalidateQueries({queryKey:["rooms"]}),s(!1),l.reset()},onError:g=>{var m,y;i({variant:"destructive",title:"Error",description:((y=(m=g.response)==null?void 0:m.data)==null?void 0:y.message)||"Failed to update availability"})}}),p=g=>{h.mutate(g)},v=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return o.jsxs(Rt,{open:n,onOpenChange:s,children:[o.jsx(Es,{asChild:!0,children:r||o.jsx(re,{variant:"outline",size:"sm",children:"Availability"})}),o.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(bt,{children:[o.jsxs(jt,{children:["Setup Availability for ",e]}),o.jsx(Jt,{children:"Define when this room is available for booking."})]}),o.jsx(ir,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(p),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Availability Blocks"}),o.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>u({day_of_week:"monday",start_time:"09:00",end_time:"17:00",is_available:!0}),children:[o.jsx(dn,{className:"h-4 w-4 mr-2"}),"Add Block"]})]}),c.map((g,m)=>o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end border p-2 rounded",children:[o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:l.control,name:`schedule.${m}.day_of_week`,render:({field:y})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Day"}),o.jsxs(nt,{onValueChange:y.onChange,defaultValue:y.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{})})}),o.jsx(et,{children:v.map(w=>o.jsx(Ue,{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))})]})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:l.control,name:`schedule.${m}.start_time`,render:({field:y})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Start"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...y})})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:l.control,name:`schedule.${m}.end_time`,render:({field:y})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"End"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...y})})]})})}),o.jsx("div",{className:"col-span-2 flex items-center justify-center pb-2",children:o.jsx(V,{control:l.control,name:`schedule.${m}.is_available`,render:({field:y})=>o.jsxs(U,{className:"flex flex-row items-start space-x-2 space-y-0",children:[o.jsx(B,{children:o.jsx(Bi,{checked:y.value,onCheckedChange:y.onChange})}),o.jsx(W,{className:"text-xs font-normal",children:"Active"})]})})}),o.jsx("div",{className:"col-span-1",children:o.jsx(re,{type:"button",variant:"ghost",size:"icon",onClick:()=>d(m),disabled:c.length===1,children:o.jsx(Zn,{className:"h-4 w-4 text-red-500"})})})]},g.id))]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:h.isPending,children:h.isPending?"Saving...":"Save Availability"})]})]})})]})]})}const $_=Lt({name:ee().min(2),capacity:wr.number().min(1),description:ee().optional()});function BB(){const[t,e]=f.useState(!1),[r,n]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(null),{toast:c}=pr(),u=Sr(),{data:d,isLoading:h,error:p}=Fc(),v=nr({resolver:sr($_),defaultValues:{name:"",capacity:1,description:""}}),g=nr({resolver:sr($_),defaultValues:{name:"",capacity:1,description:""}});f.useEffect(()=>{a&&g.reset({name:a.name||"",capacity:a.capacity||1,description:a.description||""})},[a,g]);const m=ht({mutationFn:S=>Re.post("/api/admin/rooms",S),onSuccess:()=>{u.invalidateQueries({queryKey:Fe.rooms()}),e(!1),v.reset(),c({title:"Success",description:"Room created successfully"})},onError:S=>{var R,D;c({variant:"destructive",title:"Error",description:((D=(R=S.response)==null?void 0:R.data)==null?void 0:D.message)||"Failed to create room"})}}),y=ht({mutationFn:({id:S,data:R})=>Re.put(`/api/admin/rooms/${S}`,R),onSuccess:()=>{u.invalidateQueries({queryKey:Fe.rooms()}),n(!1),l(null),g.reset(),c({title:"Success",description:"Room updated successfully"})},onError:S=>{var R,D;c({variant:"destructive",title:"Error",description:((D=(R=S.response)==null?void 0:R.data)==null?void 0:D.message)||"Failed to update room"})}}),w=ht({mutationFn:S=>Re.delete(`/api/admin/rooms/${S}`),onSuccess:()=>{u.invalidateQueries({queryKey:Fe.rooms()}),i(!1),l(null),c({title:"Success",description:"Room deleted successfully"})},onError:S=>{var R,D;c({variant:"destructive",title:"Error",description:((D=(R=S.response)==null?void 0:R.data)==null?void 0:D.message)||"Failed to delete room"})}});function x(S){m.mutate(S)}function _(S){a&&y.mutate({id:a.id,data:S})}const b=S=>{l(S),n(!0)},j=S=>{l(S),i(!0)};if(h)return o.jsx(In,{columnCount:4,rowCount:5});if(p)return o.jsx("div",{children:"Error loading rooms"});const E=d||[];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Rooms"}),o.jsxs(Rt,{open:t,onOpenChange:e,children:[o.jsx(Es,{asChild:!0,children:o.jsxs(re,{children:[o.jsx(dn,{className:"mr-2 h-4 w-4"})," Add Room"]})}),o.jsxs(_t,{className:"sm:max-w-[425px]",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Add Room"}),o.jsx(Jt,{children:"Create a new room for classes."})]}),o.jsx(ir,{...v,children:o.jsxs("form",{onSubmit:v.handleSubmit(x),className:"space-y-4",children:[o.jsx(V,{control:v.control,name:"name",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Name"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Studio A",...S})}),o.jsx(G,{})]})}),o.jsx(V,{control:v.control,name:"capacity",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Capacity"}),o.jsx(B,{children:o.jsx(Y,{type:"number",placeholder:"5",...S})}),o.jsx(G,{})]})}),o.jsx(V,{control:v.control,name:"description",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Description"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"Main practice room",...S})}),o.jsx(G,{})]})}),o.jsx(Ht,{children:o.jsx(re,{type:"submit",disabled:m.isPending,children:m.isPending?"Saving...":"Save changes"})})]})})]})]})]}),o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Name"}),o.jsx(xe,{children:"Capacity"}),o.jsx(xe,{children:"Description"}),o.jsx(xe,{children:"Actions"})]})}),o.jsx(Jr,{children:E.map(S=>o.jsxs(Ye,{children:[o.jsx(pe,{className:"font-medium",children:S.name}),o.jsx(pe,{children:S.capacity}),o.jsx(pe,{children:S.description||"-"}),o.jsx(pe,{children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>b(S),title:"Edit",children:o.jsx(Nc,{className:"h-4 w-4"})}),o.jsx(re,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(S),title:"Delete",children:o.jsx(Zn,{className:"h-4 w-4"})}),o.jsx(VB,{roomId:S.id,roomName:S.name})]})})]},S.id))})]})}),o.jsx(Rt,{open:r,onOpenChange:n,children:o.jsxs(_t,{className:"sm:max-w-[425px]",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Edit Room"}),o.jsx(Jt,{children:"Update room information."})]}),o.jsx(ir,{...g,children:o.jsxs("form",{onSubmit:g.handleSubmit(_),className:"space-y-4",children:[o.jsx(V,{control:g.control,name:"name",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Name"}),o.jsx(B,{children:o.jsx(Y,{...S})}),o.jsx(G,{})]})}),o.jsx(V,{control:g.control,name:"capacity",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Capacity"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...S})}),o.jsx(G,{})]})}),o.jsx(V,{control:g.control,name:"description",render:({field:S})=>o.jsxs(U,{children:[o.jsx(W,{children:"Description"}),o.jsx(B,{children:o.jsx(Y,{...S})}),o.jsx(G,{})]})}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:y.isPending,children:y.isPending?"Saving...":"Save Changes"})]})]})})]})}),o.jsx(Ro,{open:s,onOpenChange:i,children:o.jsxs(Si,{children:[o.jsxs(Ei,{children:[o.jsx(ki,{children:"Are you sure?"}),o.jsxs(Ni,{children:['This will permanently delete the room "',a==null?void 0:a.name,'". This action cannot be undone.']})]}),o.jsxs(Ci,{children:[o.jsx(Ri,{children:"Cancel"}),o.jsx(Ti,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{a&&w.mutate(a.id)},children:w.isPending?"Deleting...":"Delete"})]})]})})]})}const zB=Lt({email:ee().email("Invalid email address"),full_name:ee().min(2,"Full name is required"),phone_number:ee().optional(),role:Sy(["admin","instructor","student"])}),WB=Lt({full_name:ee().min(2,"Full name is required"),phone_number:ee().optional()});function qB(){const[t,e]=f.useState(!1),[r,n]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),[c,u]=f.useState(null),{toast:d}=pr(),h=Sr(),{data:p,isLoading:v,error:g}=$h(),m=nr({resolver:sr(zB),defaultValues:{email:"",full_name:"",phone_number:"",role:"student"}}),y=nr({resolver:sr(WB),defaultValues:{full_name:"",phone_number:""}});f.useEffect(()=>{c&&y.reset({full_name:c.full_name||"",phone_number:c.phone_number||""})},[c,y]);const w=ht({mutationFn:C=>Re.post("/api/admin/users",C),onSuccess:()=>{h.invalidateQueries({queryKey:Fe.users()}),e(!1),m.reset(),d({title:"Success",description:"User created successfully"})},onError:C=>{var A,F;d({variant:"destructive",title:"Error",description:((F=(A=C.response)==null?void 0:A.data)==null?void 0:F.message)||"Failed to create user"})}}),x=ht({mutationFn:({id:C,data:A})=>Re.put(`/api/admin/users/${C}`,A),onSuccess:()=>{h.invalidateQueries({queryKey:Fe.users()}),n(!1),u(null),y.reset(),d({title:"Success",description:"User updated successfully"})},onError:C=>{var A,F;d({variant:"destructive",title:"Error",description:((F=(A=C.response)==null?void 0:A.data)==null?void 0:F.message)||"Failed to update user"})}}),_=ht({mutationFn:C=>Re.delete(`/api/admin/users/${C}`),onSuccess:()=>{h.invalidateQueries({queryKey:Fe.users()}),l(!1),u(null),d({title:"Success",description:"User deleted successfully"})},onError:C=>{var A,F;d({variant:"destructive",title:"Error",description:((F=(A=C.response)==null?void 0:A.data)==null?void 0:F.message)||"Failed to delete user"})}}),b=C=>{u(C),i(!0)},j=C=>{u(C),n(!0)},E=C=>{u(C),l(!0)};function S(C){w.mutate(C)}function R(C){c&&x.mutate({id:c.id,data:C})}if(v)return o.jsx(In,{columnCount:6,rowCount:10});if(g)return o.jsx("div",{className:"p-4 text-red-500",children:"Error loading users"});const D=Array.isArray(p)?p:[],T=C=>{switch(C){case"admin":return"destructive";case"instructor":return"default";case"student":return"secondary";default:return"outline"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Users"}),o.jsxs(Rt,{open:t,onOpenChange:e,children:[o.jsx(Es,{asChild:!0,children:o.jsxs(re,{children:[o.jsx(dn,{className:"mr-2 h-4 w-4"})," Add User"]})}),o.jsxs(_t,{className:"sm:max-w-[425px]",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Add User"}),o.jsx(Jt,{children:"Create a new user account."})]}),o.jsx(ir,{...m,children:o.jsxs("form",{onSubmit:m.handleSubmit(S),className:"space-y-4",children:[o.jsx(V,{control:m.control,name:"email",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Email *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"user@example.com",...C})}),o.jsx(G,{})]})}),o.jsx(V,{control:m.control,name:"full_name",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Full Name *"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"John Doe",...C})}),o.jsx(G,{})]})}),o.jsx(V,{control:m.control,name:"phone_number",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Phone Number"}),o.jsx(B,{children:o.jsx(Y,{placeholder:"+628123456789",...C})}),o.jsx(G,{})]})}),o.jsx(V,{control:m.control,name:"role",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Role *"}),o.jsxs(nt,{onValueChange:C.onChange,defaultValue:C.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select role"})})}),o.jsxs(et,{children:[o.jsx(Ue,{value:"student",children:"Student"}),o.jsx(Ue,{value:"instructor",children:"Instructor"}),o.jsx(Ue,{value:"admin",children:"Admin"})]})]}),o.jsx(G,{})]})}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:w.isPending,children:w.isPending?"Creating...":"Create User"})]})]})})]})]})]}),o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Name"}),o.jsx(xe,{children:"Email"}),o.jsx(xe,{children:"Role"}),o.jsx(xe,{children:"Phone"}),o.jsx(xe,{className:"text-right",children:"Actions"})]})}),o.jsx(Jr,{children:D.length>0?D.map(C=>o.jsxs(Ye,{children:[o.jsx(pe,{className:"font-medium",children:C.full_name||"-"}),o.jsx(pe,{children:C.email}),o.jsx(pe,{children:o.jsx(Xn,{variant:T(C.role),children:C.role})}),o.jsx(pe,{children:C.phone_number||"-"}),o.jsxs(pe,{className:"text-right space-x-1",children:[o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>b(C),title:"View Details",children:o.jsx(wh,{className:"h-4 w-4"})}),o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>j(C),title:"Edit",children:o.jsx(Nc,{className:"h-4 w-4"})}),o.jsx(re,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>E(C),title:"Delete",children:o.jsx(Zn,{className:"h-4 w-4"})})]})]},C.id)):o.jsx(Ye,{children:o.jsx(pe,{colSpan:5,className:"text-center py-4 text-gray-500",children:"No users found"})})})]})}),o.jsx(Rt,{open:s,onOpenChange:i,children:o.jsxs(_t,{className:"sm:max-w-[500px]",children:[o.jsx(bt,{children:o.jsx(jt,{children:"User Details"})}),c&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),o.jsx("p",{className:"text-sm",children:c.full_name||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),o.jsx("p",{className:"text-sm",children:c.email||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),o.jsx("p",{className:"text-sm",children:o.jsx(Xn,{variant:T(c.role),children:c.role})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),o.jsx("p",{className:"text-sm",children:c.phone_number||"-"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),o.jsx("p",{className:"text-sm",children:c.created_at?new Date(c.created_at).toLocaleDateString():"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Login"}),o.jsx("p",{className:"text-sm",children:c.last_login_at?new Date(c.last_login_at).toLocaleDateString():"-"})]})]}),o.jsx(Ht,{children:o.jsx(re,{variant:"outline",onClick:()=>i(!1),children:"Close"})})]})}),o.jsx(Rt,{open:r,onOpenChange:n,children:o.jsxs(_t,{className:"sm:max-w-[425px]",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Edit User"}),o.jsxs(Jt,{children:["Update user information for ",c==null?void 0:c.email,"."]})]}),o.jsx(ir,{...y,children:o.jsxs("form",{onSubmit:y.handleSubmit(R),className:"space-y-4",children:[o.jsx(V,{control:y.control,name:"full_name",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Full Name"}),o.jsx(B,{children:o.jsx(Y,{...C})}),o.jsx(G,{})]})}),o.jsx(V,{control:y.control,name:"phone_number",render:({field:C})=>o.jsxs(U,{children:[o.jsx(W,{children:"Phone Number"}),o.jsx(B,{children:o.jsx(Y,{...C})}),o.jsx(G,{})]})}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:x.isPending,children:x.isPending?"Saving...":"Save Changes"})]})]})})]})}),o.jsx(Ro,{open:a,onOpenChange:l,children:o.jsxs(Si,{children:[o.jsxs(Ei,{children:[o.jsx(ki,{children:"Are you sure?"}),o.jsxs(Ni,{children:['This will permanently delete the user "',(c==null?void 0:c.full_name)||(c==null?void 0:c.email),'". This action cannot be undone.']})]}),o.jsxs(Ci,{children:[o.jsx(Ri,{children:"Cancel"}),o.jsx(Ti,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{c&&_.mutate(c.id)},children:_.isPending?"Deleting...":"Delete"})]})]})})]})}const L_=Lt({course_id:ee().min(1,"Course is required"),instructor_id:ee().min(1,"Instructor is required"),room_id:ee().min(1,"Room is required"),start_date:ee().min(1,"Start date is required"),end_date:ee().min(1,"End date is required"),max_students:wr.number().min(1,"Max students must be at least 1"),schedule:To(Lt({day_of_week:ee().min(1,"Day is required"),start_time:ee().min(1,"Start time is required"),end_time:ee().min(1,"End time is required"),duration:wr.number().min(1,"Duration is required")})).min(1,"At least one schedule slot is required")});function HB(){const t=No(),[e,r]=f.useState(!1),[n,s]=f.useState(!1),[i,a]=f.useState(!1),[l,c]=f.useState(null),{toast:u}=pr(),d=Sr(),{data:h,isLoading:p,error:v}=Lh(),{data:g}=al(),{data:m}=Lc(),{data:y}=Fc(),w=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],x=nr({resolver:sr(L_),defaultValues:{course_id:"",instructor_id:"",room_id:"",start_date:"",end_date:"",max_students:5,schedule:[{day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}]}}),_=nr({resolver:sr(L_),defaultValues:{course_id:"",instructor_id:"",room_id:"",start_date:"",end_date:"",max_students:5,schedule:[{day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}]}}),{fields:b,append:j,remove:E}=uc({control:x.control,name:"schedule"}),{fields:S,append:R,remove:D}=uc({control:_.control,name:"schedule"});f.useEffect(()=>{l&&_.reset({course_id:l.course_id||"",instructor_id:l.instructor_id||"",room_id:l.room_id||"",start_date:l.start_date?l.start_date.split("T")[0]:"",end_date:l.end_date?l.end_date.split("T")[0]:"",max_students:l.max_students||5,schedule:l.schedule||l.slots||[{day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}]})},[l,_]);const T=ht({mutationFn:q=>Re.post("/api/admin/schedules",q),onSuccess:()=>{d.invalidateQueries({queryKey:Fe.schedules()}),r(!1),x.reset(),u({title:"Success",description:"Schedule created successfully"})},onError:q=>{var X,ne;u({variant:"destructive",title:"Error",description:((ne=(X=q.response)==null?void 0:X.data)==null?void 0:ne.message)||"Failed to create schedule"})}}),C=ht({mutationFn:({id:q,data:X})=>Re.put(`/api/admin/schedules/${q}`,X),onSuccess:()=>{d.invalidateQueries({queryKey:Fe.schedules()}),s(!1),c(null),_.reset(),u({title:"Success",description:"Schedule updated successfully"})},onError:q=>{var X,ne;u({variant:"destructive",title:"Error",description:((ne=(X=q.response)==null?void 0:X.data)==null?void 0:ne.message)||"Failed to update schedule"})}}),A=ht({mutationFn:q=>Re.delete(`/api/admin/schedules/${q}`),onSuccess:()=>{d.invalidateQueries({queryKey:Fe.schedules()}),a(!1),c(null),u({title:"Success",description:"Schedule deleted successfully"})},onError:q=>{var X,ne;u({variant:"destructive",title:"Error",description:((ne=(X=q.response)==null?void 0:X.data)==null?void 0:ne.message)||"Failed to delete schedule"})}}),F=q=>{const X=new URLSearchParams;q.course_id&&X.append("courseId",q.course_id),q.instructor_id&&X.append("instructorId",q.instructor_id),q.room_id&&X.append("roomId",q.room_id),t(`/schedules/details?${X.toString()}`)};function z(q){T.mutate(q)}function H(q){l&&C.mutate({id:l.id,data:q})}const J=g||[],ce=(m==null?void 0:m.instructors)||m||[],P=y||[],Q={};J.forEach(q=>{q&&q.id&&(Q[q.id]=q.title||q.name||q.id)});const ie={};ce.forEach(q=>{if(q){const X=q.user_id||q.id;ie[X]=q.full_name||q.name||X}});const $={};if(P.forEach(q=>{q&&q.id&&($[q.id]=q.name||q.id)}),p)return o.jsx(In,{columnCount:6,rowCount:10});if(v)return o.jsx("div",{className:"p-4 text-red-500",children:"Error loading schedules"});const he=(Array.isArray(h)?h:[]).reduce((q,X)=>{const ne=`${X.course_id}-${X.instructor_id}-${X.room_id}`;return q[ne]||(q[ne]={...X,items:[]}),q[ne].items.push(X),q},{}),Oe=Object.values(he);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Schedules"}),o.jsxs(Rt,{open:e,onOpenChange:r,children:[o.jsx(Es,{asChild:!0,children:o.jsxs(re,{children:[o.jsx(dn,{className:"mr-2 h-4 w-4"})," Create Schedule"]})}),o.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Create Schedule"}),o.jsx(Jt,{children:"Set up a new schedule for a course."})]}),o.jsx(ir,{...x,children:o.jsxs("form",{onSubmit:x.handleSubmit(z),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:x.control,name:"course_id",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Course"}),o.jsxs(nt,{onValueChange:q.onChange,value:q.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select course"})})}),o.jsx(et,{children:J.map(X=>o.jsx(Ue,{value:X.id,children:X.title||X.name},X.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:x.control,name:"instructor_id",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Instructor"}),o.jsxs(nt,{onValueChange:q.onChange,value:q.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select instructor"})})}),o.jsx(et,{children:ce.map(X=>o.jsx(Ue,{value:X.user_id||X.id,children:X.full_name||X.name},X.user_id||X.id))})]}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:x.control,name:"room_id",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Room"}),o.jsxs(nt,{onValueChange:q.onChange,value:q.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select room"})})}),o.jsx(et,{children:P.map(X=>o.jsx(Ue,{value:X.id,children:X.name},X.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:x.control,name:"max_students",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Max Students"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...q})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:x.control,name:"start_date",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Start Date"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...q})}),o.jsx(G,{})]})}),o.jsx(V,{control:x.control,name:"end_date",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"End Date"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...q})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Schedule Slots"}),o.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>j({day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}),children:[o.jsx(dn,{className:"h-4 w-4 mr-2"})," Add Slot"]})]}),b.map((q,X)=>o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end border p-2 rounded",children:[o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:x.control,name:`schedule.${X}.day_of_week`,render:({field:ne})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Day"}),o.jsxs(nt,{onValueChange:ne.onChange,value:ne.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{})})}),o.jsx(et,{children:w.map(Ae=>o.jsx(Ue,{value:Ae,children:Ae.charAt(0).toUpperCase()+Ae.slice(1)},Ae))})]}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:x.control,name:`schedule.${X}.start_time`,render:({field:ne})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Start"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...ne})}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:x.control,name:`schedule.${X}.end_time`,render:({field:ne})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"End"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...ne})}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-2",children:o.jsx(V,{control:x.control,name:`schedule.${X}.duration`,render:({field:ne})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Duration"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...ne})}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-1",children:b.length>1&&o.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>E(X),children:o.jsx(Zn,{className:"h-4 w-4"})})})]},q.id))]}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:T.isPending,children:T.isPending?"Creating...":"Create Schedule"})]})]})})]})]})]}),o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Course"}),o.jsx(xe,{children:"Instructor"}),o.jsx(xe,{children:"Room"}),o.jsx(xe,{children:"Start Date"}),o.jsx(xe,{children:"End Date"}),o.jsx(xe,{className:"text-right",children:"Actions"})]})}),o.jsx(Jr,{children:Oe.length>0?Oe.map((q,X)=>o.jsxs(Ye,{children:[o.jsx(pe,{className:"font-medium",children:Q[q.course_id]||q.course_id||"-"}),o.jsx(pe,{children:ie[q.instructor_id]||q.instructor_id||"-"}),o.jsx(pe,{children:$[q.room_id]||q.room_id||"-"}),o.jsx(pe,{children:q.start_date?new Date(q.start_date).toLocaleDateString():q.start_time?new Date(q.start_time).toLocaleDateString():"-"}),o.jsx(pe,{children:q.end_date?new Date(q.end_date).toLocaleDateString():q.end_time?new Date(q.end_time).toLocaleDateString():"-"}),o.jsx(pe,{className:"text-right space-x-1",children:o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>F(q),title:"View Details",children:o.jsx(wh,{className:"h-4 w-4"})})})]},X)):o.jsx(Ye,{children:o.jsx(pe,{colSpan:7,className:"text-center py-4 text-gray-500",children:"No schedules found"})})})]})}),o.jsx(Rt,{open:n,onOpenChange:s,children:o.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Edit Schedule"}),o.jsx(Jt,{children:"Update schedule information."})]}),o.jsx(ir,{..._,children:o.jsxs("form",{onSubmit:_.handleSubmit(H),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:_.control,name:"course_id",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Course"}),o.jsxs(nt,{onValueChange:q.onChange,value:q.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select course"})})}),o.jsx(et,{children:J.map(X=>o.jsx(Ue,{value:X.id,children:X.title||X.name},X.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:_.control,name:"instructor_id",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Instructor"}),o.jsxs(nt,{onValueChange:q.onChange,value:q.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select instructor"})})}),o.jsx(et,{children:ce.map(X=>o.jsx(Ue,{value:X.user_id||X.id,children:X.full_name||X.name},X.user_id||X.id))})]}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:_.control,name:"room_id",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Room"}),o.jsxs(nt,{onValueChange:q.onChange,value:q.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select room"})})}),o.jsx(et,{children:P.map(X=>o.jsx(Ue,{value:X.id,children:X.name},X.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:_.control,name:"max_students",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Max Students"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...q})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:_.control,name:"start_date",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"Start Date"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...q})}),o.jsx(G,{})]})}),o.jsx(V,{control:_.control,name:"end_date",render:({field:q})=>o.jsxs(U,{children:[o.jsx(W,{children:"End Date"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...q})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Schedule Slots"}),o.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>R({day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}),children:[o.jsx(dn,{className:"h-4 w-4 mr-2"})," Add Slot"]})]}),S.map((q,X)=>o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end border p-2 rounded",children:[o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:_.control,name:`schedule.${X}.day_of_week`,render:({field:ne})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Day"}),o.jsxs(nt,{onValueChange:ne.onChange,value:ne.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{})})}),o.jsx(et,{children:w.map(Ae=>o.jsx(Ue,{value:Ae,children:Ae.charAt(0).toUpperCase()+Ae.slice(1)},Ae))})]}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:_.control,name:`schedule.${X}.start_time`,render:({field:ne})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Start"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...ne})}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:_.control,name:`schedule.${X}.end_time`,render:({field:ne})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"End"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...ne})}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-2",children:o.jsx(V,{control:_.control,name:`schedule.${X}.duration`,render:({field:ne})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Duration"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...ne})}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-1",children:S.length>1&&o.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>D(X),children:o.jsx(Zn,{className:"h-4 w-4"})})})]},q.id))]}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:C.isPending,children:C.isPending?"Saving...":"Save Changes"})]})]})})]})}),o.jsx(Ro,{open:i,onOpenChange:a,children:o.jsxs(Si,{children:[o.jsxs(Ei,{children:[o.jsx(ki,{children:"Are you sure?"}),o.jsx(Ni,{children:"This will permanently delete this schedule. This action cannot be undone."})]}),o.jsxs(Ci,{children:[o.jsx(Ri,{children:"Cancel"}),o.jsx(Ti,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{l&&A.mutate(l.id)},children:A.isPending?"Deleting...":"Delete"})]})]})})]})}const KB=Lt({course_id:ee().min(1,"Course is required"),instructor_id:ee().min(1,"Instructor is required"),room_id:ee().min(1,"Room is required"),start_date:ee().min(1,"Start date is required"),end_date:ee().min(1,"End date is required"),max_students:wr.number().min(1,"Max students must be at least 1"),schedule:To(Lt({day_of_week:ee().min(1,"Day is required"),start_time:ee().min(1,"Start time is required"),end_time:ee().min(1,"End time is required"),duration:wr.number().min(1,"Duration is required")})).min(1,"At least one schedule slot is required")});function GB(){const[t]=RO(),e=No(),r=t.get("courseId"),n=t.get("instructorId"),s=t.get("roomId"),[i,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(null),{toast:h}=pr(),p=Sr(),{data:v,isLoading:g,error:m}=Lh(),{data:y}=al(),{data:w}=Lc(),{data:x}=Fc(),_=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],b=nr({resolver:sr(KB),defaultValues:{course_id:"",instructor_id:"",room_id:"",start_date:"",end_date:"",max_students:5,schedule:[{day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}]}}),{fields:j,append:E,remove:S}=uc({control:b.control,name:"schedule"});f.useEffect(()=>{u&&b.reset({course_id:u.course_id||"",instructor_id:u.instructor_id||"",room_id:u.room_id||"",start_date:u.start_date?u.start_date.split("T")[0]:"",end_date:u.end_date?u.end_date.split("T")[0]:"",max_students:u.max_students||5,schedule:u.schedule||u.slots||[{day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}]})},[u,b]);const R=ht({mutationFn:({id:$,data:K})=>Re.put(`/api/admin/schedules/${$}`,K),onSuccess:()=>{p.invalidateQueries({queryKey:Fe.schedules()}),a(!1),d(null),b.reset(),h({title:"Success",description:"Schedule updated successfully"})},onError:$=>{var K,he;h({variant:"destructive",title:"Error",description:((he=(K=$.response)==null?void 0:K.data)==null?void 0:he.message)||"Failed to update schedule"})}}),D=ht({mutationFn:$=>Re.delete(`/api/admin/schedules/${$}`),onSuccess:()=>{p.invalidateQueries({queryKey:Fe.schedules()}),c(!1),d(null),h({title:"Success",description:"Schedule deleted successfully"})},onError:$=>{var K,he;h({variant:"destructive",title:"Error",description:((he=(K=$.response)==null?void 0:K.data)==null?void 0:he.message)||"Failed to delete schedule"})}}),T=$=>{d($),a(!0)},C=$=>{d($),c(!0)};function A($){u&&R.mutate({id:u.id,data:$})}const F=y||[],z=(w==null?void 0:w.instructors)||w||[],H=x||[],J={};F.forEach($=>{$&&$.id&&(J[$.id]=$.title||$.name||$.id)});const ce={};z.forEach($=>{if($){const K=$.user_id||$.id;ce[K]=$.full_name||$.name||K}});const P={};if(H.forEach($=>{$&&$.id&&(P[$.id]=$.name||$.id)}),g)return o.jsx(In,{columnCount:6,rowCount:10});if(m)return o.jsx("div",{className:"p-4 text-red-500",children:"Error loading schedules"});const ie=(Array.isArray(v)?v:(v==null?void 0:v.data)||[]).filter($=>{const K=!r||r==="undefined"||r==="null"||String($.course_id)===String(r),he=!n||n==="undefined"||n==="null"||String($.instructor_id)===String(n),Oe=!s||s==="undefined"||s==="null"||String($.room_id)===String(s);return K&&he&&Oe});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx(re,{variant:"outline",size:"icon",onClick:()=>e("/schedules"),children:o.jsx($P,{className:"h-4 w-4"})}),o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Schedule Details"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-6",children:[o.jsxs(kt,{children:[o.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(It,{className:"text-sm font-medium",children:"Course"}),o.jsx(Sd,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Nt,{children:o.jsx("div",{className:"text-lg font-bold truncate",title:r?J[r]||r:"All Courses",children:r?J[r]||r:"All Courses"})})]}),o.jsxs(kt,{children:[o.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(It,{className:"text-sm font-medium",children:"Instructor"}),o.jsx(ZP,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Nt,{children:o.jsx("div",{className:"text-lg font-bold truncate",title:n?ce[n]||n:"All Instructors",children:n?ce[n]||n:"All Instructors"})})]}),o.jsxs(kt,{children:[o.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(It,{className:"text-sm font-medium",children:"Room"}),o.jsx(KP,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Nt,{children:o.jsx("div",{className:"text-lg font-bold truncate",title:s?P[s]||s:"All Rooms",children:s?P[s]||s:"All Rooms"})})]})]}),o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Date Range"}),o.jsx(xe,{children:"Max Students"}),o.jsx(xe,{children:"Sessions"}),o.jsx(xe,{className:"text-right",children:"Actions"})]})}),o.jsx(Jr,{children:ie.length>0?ie.map($=>{var K;return o.jsxs(Ye,{children:[o.jsx(pe,{children:$.start_date?`${new Date($.start_date).toLocaleDateString()} - ${$.end_date?new Date($.end_date).toLocaleDateString():""}`:$.start_time?new Date($.start_time).toLocaleDateString():"-"}),o.jsx(pe,{children:$.max_students||((K=$.rooms)==null?void 0:K.capacity)||"-"}),o.jsx(pe,{children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[($.schedule||$.slots||[]).map((he,Oe)=>{var q,X,ne,Ae;return o.jsxs(Xn,{variant:"secondary",children:[((q=he.day_of_week)==null?void 0:q.charAt(0).toUpperCase())+((X=he.day_of_week)==null?void 0:X.slice(1))," ",(ne=he.start_time)==null?void 0:ne.slice(0,5),"-",(Ae=he.end_time)==null?void 0:Ae.slice(0,5)]},Oe)}),!$.schedule&&!$.slots&&$.start_time&&$.end_time&&o.jsxs(Xn,{variant:"secondary",children:[new Date($.start_time).toLocaleDateString("en-US",{weekday:"long"})," ",new Date($.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),"-",new Date($.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})]})]})}),o.jsxs(pe,{className:"text-right space-x-1",children:[o.jsx(re,{variant:"ghost",size:"icon",onClick:()=>T($),title:"Edit",children:o.jsx(Nc,{className:"h-4 w-4"})}),o.jsx(re,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>C($),title:"Delete",children:o.jsx(Zn,{className:"h-4 w-4"})})]})]},$.id)}):o.jsx(Ye,{children:o.jsx(pe,{colSpan:4,className:"text-center py-4 text-gray-500",children:"No schedules found for this group."})})})]})}),o.jsx(Rt,{open:i,onOpenChange:a,children:o.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Edit Schedule"}),o.jsx(Jt,{children:"Update schedule information."})]}),o.jsx(ir,{...b,children:o.jsxs("form",{onSubmit:b.handleSubmit(A),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:b.control,name:"course_id",render:({field:$})=>o.jsxs(U,{children:[o.jsx(W,{children:"Course"}),o.jsxs(nt,{onValueChange:$.onChange,value:$.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select course"})})}),o.jsx(et,{children:F.map(K=>o.jsx(Ue,{value:K.id,children:K.title||K.name},K.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:b.control,name:"instructor_id",render:({field:$})=>o.jsxs(U,{children:[o.jsx(W,{children:"Instructor"}),o.jsxs(nt,{onValueChange:$.onChange,value:$.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select instructor"})})}),o.jsx(et,{children:z.map(K=>o.jsx(Ue,{value:K.user_id||K.id,children:K.full_name||K.name},K.user_id||K.id))})]}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:b.control,name:"room_id",render:({field:$})=>o.jsxs(U,{children:[o.jsx(W,{children:"Room"}),o.jsxs(nt,{onValueChange:$.onChange,value:$.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select room"})})}),o.jsx(et,{children:H.map(K=>o.jsx(Ue,{value:K.id,children:K.name},K.id))})]}),o.jsx(G,{})]})}),o.jsx(V,{control:b.control,name:"max_students",render:({field:$})=>o.jsxs(U,{children:[o.jsx(W,{children:"Max Students"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...$})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(V,{control:b.control,name:"start_date",render:({field:$})=>o.jsxs(U,{children:[o.jsx(W,{children:"Start Date"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...$})}),o.jsx(G,{})]})}),o.jsx(V,{control:b.control,name:"end_date",render:({field:$})=>o.jsxs(U,{children:[o.jsx(W,{children:"End Date"}),o.jsx(B,{children:o.jsx(Y,{type:"date",...$})}),o.jsx(G,{})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Schedule Slots"}),o.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>E({day_of_week:"monday",start_time:"09:00",end_time:"10:00",duration:60}),children:[o.jsx(dn,{className:"h-4 w-4 mr-2"})," Add Slot"]})]}),j.map(($,K)=>o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end border p-2 rounded",children:[o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:b.control,name:`schedule.${K}.day_of_week`,render:({field:he})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Day"}),o.jsxs(nt,{onValueChange:he.onChange,value:he.value,children:[o.jsx(B,{children:o.jsx(Xe,{children:o.jsx(st,{})})}),o.jsx(et,{children:_.map(Oe=>o.jsx(Ue,{value:Oe,children:Oe.charAt(0).toUpperCase()+Oe.slice(1)},Oe))})]}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:b.control,name:`schedule.${K}.start_time`,render:({field:he})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Start"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...he})}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx(V,{control:b.control,name:`schedule.${K}.end_time`,render:({field:he})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"End"}),o.jsx(B,{children:o.jsx(Y,{type:"time",...he})}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-2",children:o.jsx(V,{control:b.control,name:`schedule.${K}.duration`,render:({field:he})=>o.jsxs(U,{children:[o.jsx(W,{className:"text-xs",children:"Duration"}),o.jsx(B,{children:o.jsx(Y,{type:"number",...he})}),o.jsx(G,{})]})})}),o.jsx("div",{className:"col-span-1",children:j.length>1&&o.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>S(K),children:o.jsx(Zn,{className:"h-4 w-4"})})})]},$.id))]}),o.jsxs(Ht,{children:[o.jsx(re,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),o.jsx(re,{type:"submit",disabled:R.isPending,children:R.isPending?"Saving...":"Save Changes"})]})]})})]})}),o.jsx(Ro,{open:l,onOpenChange:c,children:o.jsxs(Si,{children:[o.jsxs(Ei,{children:[o.jsx(ki,{children:"Are you sure?"}),o.jsx(Ni,{children:"This will permanently delete this schedule. This action cannot be undone."})]}),o.jsxs(Ci,{children:[o.jsx(Ri,{children:"Cancel"}),o.jsx(Ti,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{u&&D.mutate(u.id)},children:D.isPending?"Deleting...":"Delete"})]})]})})]})}function QB(){const[t,e]=f.useState(""),[r,n]=f.useState(""),[s,i]=f.useState("summary"),{toast:a}=pr(),{data:l,isLoading:c,refetch:u}=Tn({queryKey:["activity-logs",t,r],queryFn:async()=>{const j=new URLSearchParams;return t&&j.append("from",t),r&&j.append("to",r),(await Re.get(`/api/admin/activity-logs?${j.toString()}`)).data},enabled:s==="activity"}),{data:d,isLoading:h,refetch:p}=Tn({queryKey:["revenue-report",t,r],queryFn:async()=>{const j=new URLSearchParams;return t&&j.append("from",t),r&&j.append("to",r),(await Re.get(`/api/admin/reports/revenue?${j.toString()}`)).data},enabled:s==="revenue"}),{data:v,isLoading:g,refetch:m}=Tn({queryKey:["dashboard-stats"],queryFn:async()=>(await Re.get("/api/admin/dashboard/stats")).data,enabled:s==="summary"}),y=()=>{s==="activity"?u():s==="revenue"?p():m(),a({title:"Refreshed",description:"Report data has been refreshed"})},w=()=>{let j=[],E="";if(s==="activity"&&l?(j=l,E=`activity-logs-${new Date().toISOString().split("T")[0]}.json`):s==="revenue"&&d?(j=d,E=`revenue-report-${new Date().toISOString().split("T")[0]}.json`):s==="summary"&&v&&(j=[v],E=`summary-report-${new Date().toISOString().split("T")[0]}.json`),j.length>0){const S=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),R=URL.createObjectURL(S),D=document.createElement("a");D.href=R,D.download=E,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(R),a({title:"Exported",description:`Report exported as ${E}`})}else a({variant:"destructive",title:"Error",description:"No data to export"})},x=j=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(j),_=j=>{switch(j.toLowerCase()){case"create":return"default";case"update":return"secondary";case"delete":return"destructive";default:return"outline"}},b=c||h||g;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Reports & Monitoring"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(re,{variant:"outline",onClick:y,disabled:b,children:[o.jsx(QP,{className:`mr-2 h-4 w-4 ${b?"animate-spin":""}`}),"Refresh"]}),o.jsxs(re,{variant:"outline",onClick:w,children:[o.jsx(qP,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),o.jsxs(kt,{children:[o.jsxs(Pt,{children:[o.jsx(It,{children:"Report Filters"}),o.jsx(lo,{children:"Select report type and date range"})]}),o.jsx(Nt,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Report Type"}),o.jsxs(nt,{value:s,onValueChange:j=>i(j),children:[o.jsx(Xe,{children:o.jsx(st,{placeholder:"Select report type"})}),o.jsxs(et,{children:[o.jsx(Ue,{value:"summary",children:"Dashboard Summary"}),o.jsx(Ue,{value:"activity",children:"Activity Logs"}),o.jsx(Ue,{value:"revenue",children:"Revenue Report"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"From Date"}),o.jsx(Y,{type:"date",value:t,onChange:j=>e(j.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"To Date"}),o.jsx(Y,{type:"date",value:r,onChange:j=>n(j.target.value)})]}),o.jsx("div",{className:"flex items-end",children:o.jsx(re,{onClick:y,disabled:b,children:"Apply Filters"})})]})})]}),s==="summary"&&o.jsx("div",{className:"space-y-4",children:g?o.jsx($C,{}):v?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(kt,{children:[o.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(It,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(oS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Nt,{children:[o.jsx("div",{className:"text-2xl font-bold",children:x(v.total_revenue||0)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",v.total_bookings||0," bookings"]})]})]}),o.jsxs(kt,{children:[o.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(It,{className:"text-sm font-medium",children:"Total Students"}),o.jsx(aS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Nt,{children:[o.jsx("div",{className:"text-2xl font-bold",children:v.total_students||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active learners"})]})]}),o.jsxs(kt,{children:[o.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(It,{className:"text-sm font-medium",children:"Active Instructors"}),o.jsx(sS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Nt,{children:[o.jsx("div",{className:"text-2xl font-bold",children:v.active_instructors||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Teaching courses"})]})]}),o.jsxs(kt,{children:[o.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(It,{className:"text-sm font-medium",children:"Total Courses"}),o.jsx(UP,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Nt,{children:[o.jsx("div",{className:"text-2xl font-bold",children:v.total_courses||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Available courses"})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(kt,{children:[o.jsx(Pt,{children:o.jsx(It,{className:"text-sm font-medium",children:"Pending Bookings"})}),o.jsx(Nt,{children:o.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:v.pending_bookings||0})})]}),o.jsxs(kt,{children:[o.jsx(Pt,{children:o.jsx(It,{className:"text-sm font-medium",children:"Completed Bookings"})}),o.jsx(Nt,{children:o.jsx("div",{className:"text-3xl font-bold text-green-600",children:v.completed_bookings||0})})]}),o.jsxs(kt,{children:[o.jsx(Pt,{children:o.jsx(It,{className:"text-sm font-medium",children:"Cancelled Bookings"})}),o.jsx(Nt,{children:o.jsx("div",{className:"text-3xl font-bold text-red-600",children:v.cancelled_bookings||0})})]})]})]}):o.jsx(kt,{children:o.jsx(Nt,{className:"py-8 text-center text-gray-500",children:"No summary data available. The dashboard stats endpoint may not be configured."})})}),s==="activity"&&o.jsxs(kt,{children:[o.jsxs(Pt,{children:[o.jsx(It,{children:"Activity Logs"}),o.jsx(lo,{children:"Recent admin activities in the system"})]}),o.jsx(Nt,{children:c?o.jsx(In,{columnCount:6,rowCount:5}):l&&l.length>0?o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Timestamp"}),o.jsx(xe,{children:"Action"}),o.jsx(xe,{children:"Entity Type"}),o.jsx(xe,{children:"Entity ID"}),o.jsx(xe,{children:"User"}),o.jsx(xe,{children:"Description"})]})}),o.jsx(Jr,{children:l.map(j=>{var E,S;return o.jsxs(Ye,{children:[o.jsx(pe,{className:"text-sm",children:new Date(j.timestamp||j.created_at).toLocaleString()}),o.jsx(pe,{children:o.jsx(Xn,{variant:_(j.action),children:j.action})}),o.jsx(pe,{className:"font-medium",children:j.entity_type}),o.jsxs(pe,{className:"text-xs font-mono",children:[(E=j.entity_id)==null?void 0:E.substring(0,8),"..."]}),o.jsx(pe,{className:"text-sm",children:j.user_email||((S=j.user_id)==null?void 0:S.substring(0,8))||"-"}),o.jsx(pe,{className:"text-sm text-gray-600 max-w-xs truncate",children:j.description||"-"})]},j.id)})})]})}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No activity logs found. Activity logs may not be configured or no activities recorded yet."})})]}),s==="revenue"&&o.jsxs(kt,{children:[o.jsxs(Pt,{children:[o.jsx(It,{children:"Revenue Report"}),o.jsx(lo,{children:"Revenue breakdown by period"})]}),o.jsx(Nt,{children:h?o.jsx(In,{columnCount:5,rowCount:5}):d&&d.length>0?o.jsx("div",{className:"border rounded-md",children:o.jsxs(Gr,{children:[o.jsx(Qr,{children:o.jsxs(Ye,{children:[o.jsx(xe,{children:"Period"}),o.jsx(xe,{className:"text-right",children:"Total Revenue"}),o.jsx(xe,{className:"text-right",children:"Booking Count"}),o.jsx(xe,{className:"text-right",children:"Course Revenue"}),o.jsx(xe,{className:"text-right",children:"Avg per Booking"})]})}),o.jsx(Jr,{children:d.map((j,E)=>o.jsxs(Ye,{children:[o.jsx(pe,{className:"font-medium",children:j.period}),o.jsx(pe,{className:"text-right",children:x(j.total_revenue)}),o.jsx(pe,{className:"text-right",children:j.booking_count}),o.jsx(pe,{className:"text-right",children:x(j.course_revenue)}),o.jsx(pe,{className:"text-right",children:x(j.average_per_booking)})]},E))})]})}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No revenue data found. Revenue reports may not be configured or no revenue recorded yet."})})]})]})}const JB=new XO({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!0}}});function ZB(){return o.jsxs(eA,{client:JB,children:[o.jsx(CO,{children:o.jsxs(vO,{children:[o.jsx(lr,{path:"/login",element:o.jsx(GF,{})}),o.jsx(lr,{element:o.jsx(w4,{}),children:o.jsxs(lr,{element:o.jsx(x4,{}),children:[o.jsx(lr,{path:"/",element:o.jsx(JF,{})}),o.jsx(lr,{path:"/users",element:o.jsx(qB,{})}),o.jsx(lr,{path:"/students",element:o.jsx(kB,{})}),o.jsx(lr,{path:"/students-fe",element:o.jsx(TB,{})}),o.jsx(lr,{path:"/instructors",element:o.jsx(MB,{})}),o.jsx(lr,{path:"/rooms",element:o.jsx(BB,{})}),o.jsx(lr,{path:"/courses",element:o.jsx(LB,{})}),o.jsx(lr,{path:"/bookings",element:o.jsx(FB,{})}),o.jsx(lr,{path:"/schedules",element:o.jsx(HB,{})}),o.jsx(lr,{path:"/schedules/details",element:o.jsx(GB,{})}),o.jsx(lr,{path:"/reports",element:o.jsx(QB,{})})]})}),o.jsx(lr,{path:"*",element:o.jsx(yj,{to:"/",replace:!0})})]})}),o.jsx(MI,{})]})}np.createRoot(document.getElementById("root")).render(o.jsx(ge.StrictMode,{children:o.jsx(ZB,{})}));
